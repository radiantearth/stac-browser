{"version":3,"file":"js/3154.83e70a6b.js","mappings":"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","sources":["webpack://@radiantearth/stac-browser/./src/components/HrefActions.vue","webpack://@radiantearth/stac-browser/./src/actions/ActionPlugin.js","webpack://@radiantearth/stac-browser/./src/actions/AssetActionPlugin.js","webpack://@radiantearth/stac-browser/./src/actions/assets/CopcViewer.js","webpack://@radiantearth/stac-browser/./src/actions/assets/GeoJsonIo.js","webpack://@radiantearth/stac-browser/./assetActions.config.js","webpack://@radiantearth/stac-browser/./linkActions.config.js","webpack://@radiantearth/stac-browser/src/components/HrefActions.vue","webpack://@radiantearth/stac-browser/./src/components/HrefActions.vue?6c03","webpack://@radiantearth/stac-browser/./src/components/HrefActions.vue?3c8b","webpack://@radiantearth/stac-browser/./src/components/Links.vue","webpack://@radiantearth/stac-browser/./src/components/Link.vue","webpack://@radiantearth/stac-browser/src/components/Link.vue","webpack://@radiantearth/stac-browser/./src/components/Link.vue?a66e","webpack://@radiantearth/stac-browser/./src/components/Link.vue?d642","webpack://@radiantearth/stac-browser/src/components/Links.vue","webpack://@radiantearth/stac-browser/./src/components/Links.vue?cd35","webpack://@radiantearth/stac-browser/./src/components/Links.vue?142c"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.href)?_c('b-button-group',{staticClass:\"actions\",attrs:{\"vertical\":_vm.vertical,\"size\":_vm.size}},[(_vm.isBrowserProtocol && _vm.isAsset)?_c('b-button',{attrs:{\"href\":_vm.href,\"target\":\"_blank\",\"variant\":\"primary\"}},[(_vm.browserCanOpenFile)?_c('b-icon-box-arrow-up-right'):_c('b-icon-download'),_vm._v(\" \"+_vm._s(_vm.buttonText)+\" \")],1):_vm._e(),_c('CopyButton',{attrs:{\"variant\":\"primary\",\"copyText\":_vm.href}},[_vm._v(\" \"+_vm._s(_vm.copyButtonText)+\" \")]),(_vm.isAsset && _vm.canShow && !_vm.shown)?_c('b-button',{attrs:{\"variant\":\"primary\"},on:{\"click\":_vm.show}},[_c('b-icon-eye',{staticClass:\"mr-1\"}),(_vm.isThumbnail)?[_vm._v(_vm._s(_vm.$t('assets.showThumbnail')))]:[_vm._v(_vm._s(_vm.$t('assets.showOnMap')))]],2):_vm._e(),_vm._l((_vm.actions),function(action){return _c('b-button',_vm._b({key:action.id,attrs:{\"variant\":\"primary\"},on:{\"click\":action.onClick}},'b-button',action.btnOptions,false),[(action.icon)?_c(action.icon,{tag:\"component\",staticClass:\"mr-1\"}):_vm._e(),_vm._v(\" \"+_vm._s(action.text)+\" \")],1)})],2):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { BIconBoxArrowUpRight } from 'bootstrap-vue';\nimport URI from 'urijs';\n\nexport default class ActionPlugin {\n\n  constructor(id, component) {\n    this.id = id;\n    this.component = component;\n  }\n\n  get btnOptions() {\n    let href;\n    if (this.uri instanceof URI) {\n      href = this.uri.toString();\n    }\n    else if (typeof this.uri === 'string') {\n      href = this.uri;\n    }\n    if (href) {\n      return {\n        href,\n        target: '_blank'\n      };\n    }\n    return {};\n  }\n\n  get onClick() {\n    return () => {};\n  }\n\n  get uri() {\n    return null;\n  }\n\n  get show() {\n    return false;\n  }\n\n  get icon() {\n    return BIconBoxArrowUpRight;\n  }\n\n}\n","import ActionPlugin from './ActionPlugin';\n\nexport default class AssetActionPlugin extends ActionPlugin {\n\n  constructor(asset, component, id) {\n    super(id, component);\n    this.asset = asset;\n  }\n\n}\n","import AssetActionPlugin from \"../AssetActionPlugin\";\nimport URI from 'urijs';\nimport i18n from \"../../i18n\";\n\nexport default class CopcViewer extends AssetActionPlugin {\n\n  get show() {\n    return this.component.isBrowserProtocol && this.asset.type === 'application/vnd.laszip+copc';\n  }\n\n  get uri() {\n    let uri = new URI(\"https://viewer.copc.io\");\n    uri.addQuery('copc', this.component.href);\n    return uri;\n  }\n\n  get text() {\n    return i18n.t('actions.openIn', {service: 'copc.io'});\n  }\n\n}","import AssetActionPlugin from \"../AssetActionPlugin\";\nimport { geojsonMediaType } from \"../../utils\";\nimport URI from 'urijs';\nimport i18n from \"../../i18n\";\n\nexport default class GeoJsonIo extends AssetActionPlugin {\n\n  get show() {\n    return this.component.isBrowserProtocol && geojsonMediaType == this.asset.type;\n  }\n\n  get uri() {\n    // Docs: https://github.com/Cenergy/geojson.io/blob/main/API.md\n    let uri = new URI(\"https://geojson.io\");\n    uri.addQuery('data', `text/x-url,${this.component.href}`);\n    return uri;\n  }\n\n  get text() {\n    return i18n.t('actions.openIn', {service: 'geojson.io'});\n  }\n\n}","import CopcViewer from './src/actions/assets/CopcViewer.js';\nimport GeoJsonIo from './src/actions/assets/GeoJsonIo.js';\n//import Felt from './src/actions/assets/Felt.js';\n\nexport default {\n  CopcViewer,\n  GeoJsonIo,\n//Felt\n};","//import Felt from './src/actions/links/Felt.js';\n\nexport default {\n//Felt\n};","<template>\n  <b-button-group class=\"actions\" :vertical=\"vertical\" :size=\"size\" v-if=\"href\">\n    <b-button v-if=\"isBrowserProtocol && isAsset\" :href=\"href\" target=\"_blank\" variant=\"primary\">\n      <b-icon-box-arrow-up-right v-if=\"browserCanOpenFile\" /> \n      <b-icon-download v-else />\n      {{ buttonText }}\n    </b-button>\n    <CopyButton variant=\"primary\" :copyText=\"href\">\n      {{ copyButtonText }}\n    </CopyButton>\n    <b-button v-if=\"isAsset && canShow && !shown\" @click=\"show\" variant=\"primary\">\n      <b-icon-eye class=\"mr-1\" />\n      <template v-if=\"isThumbnail\">{{ $t('assets.showThumbnail') }}</template>\n      <template v-else>{{ $t('assets.showOnMap') }}</template>\n    </b-button>\n    <b-button v-for=\"action of actions\" v-bind=\"action.btnOptions\" :key=\"action.id\" variant=\"primary\" @click=\"action.onClick\">\n      <component v-if=\"action.icon\" :is=\"action.icon\" class=\"mr-1\" />\n      {{ action.text }}\n    </b-button>\n  </b-button-group>\n</template>\n\n\n<script>\nimport { BIconBoxArrowUpRight, BIconDownload, BIconEye } from 'bootstrap-vue';\nimport Description from './Description.vue';\nimport STAC from '../models/stac';\nimport Utils, { browserProtocols, imageMediaTypes, mapMediaTypes } from '../utils';\nimport { mapGetters } from 'vuex';\nimport AssetActions from '../../assetActions.config';\nimport LinkActions from '../../linkActions.config';\n\nexport default {\n  name: 'HrefActions',\n  components: {\n    BIconBoxArrowUpRight,\n    BIconDownload,\n    BIconEye,\n    CopyButton: () => import('./CopyButton.vue'),\n    Description,\n    Metadata: () => import('./Metadata.vue')\n  },\n  props: {\n    data: {\n      type: Object,\n      required: true\n    },\n    isAsset: {\n      type: Boolean,\n      default: false\n    },\n    vertical: {\n      type: Boolean,\n      default: false\n    },\n    size: {\n      type: String,\n      default: 'md'\n    },\n    shown: {\n      type: Boolean,\n      default: false\n    }\n  },\n  computed: {\n    ...mapGetters(['getRequestUrl']),\n    actions() {\n      return Object.entries(this.isAsset ? AssetActions : LinkActions)\n        .map(([id, plugin]) => new plugin(this.data, this, id))\n        .filter(plugin => plugin.show);\n    },\n    canShow() {\n      // We need to know the type, otherwise we don't even try to show it\n      if (typeof this.data.type !== 'string') {\n        return false;\n      }\n      // If the tile renderer is a tile server, we can't really know what it supports so we pass all images\n      else if (this.tileRendererType === 'server' && imageMediaTypes.includes(this.data.type)) {\n        return true;\n      }\n      // Don't pass GDAL VFS URIs to client-side tile renderer: https://github.com/radiantearth/stac-browser/issues/116\n      else if (this.isGdalVfs && this.tileRendererType === 'client') {\n        return false;\n      }\n      // Only http(s) links and relative links are supported\n      else if (!this.isBrowserProtocol) {\n        return false;\n      }\n      // Otherwise, all images that a browser can read are supported + JSON\n      else if (mapMediaTypes.includes(this.data.type)) {\n        return true;\n      }\n      return false;\n    },\n    protocol() {\n      if (typeof this.href === 'string') {\n        if (this.href) {\n          let match = this.href.match(/^(\\w+):\\/\\//);\n          if (match) {\n            return match[1].toLowerCase();\n          }\n        }\n      }\n      return null;\n    },\n    isBrowserProtocol() {\n      return (!this.protocol && !this.isGdalVfs) || browserProtocols.includes(this.protocol);\n    },\n    isThumbnail() {\n      if (this.isAsset) {\n        return Array.isArray(this.data.roles) && this.data.roles.includes('thumbnail');\n      }\n      else {\n        return this.data.rel === 'preview' && Utils.canBrowserDisplayImage(this.data);\n      }\n    },\n    isGdalVfs() {\n      return Utils.isGdalVfsUri(this.data.href);\n    },\n    href() {\n      if (typeof this.data.href !== 'string') {\n        return null;\n      }\n      let baseUrl = null;\n      if (this.context instanceof STAC) {\n        baseUrl = this.context.getAbsoluteUrl();\n      }\n      return this.getRequestUrl(this.data.href, baseUrl);\n    },\n    from() {\n      if (this.isGdalVfs) {\n        let type = this.data.href.match(/^\\/vsi([a-z\\d]+)(_streaming)?\\//);\n        return this.protocolName(type);\n      }\n      else {\n        return this.protocolName(this.protocol);\n      }\n    },\n    browserCanOpenFile() {\n      if (this.isGdalVfs)  {\n        return false;\n      }\n      if (Utils.canBrowserDisplayImage(this.data)) {\n        return true;\n      }\n      else if (typeof this.data.type === 'string') {\n        switch(this.data.type.toLowerCase()) {\n          case 'text/html':\n          case 'application/xhtml+xml':\n          case 'text/plain':\n          case 'application/pdf':\n            return true;\n        }\n      }\n      return false;\n    },\n    buttonText() {\n      if (this.browserCanOpenFile && this.isBrowserProtocol) {\n        return this.$t('open');\n      }\n      let where = (!this.isBrowserProtocol && this.from) ? 'withSource' : 'generic';\n      return this.$t(`assets.download.${where}`, {source: this.from});\n    },\n    copyButtonText() {\n      let what = this.isGdalVfs ? 'copyGdalVfsUrl' : 'copyUrl';\n      let where = (!this.isBrowserProtocol && this.from) ? 'withSource' : 'generic';\n      return this.$t(`assets.${what}.${where}`, {source: this.from});\n    }\n  },\n  methods: {\n    protocolName(protocol) {\n      if (typeof protocol !== 'string') {\n        return '';\n      }\n      switch(protocol.toLowerCase()) {\n        case 's3':\n          return this.$t('protocol.s3');\n        case 'abfs':\n        case 'abfss':\n          return this.$t('protocol.azure');\n        case 'gcs':\n          return this.$t('protocol.gcs');\n        case 'ftp':\n          return this.$t('protocol.ftp');\n        case 'oss':\n          return this.$t('protocol.oss');\n        case 'file':\n          return this.$t('protocol.file');\n      }\n      return '';\n    },\n    show() {\n      let data = Object.assign({}, this.data);\n      // Override asset href with absolute URL if not a GDAL VFS\n      if (!this.isGdalVfs) {\n        data.href = this.href;\n      }\n      this.$emit('show', data, this.id, this.isThumbnail);\n    }\n  }\n};\n</script>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./HrefActions.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./HrefActions.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HrefActions.vue?vue&type=template&id=53be6a8f&\"\nimport script from \"./HrefActions.vue?vue&type=script&lang=js&\"\nexport * from \"./HrefActions.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',{staticClass:\"links mb-4\"},[(_vm.title)?_c('h2',[_vm._v(_vm._s(_vm.title))]):_vm._e(),(_vm.hasGroups)?_vm._l((_vm.groups),function(group){return _c('div',{key:group.rel,staticClass:\"group\"},[(group.rel)?_c('h4',[_vm._v(_vm._s(group.label))]):_vm._e(),_c('ul',_vm._l((group.links),function(link,key){return _c('Link',{key:key,attrs:{\"link\":link,\"fallbackTitle\":() => _vm.fallbackTitle(link)}})}),1)])}):_c('ul',_vm._l((_vm.links),function(link,key){return _c('Link',{key:key,attrs:{\"link\":link,\"fallbackTitle\":() => _vm.fallbackTitle(link)}})}),1)],2)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('li',[_c('StacLink',{staticClass:\"pr-1\",attrs:{\"id\":_vm.popoverId,\"data\":_vm.link,\"fallbackTitle\":_vm.fallbackTitle}}),_c('b-popover',{attrs:{\"target\":_vm.popoverId,\"triggers\":\"hover\",\"placement\":\"right\",\"container\":\"#stac-browser\"}},[_c('h6',{staticClass:\"small text-muted text-center\"},[_vm._v(_vm._s(_vm.$t('additionalActions')))]),_c('HrefActions',{attrs:{\"vertical\":\"\",\"data\":_vm.link,\"size\":\"sm\"}})],1)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <li>\n    <StacLink :id=\"popoverId\" :data=\"link\" :fallbackTitle=\"fallbackTitle\" class=\"pr-1\" />\n    <b-popover :target=\"popoverId\" triggers=\"hover\" placement=\"right\" container=\"#stac-browser\">\n      <h6 class=\"small text-muted text-center\">{{ $t('additionalActions') }}</h6>\n      <HrefActions vertical :data=\"link\" size=\"sm\" />\n    </b-popover>\n  </li>\n</template>\n\n<script>\nimport HrefActions from './HrefActions.vue';\nimport StacLink from './StacLink.vue';\nimport { BPopover } from 'bootstrap-vue';\n\nlet linkId = 0;\n\nexport default {\n  name: \"Link\",\n  components: {\n    BPopover,\n    HrefActions,\n    StacLink\n  },\n  props: {\n    link: {\n      type: Object,\n      required: true\n    },\n    fallbackTitle: {\n      type: Function,\n      required: true\n    }\n  },\n  computed: {\n    popoverId() {\n      return \"popover-link-\" + linkId;\n    }\n  },\n  beforeCreate() {\n    linkId++;\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Link.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Link.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Link.vue?vue&type=template&id=7de61bde&\"\nimport script from \"./Link.vue?vue&type=script&lang=js&\"\nexport * from \"./Link.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <section class=\"links mb-4\">\n    <h2 v-if=\"title\">{{ title }}</h2>\n    <template v-if=\"hasGroups\">\n      <div class=\"group\" v-for=\"group in groups\" :key=\"group.rel\">\n        <h4 v-if=\"group.rel\">{{ group.label }}</h4>\n        <ul>\n          <Link v-for=\"(link, key) in group.links\" :key=\"key\" :link=\"link\" :fallbackTitle=\"() => fallbackTitle(link)\" />\n        </ul>\n      </div>\n    </template>\n    <ul v-else>\n      <Link v-for=\"(link, key) in links\" :key=\"key\" :link=\"link\" :fallbackTitle=\"() => fallbackTitle(link)\" />\n    </ul>\n  </section>\n</template>\n\n<script>\nimport Link from './Link.vue';\nimport { Fields } from '@radiantearth/stac-fields';\nimport { formatKey } from '@radiantearth/stac-fields/helper';\nimport { ogcRelPrefix } from '../rels';\nimport Utils from '../utils';\nimport { translateFields } from '../i18n';\nimport { mapState } from 'vuex';\n\n\nexport default {\n  name: \"Links\",\n  components: {\n    Link\n  },\n  props: {\n    title: {\n      type: String,\n      default: null\n    },\n    links: {\n      type: Array,\n      default: () => ([])\n    }\n  },\n  computed: {\n    ...mapState(['uiLanguage']),\n    groups() {\n      let groups = this.links.reduce((summary, link) => {\n        let rel = typeof link.rel === 'string' ? link.rel.toLowerCase() : \"\";\n        if (rel in summary) {\n          summary[rel].links.push(link);\n        }\n        else {\n          summary[rel] = {\n            rel: rel,\n            label: this.formatRel(rel),\n            links: [link]\n          };\n        }\n        return summary;\n      }, {});\n      return Object.values(groups).sort((g1, g2) => g1.label.localeCompare(g2.label, this.uiLanguage));\n    },\n    hasGroups() {\n      return this.groups.some(group => group.rel.length > 0 && group.links.length >= 2);\n    }\n  },\n  methods: {\n    formatRel(rel) {\n      let lc = typeof rel === 'string' ? rel.toLowerCase() : \"\";\n      if (lc in Fields.links.rel.mapping) {\n        return translateFields(Fields.links.rel.mapping[lc]);\n      }\n      else {\n        if (rel.startsWith(ogcRelPrefix)) {\n          rel = rel.substr(ogcRelPrefix.length);\n        }\n        return formatKey(rel);\n      }\n    },\n    fallbackTitle(link) {\n      let title = Utils.titleForHref(link.href);\n      if (this.hasGroups) {\n        return title;\n      }\n      else {\n        let rel = this.formatRel(link.rel);\n        return `${rel}: ${title}`;\n      }\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n#stac-browser .links {\n  ul {\n    list-style-type: '-';\n    margin: 0 0 1em 1em;\n    padding: 0;\n\n    > li {\n      margin-bottom: 0.2em;\n      padding-left: 0.5em;\n    }\n  }\n}\n</style>","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Links.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Links.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Links.vue?vue&type=template&id=28209b06&\"\nimport script from \"./Links.vue?vue&type=script&lang=js&\"\nexport * from \"./Links.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Links.vue?vue&type=style&index=0&id=28209b06&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","href","staticClass","attrs","vertical","size","isBrowserProtocol","isAsset","browserCanOpenFile","_v","_s","buttonText","_e","copyButtonText","canShow","shown","on","show","isThumbnail","$t","_l","actions","action","_b","key","id","onClick","btnOptions","icon","tag","text","staticRenderFns","ActionPlugin","constructor","component","uri","URI","toString","target","BIconBoxArrowUpRight","AssetActionPlugin","asset","super","CopcViewer","type","addQuery","i18n","t","service","GeoJsonIo","geojsonMediaType","name","components","BIconDownload","BIconEye","CopyButton","Description","Metadata","props","data","Object","required","Boolean","default","String","computed","mapGetters","entries","AssetActions","LinkActions","map","plugin","filter","tileRendererType","imageMediaTypes","includes","isGdalVfs","mapMediaTypes","protocol","match","toLowerCase","browserProtocols","Array","isArray","roles","rel","Utils","canBrowserDisplayImage","isGdalVfsUri","baseUrl","context","STAC","getAbsoluteUrl","getRequestUrl","from","protocolName","where","source","what","methods","assign","$emit","title","hasGroups","groups","group","label","links","link","fallbackTitle","popoverId","linkId","BPopover","HrefActions","StacLink","Function","beforeCreate","Link","mapState","reduce","summary","push","formatRel","values","sort","g1","g2","localeCompare","uiLanguage","some","length","lc","Fields","mapping","translateFields","startsWith","ogcRelPrefix","substr","formatKey","titleForHref"],"sourceRoot":""}