"use strict";(self["webpackChunk_radiantearth_stac_browser"]=self["webpackChunk_radiantearth_stac_browser"]||[]).push([[850,2728,6131,6164,8469,8512],{18469:function(t,e,i){i.r(e),e["default"]={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"}},28512:function(t,e,i){i.r(e);var r=i(40190),s=i(11078),o=i(6837),n=i(38599),l=i(97404),a=i(4863),h=i(4087),c=i(46164);class u extends c["default"]{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:d,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,interpolate:void 0===t.interpolate||t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.crossOrigin=void 0!==t.crossOrigin?t.crossOrigin:null,this.tileClass=void 0!==t.tileClass?t.tileClass:r.A,this.tileGridForProjection={},this.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}getGutterForProjection(t){return this.getProjection()&&t&&!(0,n.tI)(this.getProjection(),t)?0:this.getGutter()}getGutter(){return 0}getKey(){let t=super.getKey();return this.getInterpolate()||(t+=":disable-interpolation"),t}getTileGridForProjection(t){const e=this.getProjection();if(this.tileGrid&&(!e||(0,n.tI)(e,t)))return this.tileGrid;const i=(0,h.v6)(t);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=(0,a.pr)(t)),this.tileGridForProjection[i]}createTile_(t,e,i,r,n,l){const a=[t,e,i],h=this.getTileCoordForTileUrlFunction(a,n),c=h?this.tileUrlFunction(h,r,n):void 0,u=new this.tileClass(a,void 0!==c?s.A.IDLE:s.A.EMPTY,void 0!==c?c:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return u.key=l,u.addEventListener(o.A.CHANGE,this.handleTileChange.bind(this)),u}getTile(t,e,i,r,s){const o=this.getProjection();if(!o||!s||(0,n.tI)(o,s))return this.getTileInternal(t,e,i,r,o||s);const a=[t,e,i],h=this.getKey(),c=this.getTileGridForProjection(o),u=this.getTileGridForProjection(s),d=this.getTileCoordForTileUrlFunction(a,s),g=new l.A(o,c,s,u,a,d,this.getTilePixelRatio(r),this.getGutter(),(t,e,i,r)=>this.getTileInternal(t,e,i,r,o),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return g.key=h,g}getTileInternal(t,e,i,r,s){const o=this.getKey();return this.createTile_(t,e,i,r,s,o)}setRenderReprojectionEdges(t){this.renderReprojectionEdges_!=t&&(this.renderReprojectionEdges_=t,this.changed())}setTileGridForProjection(t,e){const i=(0,n.Jt)(t);if(i){const t=(0,h.v6)(i);t in this.tileGridForProjection||(this.tileGridForProjection[t]=e)}}}function d(t,e){t.getImage().src=e}e["default"]=u},46164:function(t,e,i){i.r(e);var r=i(11078),s=i(42654),o=i(14465),n=i(4087),l=i(66017),a=i(18469);class h extends l["default"]{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===h.prototype.tileUrlFunction,this.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(this.tileUrlFunction=t.tileUrlFunction),this.urls=null,t.urls?this.setUrls(t.urls):t.url&&this.setUrl(t.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(t){const e=t.target,i=(0,n.v6)(e),s=e.getState();let o;s==r.A.LOADING?(this.tileLoadingKeys_[i]=!0,o=a["default"].TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],o=s==r.A.ERROR?a["default"].TILELOADERROR:s==r.A.LOADED?a["default"].TILELOADEND:void 0),void 0!=o&&this.dispatchEvent(new l.TileSourceEvent(o,e))}setTileLoadFunction(t){this.tileLoadFunction=t,this.changed()}setTileUrlFunction(t,e){this.tileUrlFunction=t,"undefined"!==typeof e?this.setKey(e):this.changed()}setUrl(t){const e=(0,o.Uu)(t);this.urls=e,this.setUrls(e)}setUrls(t){this.urls=t;const e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction((0,s.Qz)(t,this.tileGrid),e):this.setKey(e)}tileUrlFunction(t,e,i){}}e["default"]=h},82728:function(t,e,i){i.r(e);var r=i(70915),s=i(61597),o=i(38599),n=i(33513),l=i(82806),a=i(40186),h=i(14465),c=i(28512),u=i(7500);class d extends c["default"]{constructor(t){t=t||{};const e=Object.assign({},t.params);super({attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:t.interpolate,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:t.tileClass,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction,url:t.url,urls:t.urls,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition,zDirection:t.zDirection}),this.gutter_=void 0!==t.gutter?t.gutter:0,this.params_=e,this.v13_=!0,this.serverType_=t.serverType,this.hidpi_=void 0===t.hidpi||t.hidpi,this.tmpExtent_=(0,r.S5)(),this.updateV13_(),this.setKey(this.getKeyForParams_())}getFeatureInfoUrl(t,e,i,s){const l=(0,o.Jt)(i),a=this.getProjection()||l;let h=this.getTileGrid();h||(h=this.getTileGridForProjection(a));const c=(0,o.pd)(t,l,a),d=(0,n.KQ)(a,l,t,e),g=h.getZForResolution(d,this.zDirection),p=h.getResolution(g),_=h.getTileCoordForCoordAndZ(c,g);if(h.getResolutions().length<=_[0])return;let F=h.getTileCoordExtent(_,this.tmpExtent_);const T=this.gutter_;0!==T&&(F=(0,r.r)(F,p*T,F));const E={QUERY_LAYERS:this.params_["LAYERS"]};Object.assign(E,(0,u.getRequestParams)(this.params_,"GetFeatureInfo"),s);const R=Math.floor((c[0]-F[0])/p),j=Math.floor((F[3]-c[1])/p);return E[this.v13_?"I":"X"]=R,E[this.v13_?"J":"Y"]=j,this.getRequestUrl_(_,F,1,a||l,E)}getLegendUrl(t,e){if(void 0===this.urls[0])return;const i={SERVICE:"WMS",VERSION:u.DEFAULT_VERSION,REQUEST:"GetLegendGraphic",FORMAT:"image/png"};if(void 0===e||void 0===e["LAYER"]){const t=this.params_.LAYERS,e=!Array.isArray(t)||1===t.length;if(!e)return;i["LAYER"]=t}if(void 0!==t){const e=this.getProjection()?this.getProjection().getMetersPerUnit():1,r=28e-5;i["SCALE"]=t*e/r}return Object.assign(i,e),(0,h.LW)(this.urls[0],i)}getGutter(){return this.gutter_}getParams(){return this.params_}getRequestUrl_(t,e,i,r,o){const n=this.urls;if(!n)return;let l;if(1==n.length)l=n[0];else{const e=(0,s.xP)((0,a.tW)(t),n.length);l=n[e]}return(0,u.getImageSrc)(e,(this.tileGrid||this.getTileGridForProjection(r)).getResolution(t[0]),i,r,l,o,this.serverType_)}getTilePixelRatio(t){return this.hidpi_&&void 0!==this.serverType_?t:1}getKeyForParams_(){let t=0;const e=[];for(const i in this.params_)e[t++]=i+"-"+this.params_[i];return e.join("/")}setParams_(t){this.params_=t,this.updateV13_(),this.setKey(this.getKeyForParams_())}setParams(t){this.setParams_(Object.assign({},t))}updateParams(t){this.setParams_(Object.assign(this.params_,t))}updateV13_(){const t=this.params_["VERSION"]||u.DEFAULT_VERSION;this.v13_=(0,l.Z)(t,"1.3")>=0}tileUrlFunction(t,e,i){let s=this.getTileGrid();if(s||(s=this.getTileGridForProjection(i)),s.getResolutions().length<=t[0])return;1==e||this.hidpi_&&void 0!==this.serverType_||(e=1);const o=s.getResolution(t[0]);let n=s.getTileCoordExtent(t,this.tmpExtent_);const l=this.gutter_;0!==l&&(n=(0,r.r)(n,o*l,n));const a=Object.assign({},(0,u.getRequestParams)(this.params_,"GetMap"));return this.getRequestUrl_(t,n,e,i,a)}}e["default"]=d}}]);
//# sourceMappingURL=2728.09cff2ff.js.map