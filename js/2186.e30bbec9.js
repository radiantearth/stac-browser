"use strict";(self["webpackChunk_radiantearth_stac_browser"]=self["webpackChunk_radiantearth_stac_browser"]||[]).push([[850,2186,3666,6131,6164,8469,8512],{12186:function(t,e,i){i.r(e);var n=i(54422),r=i(28512),o=i(13666);class s extends r["default"]{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:t.interpolate,projection:t.projection,reprojectionErrorThreshold:t.reprojectionErrorThreshold,state:"loading",tileLoadFunction:t.tileLoadFunction,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition});const e={url:t.url,projection:this.getProjection(),mediaType:t.mediaType,context:t.context||null,collections:t.collections};(0,o.getTileSetInfo)(e).then(this.handleTileSetInfo_.bind(this)).catch(this.handleError_.bind(this))}handleTileSetInfo_(t){this.tileGrid=t.grid,this.projection=t.projection,this.setTileUrlFunction(t.urlFunction,t.urlTemplate),this.setState("ready")}handleError_(t){(0,n.z3)(t),this.setState("error")}}e["default"]=s},13666:function(t,e,i){i.r(e),i.d(e,{appendCollectionsQueryParam:function(){return u},getMapTileUrlTemplate:function(){return d},getTileSetInfo:function(){return g},getVectorTileUrlTemplate:function(){return h}});var n=i(54422),r=i(70915),o=i(77076),s=i(38599),l=i(56758);const c={"image/png":!0,"image/jpeg":!0,"image/gif":!0,"image/webp":!0},a={"application/vnd.mapbox-vector-tile":!0,"application/geo+json":!0};function u(t,e){if(!e.length)return t;const i=new URL(t,"file:/");if(i.pathname.split("/").includes("collections"))return(0,n.z3)('The "collections" query parameter cannot be added to collection endpoints'),t;const r=e.map(t=>encodeURIComponent(t)).join(",");i.searchParams.append("collections",r);const o=t.split("?")[0],s=decodeURIComponent(i.searchParams.toString());return`${o}?${s}`}function d(t,e,i){let n,r;for(let o=0;o<t.length;++o){const i=t[o];if("item"===i.rel){if(i.type===e){n=i.href;break}(c[i.type]||!r&&i.type.startsWith("image/"))&&(r=i.href)}}if(!n){if(!r)throw new Error('Could not find "item" link');n=r}return i&&(n=u(n,i)),n}function h(t,e,i,n){let r,o;const s={};for(let l=0;l<t.length;++l){const i=t[l];if(s[i.type]=i.href,"item"===i.rel){if(i.type===e){r=i.href;break}a[i.type]&&(o=i.href)}}if(!r&&i)for(let l=0;l<i.length;++l){const t=i[l];if(s[t]){r=s[t];break}}if(!r){if(!o)throw new Error('Could not find "item" link');r=o}return n&&(r=u(r,n)),r}function p(t,e,i,n){let c=t.projection;if(!c&&("string"===typeof e.crs?c=(0,s.Jt)(e.crs):"uri"in e.crs&&(c=(0,s.Jt)(e.crs.uri)),!c))throw new Error(`Unsupported CRS: ${JSON.stringify(e.crs)}`);const a=e.orderedAxes,u=a?a.slice(0,2).map(t=>t.replace(/E|X|Lon/i,"e").replace(/N|Y|Lat/i,"n")).join(""):c.getAxisOrientation(),d=!u.startsWith("en"),h=e.tileMatrices,p={};for(let r=0;r<h.length;++r){const t=h[r];p[t.id]=t}const f={},g=[];if(n)for(let r=0;r<n.length;++r){const t=n[r],e=t.tileMatrix;g.push(e),f[e]=t}else for(let r=0;r<h.length;++r){const t=h[r].id;g.push(t)}const T=g.length,m=new Array(T),w=new Array(T),F=new Array(T),E=new Array(T),j=[-1/0,-1/0,1/0,1/0];for(let o=0;o<T;++o){const t=g[o],e=p[t],i=e.pointOfOrigin;m[o]=d?[i[1],i[0]]:i,w[o]=e.cellSize,F[o]=[e.matrixWidth,e.matrixHeight],E[o]=[e.tileWidth,e.tileHeight];const n=f[t];if(n){const t=e.cellSize*e.tileWidth,i=m[o][0]+n.minTileCol*t,s=m[o][0]+(n.maxTileCol+1)*t,l=e.cellSize*e.tileHeight,c="bottomLeft"===e.cornerOfOrigin;let a,u;c?(a=m[o][1]+n.minTileRow*l,u=m[o][1]+(n.maxTileRow+1)*l):(a=m[o][1]-(n.maxTileRow+1)*l,u=m[o][1]-n.minTileRow*l),(0,r._N)(j,[i,a,s,u],j)}}const y=new l.A({origins:m,resolutions:w,sizes:F,tileSizes:E,extent:n?j:void 0}),L=t.context,R=t.url;function U(t,e,r){if(!t)return;const s=g[t[0]],l=p[s],c="bottomLeft"===l.cornerOfOrigin,a={tileMatrix:s,tileCol:t[1],tileRow:c?-t[2]-1:t[2]};if(n){const t=f[l.id];if(a.tileCol<t.minTileCol||a.tileCol>t.maxTileCol||a.tileRow<t.minTileRow||a.tileRow>t.maxTileRow)return}Object.assign(a,L);const u=i.replace(/\{(\w+?)\}/g,function(t,e){return a[e]});return(0,o.O2)(R,u)}return{grid:y,projection:c,urlTemplate:i,urlFunction:U}}function f(t,e){const i=e.tileMatrixSetLimits;let n;if("map"===e.dataType)n=d(e.links,t.mediaType,t.collections);else{if("vector"!==e.dataType)throw new Error('Expected tileset data type to be "map" or "vector"');n=h(e.links,t.mediaType,t.supportedMediaTypes,t.collections)}if(e.tileMatrixSet)return p(t,e.tileMatrixSet,n,i);const r=e.links.find(t=>"http://www.opengis.net/def/rel/ogc/1.0/tiling-scheme"===t.rel);if(!r)throw new Error("Expected http://www.opengis.net/def/rel/ogc/1.0/tiling-scheme link or tileMatrixSet");const s=r.href,l=(0,o.O2)(t.url,s);return(0,o.hm)(l).then(function(e){return p(t,e,n,i)})}function g(t){return(0,o.hm)(t.url).then(function(e){return f(t,e)})}},18469:function(t,e,i){i.r(e),e["default"]={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"}},28512:function(t,e,i){i.r(e);var n=i(40190),r=i(11078),o=i(6837),s=i(38599),l=i(97404),c=i(4863),a=i(4087),u=i(46164);class d extends u["default"]{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:h,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,interpolate:void 0===t.interpolate||t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.crossOrigin=void 0!==t.crossOrigin?t.crossOrigin:null,this.tileClass=void 0!==t.tileClass?t.tileClass:n.A,this.tileGridForProjection={},this.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}getGutterForProjection(t){return this.getProjection()&&t&&!(0,s.tI)(this.getProjection(),t)?0:this.getGutter()}getGutter(){return 0}getKey(){let t=super.getKey();return this.getInterpolate()||(t+=":disable-interpolation"),t}getTileGridForProjection(t){const e=this.getProjection();if(this.tileGrid&&(!e||(0,s.tI)(e,t)))return this.tileGrid;const i=(0,a.v6)(t);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=(0,c.pr)(t)),this.tileGridForProjection[i]}createTile_(t,e,i,n,s,l){const c=[t,e,i],a=this.getTileCoordForTileUrlFunction(c,s),u=a?this.tileUrlFunction(a,n,s):void 0,d=new this.tileClass(c,void 0!==u?r.A.IDLE:r.A.EMPTY,void 0!==u?u:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return d.key=l,d.addEventListener(o.A.CHANGE,this.handleTileChange.bind(this)),d}getTile(t,e,i,n,r){const o=this.getProjection();if(!o||!r||(0,s.tI)(o,r))return this.getTileInternal(t,e,i,n,o||r);const c=[t,e,i],a=this.getKey(),u=this.getTileGridForProjection(o),d=this.getTileGridForProjection(r),h=this.getTileCoordForTileUrlFunction(c,r),p=new l.A(o,u,r,d,c,h,this.getTilePixelRatio(n),this.getGutter(),(t,e,i,n)=>this.getTileInternal(t,e,i,n,o),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return p.key=a,p}getTileInternal(t,e,i,n,r){const o=this.getKey();return this.createTile_(t,e,i,n,r,o)}setRenderReprojectionEdges(t){this.renderReprojectionEdges_!=t&&(this.renderReprojectionEdges_=t,this.changed())}setTileGridForProjection(t,e){const i=(0,s.Jt)(t);if(i){const t=(0,a.v6)(i);t in this.tileGridForProjection||(this.tileGridForProjection[t]=e)}}}function h(t,e){t.getImage().src=e}e["default"]=d},46164:function(t,e,i){i.r(e);var n=i(11078),r=i(42654),o=i(14465),s=i(4087),l=i(66017),c=i(18469);class a extends l["default"]{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===a.prototype.tileUrlFunction,this.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(this.tileUrlFunction=t.tileUrlFunction),this.urls=null,t.urls?this.setUrls(t.urls):t.url&&this.setUrl(t.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(t){const e=t.target,i=(0,s.v6)(e),r=e.getState();let o;r==n.A.LOADING?(this.tileLoadingKeys_[i]=!0,o=c["default"].TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],o=r==n.A.ERROR?c["default"].TILELOADERROR:r==n.A.LOADED?c["default"].TILELOADEND:void 0),void 0!=o&&this.dispatchEvent(new l.TileSourceEvent(o,e))}setTileLoadFunction(t){this.tileLoadFunction=t,this.changed()}setTileUrlFunction(t,e){this.tileUrlFunction=t,"undefined"!==typeof e?this.setKey(e):this.changed()}setUrl(t){const e=(0,o.Uu)(t);this.urls=e,this.setUrls(e)}setUrls(t){this.urls=t;const e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction((0,r.Qz)(t,this.tileGrid),e):this.setKey(e)}tileUrlFunction(t,e,i){}}e["default"]=a},77076:function(t,e,i){i.d(e,{FQ:function(){return r},O2:function(){return c},hm:function(){return l}});var n=i(4087);function r(t,e,i,r){const o=document.createElement("script"),s="olc_"+(0,n.v6)(e);function l(){delete window[s],o.parentNode.removeChild(o)}o.async=!0,o.src=t+(t.includes("?")?"&":"?")+(r||"callback")+"="+s;const c=setTimeout(function(){l(),i&&i()},1e4);window[s]=function(t){clearTimeout(c),l(),e(t)},document.head.appendChild(o)}class o extends Error{constructor(t){const e="Unexpected response status: "+t.status;super(e),this.name="ResponseError",this.response=t}}class s extends Error{constructor(t){super("Failed to issue request"),this.name="ClientError",this.client=t}}function l(t){return new Promise(function(e,i){function n(t){const n=t.target;if(!n.status||n.status>=200&&n.status<300){let t;try{t=JSON.parse(n.responseText)}catch(r){const t="Error parsing response text as JSON: "+r.message;return void i(new Error(t))}return void e(t)}i(new o(n))}function r(t){i(new s(t.target))}const l=new XMLHttpRequest;l.addEventListener("load",n),l.addEventListener("error",r),l.open("GET",t),l.setRequestHeader("Accept","application/json"),l.send()})}function c(t,e){return e.includes("://")?e:new URL(e,t).href}}}]);
//# sourceMappingURL=2186.e30bbec9.js.map