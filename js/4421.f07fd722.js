"use strict";(self["webpackChunk_radiantearth_stac_browser"]=self["webpackChunk_radiantearth_stac_browser"]||[]).push([[4421],{33513:function(t,i,e){e.d(i,{BV:function(){return c},KQ:function(){return d},XX:function(){return f},aY:function(){return _}});var n=e(68711),r=e(70915),s=e(61597),o=e(38599);let a;const c=[];function h(t,i,e,n,r){t.beginPath(),t.moveTo(0,0),t.lineTo(i,e),t.lineTo(n,r),t.closePath(),t.save(),t.clip(),t.fillRect(0,0,Math.max(i,n)+1,Math.max(e,r)),t.restore()}function u(t,i){return Math.abs(t[4*i]-210)>2||Math.abs(t[4*i+3]-191.25)>2}function l(){if(void 0===a){const t=(0,n.Y)(6,6,c);t.globalCompositeOperation="lighter",t.fillStyle="rgba(210, 0, 0, 0.75)",h(t,4,5,4,0),h(t,4,5,0,5);const i=t.getImageData(0,0,3,3).data;a=u(i,0)||u(i,4)||u(i,8),(0,n.Yg)(t),c.push(t.canvas)}return a}function d(t,i,e,n){const s=(0,o.pd)(e,i,t);let a=(0,o.hO)(i,n,e);const c=i.getMetersPerUnit();void 0!==c&&(a*=c);const h=t.getMetersPerUnit();void 0!==h&&(a/=h);const u=t.getExtent();if(!u||(0,r.Ym)(u,s)){const i=(0,o.hO)(t,a,s)/a;isFinite(i)&&i>0&&(a/=i)}return a}function _(t,i,e,n){const s=(0,r.q1)(e);let o=d(t,i,s,n);return(!isFinite(o)||o<=0)&&(0,r.sB)(e,function(e){return o=d(t,i,e,n),isFinite(o)&&o>0}),o}function f(t,i,e,o,a,h,u,d,_,f,g,m,W,x){const M=(0,n.Y)(Math.round(e*t),Math.round(e*i),c);if(m||(M.imageSmoothingEnabled=!1),0===_.length)return M.canvas;function p(t){return Math.round(t*e)/e}M.scale(e,e),M.globalCompositeOperation="lighter";const v=(0,r.S5)();let P;_.forEach(function(t,i,e){(0,r.X$)(v,t.extent)});const E=e/o,T=(m?1:1+Math.pow(2,-24))/E;if(!W||1!==_.length||0!==f){if(P=(0,n.Y)(Math.round((0,r.RG)(v)*E),Math.round((0,r.Oq)(v)*E),c),m||(P.imageSmoothingEnabled=!1),a&&x){const t=(a[0]-v[0])*E,i=-(a[3]-v[3])*E,e=(0,r.RG)(a)*E,n=(0,r.Oq)(a)*E;P.rect(t,i,e,n),P.clip()}_.forEach(function(t,i,e){if(t.image.width>0&&t.image.height>0){if(t.clipExtent){P.save();const i=(t.clipExtent[0]-v[0])*E,e=-(t.clipExtent[3]-v[3])*E,n=(0,r.RG)(t.clipExtent)*E,s=(0,r.Oq)(t.clipExtent)*E;P.rect(m?i:Math.round(i),m?e:Math.round(e),m?n:Math.round(i+n)-Math.round(i),m?s:Math.round(e+s)-Math.round(e)),P.clip()}const i=(t.extent[0]-v[0])*E,e=-(t.extent[3]-v[3])*E,n=(0,r.RG)(t.extent)*E,s=(0,r.Oq)(t.extent)*E;P.drawImage(t.image,f,f,t.image.width-2*f,t.image.height-2*f,m?i:Math.round(i),m?e:Math.round(e),m?n:Math.round(i+n)-Math.round(i),m?s:Math.round(e+s)-Math.round(e)),t.clipExtent&&P.restore()}})}const F=(0,r.Py)(u);return d.getTriangles().forEach(function(t,i,e){const n=t.source,o=t.target;let a=n[0][0],c=n[0][1],u=n[1][0],d=n[1][1],f=n[2][0],g=n[2][1];const W=p((o[0][0]-F[0])/h),x=p(-(o[0][1]-F[1])/h),E=p((o[1][0]-F[0])/h),b=p(-(o[1][1]-F[1])/h),I=p((o[2][0]-F[0])/h),S=p(-(o[2][1]-F[1])/h),j=a,G=c;a=0,c=0,u-=j,d-=G,f-=j,g-=G;const R=[[u,d,0,0,E-W],[f,g,0,0,I-W],[0,0,u,d,b-x],[0,0,f,g,S-x]],w=(0,s.KU)(R);if(!w)return;if(M.save(),M.beginPath(),l()||!m){M.moveTo(E,b);const t=4,i=W-E,e=x-b;for(let n=0;n<t;n++)M.lineTo(E+p((n+1)*i/t),b+p(n*e/(t-1))),n!=t-1&&M.lineTo(E+p((n+1)*i/t),b+p((n+1)*e/(t-1)));M.lineTo(I,S)}else M.moveTo(E,b),M.lineTo(W,x),M.lineTo(I,S);let O;if(M.clip(),M.transform(w[0],w[2],w[1],w[3],W,x),M.translate(v[0]-j,v[3]-G),P)O=P.canvas,M.scale(T,-T);else{const t=_[0],i=t.extent;O=t.image,M.scale((0,r.RG)(i)/O.width,-(0,r.Oq)(i)/O.height)}M.drawImage(O,0,0),M.restore()}),P&&((0,n.Yg)(P),c.push(P.canvas)),g&&(M.save(),M.globalCompositeOperation="source-over",M.strokeStyle="black",M.lineWidth=1,d.getTriangles().forEach(function(t,i,e){const n=t.target,r=(n[0][0]-F[0])/h,s=-(n[0][1]-F[1])/h,o=(n[1][0]-F[0])/h,a=-(n[1][1]-F[1])/h,c=(n[2][0]-F[0])/h,u=-(n[2][1]-F[1])/h;M.beginPath(),M.moveTo(o,a),M.lineTo(r,s),M.lineTo(c,u),M.closePath(),M.stroke()}),M.restore()),M.canvas}},52913:function(t,i,e){var n=e(70915),r=e(61597),s=e(38599),o=e(9703);const a=10,c=.25;class h{constructor(t,i,e,r,c,h,u){this.sourceProj_=t,this.targetProj_=i;let l={};const d=u?(0,s.HU)(t=>(0,o.Bb)(u,(0,s.pd)(t,this.targetProj_,this.sourceProj_))):(0,s.RG)(this.targetProj_,this.sourceProj_);this.transformInv_=function(t){const i=t[0]+"/"+t[1];return l[i]||(l[i]=d(t)),l[i]},this.maxSourceExtent_=r,this.errorThresholdSquared_=c*c,this.triangles_=[],this.wrapsXInSource_=!1,this.canWrapXInSource_=this.sourceProj_.canWrapX()&&!!r&&!!this.sourceProj_.getExtent()&&(0,n.RG)(r)>=(0,n.RG)(this.sourceProj_.getExtent()),this.sourceWorldWidth_=this.sourceProj_.getExtent()?(0,n.RG)(this.sourceProj_.getExtent()):null,this.targetWorldWidth_=this.targetProj_.getExtent()?(0,n.RG)(this.targetProj_.getExtent()):null;const _=(0,n.Py)(e),f=(0,n.WU)(e),g=(0,n.k_)(e),m=(0,n.R)(e),W=this.transformInv_(_),x=this.transformInv_(f),M=this.transformInv_(g),p=this.transformInv_(m),v=a+(h?Math.max(0,Math.ceil(Math.log2((0,n.UG)(e)/(h*h*256*256)))):0);if(this.addQuad_(_,f,g,m,W,x,M,p,v),this.wrapsXInSource_){let t=1/0;this.triangles_.forEach(function(i,e,n){t=Math.min(t,i.source[0][0],i.source[1][0],i.source[2][0])}),this.triangles_.forEach(i=>{if(Math.max(i.source[0][0],i.source[1][0],i.source[2][0])-t>this.sourceWorldWidth_/2){const e=[[i.source[0][0],i.source[0][1]],[i.source[1][0],i.source[1][1]],[i.source[2][0],i.source[2][1]]];e[0][0]-t>this.sourceWorldWidth_/2&&(e[0][0]-=this.sourceWorldWidth_),e[1][0]-t>this.sourceWorldWidth_/2&&(e[1][0]-=this.sourceWorldWidth_),e[2][0]-t>this.sourceWorldWidth_/2&&(e[2][0]-=this.sourceWorldWidth_);const n=Math.min(e[0][0],e[1][0],e[2][0]),r=Math.max(e[0][0],e[1][0],e[2][0]);r-n<this.sourceWorldWidth_/2&&(i.source=e)}})}l={}}addTriangle_(t,i,e,n,r,s){this.triangles_.push({source:[n,r,s],target:[t,i,e]})}addQuad_(t,i,e,s,o,a,h,u,l){const d=(0,n.Tr)([o,a,h,u]),_=this.sourceWorldWidth_?(0,n.RG)(d)/this.sourceWorldWidth_:null,f=this.sourceWorldWidth_,g=this.sourceProj_.canWrapX()&&_>.5&&_<1;let m=!1;if(l>0){if(this.targetProj_.isGlobal()&&this.targetWorldWidth_){const r=(0,n.Tr)([t,i,e,s]),o=(0,n.RG)(r)/this.targetWorldWidth_;m=o>c||m}!g&&this.sourceProj_.isGlobal()&&_&&(m=_>c||m)}if(!m&&this.maxSourceExtent_&&isFinite(d[0])&&isFinite(d[1])&&isFinite(d[2])&&isFinite(d[3])&&!(0,n.HY)(d,this.maxSourceExtent_))return;let W=0;if(!m&&(!isFinite(o[0])||!isFinite(o[1])||!isFinite(a[0])||!isFinite(a[1])||!isFinite(h[0])||!isFinite(h[1])||!isFinite(u[0])||!isFinite(u[1])))if(l>0)m=!0;else if(W=(isFinite(o[0])&&isFinite(o[1])?0:8)+(isFinite(a[0])&&isFinite(a[1])?0:4)+(isFinite(h[0])&&isFinite(h[1])?0:2)+(isFinite(u[0])&&isFinite(u[1])?0:1),1!=W&&2!=W&&4!=W&&8!=W)return;if(l>0){if(!m){const i=[(t[0]+e[0])/2,(t[1]+e[1])/2],n=this.transformInv_(i);let s;if(g){const t=((0,r.xP)(o[0],f)+(0,r.xP)(h[0],f))/2;s=t-(0,r.xP)(n[0],f)}else s=(o[0]+h[0])/2-n[0];const a=(o[1]+h[1])/2-n[1],c=s*s+a*a;m=c>this.errorThresholdSquared_}if(m){if(Math.abs(t[0]-e[0])<=Math.abs(t[1]-e[1])){const n=[(i[0]+e[0])/2,(i[1]+e[1])/2],r=this.transformInv_(n),c=[(s[0]+t[0])/2,(s[1]+t[1])/2],d=this.transformInv_(c);this.addQuad_(t,i,n,c,o,a,r,d,l-1),this.addQuad_(c,n,e,s,d,r,h,u,l-1)}else{const n=[(t[0]+i[0])/2,(t[1]+i[1])/2],r=this.transformInv_(n),c=[(e[0]+s[0])/2,(e[1]+s[1])/2],d=this.transformInv_(c);this.addQuad_(t,n,c,s,o,r,d,u,l-1),this.addQuad_(n,i,e,c,r,a,h,d,l-1)}return}}if(g){if(!this.canWrapXInSource_)return;this.wrapsXInSource_=!0}0==(11&W)&&this.addTriangle_(t,e,s,o,h,u),0==(14&W)&&this.addTriangle_(t,e,i,o,h,a),W&&(0==(13&W)&&this.addTriangle_(i,s,t,a,u,o),0==(7&W)&&this.addTriangle_(i,s,e,a,u,h))}calculateSourceExtent(){const t=(0,n.S5)();return this.triangles_.forEach(function(i,e,r){const s=i.source;(0,n.$C)(t,s[0]),(0,n.$C)(t,s[1]),(0,n.$C)(t,s[2])}),t}getTriangles(){return this.triangles_}}i.A=h},93101:function(t,i,e){e.d(i,{l:function(){return n}});const n=.5}}]);
//# sourceMappingURL=4421.f07fd722.js.map