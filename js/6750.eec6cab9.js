(self["webpackChunk_radiantearth_stac_browser"]=self["webpackChunk_radiantearth_stac_browser"]||[]).push([[6750],{6750:function(t,e,i){"use strict";i.r(e),i.d(e,{default:function(){return h}});var n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"chart mb-4"},[e(t.component,{tag:"component",attrs:{data:t.chartData,options:t.allOptions}})],1)},r=[],s=(i(44114),i(55288)),a=i(50697),o=i(50735),l=i(2566),u=i(44527),c=i(13468);c.t1.register(c.hE,c.m_,c.Jy,c.Bs,c.E8,c.PP,c.kc);var m={name:"StatsChart",components:{Bar:u.yP,Pie:u.Fq},props:{data:{type:Object,required:!0},type:{type:String,required:!0},count:{type:Number,required:!0},options:{type:Object,default:()=>({})}},computed:{component(){switch(this.type){case"versions":return"Pie";default:return"Bar"}},title(){switch(this.type){case"versions":return this.$t("source.stacVersion");case"extensions":return this.$t("source.stacExtension");case"assets":return this.$t("source.fileFormat");default:return""}},allOptions(){let t={responsive:!0,plugins:{title:{display:!0,text:this.title}},scales:{y:{min:0,max:this.count,title:{display:!1}}}};return Object.assign(t,this.options)},chartData(){let t=[],e=[];for(let i in this.data){let n,r=this.data[i];switch(e.push(r),this.type){case"extensions":{let t=this.parseExtension(i);n=`${t.title}`,t.version&&(n+=` (${t.version})`);break}case"assets":n=(0,o.formatMediaType)(i);break;default:n=i}t.push(n)}return{labels:t,datasets:[{data:e}]}}},methods:{parseExtension(t){let e=null,i=t,n=t.match(/^https?:\/\/stac-extensions\.github\.io\/([^/]+)\/v?([^/]+)(?:\/([^/.]+))?\/schema/);return n?(e=n[2],i=(0,a.extension)(n[1]),n[3]&&(i+=" - "+(0,s.formatKey)(n[3]))):(i=t.replace(/^https?:\/\/(www.)?/,"").replace(/\/schema(\.json)?$/,""),i=l.Ay.shortenTitle(i,30)),{title:i,version:e}}}},f=m,p=i(81656),d=(0,p.A)(f,n,r,!1,null,null,null),h=d.exports},50697:function(t,e,i){const n=i(19087),r=i(55288),s=i(14540),a=i(78995),o=i(50735);function l(t,e,i,o,l){let u={};for(let s in e){let m;try{let c=s.split(/:(.*)/);1===c.length&&c.unshift(l);let f=c[0];if("function"===typeof o&&!o(s,[s]))continue;m=e[s];let p=n.getSpecification(s,i);p.ext&&(f=p.ext);let d=!1;"summaries"===i&&p.listWithKeys&&Array.isArray(m)&&m.length>0&&(m=m[0],d=!0);let h,g=null,O=[];if(r.isObject(p.items)){let t=m;p.listWithKeys&&(t=Object.values(t));let e=[];Array.isArray(t)?e=r.keysFromListOfObjects(t):r.isObject(t)&&(e=Object.keys(t)),g={},O=p.itemOrder.filter(t=>e.includes(t)),e.forEach(t=>{"undefined"===typeof p.items[t]?(g[t]={label:r.formatKey(t),explain:t},O.push(t)):(g[t]=Object.assign({},p.items[t]),g[t].label=b(t,p.items[t]))})}if("summaries"===i)if(!d&&r.isObject(m))if("undefined"!==typeof m.minimum&&"undefined"!==typeof m.maximum){const i=i=>y(i,s,t,e,p,o,[s]);h=m.minimum===m.maximum?i(m.minimum):null===m.minimum?`< ${i(m.maximum)}`:null===m.maximum?`> ${i(m.minimum)}`:`${i(m.minimum)} â€“ ${i(m.maximum)}`}else h=a.object(m);else if(n.externalRenderer&&g){let i=d?Object.assign({},m):m.slice(0);for(let n in i){let s=r.isObject(i[n])?{}:[];for(let r in g)s[r]=y(i[n][r],r,t,e,g[r]);i[n]=s}}else Array.isArray(m)?h=r.toList(m,!p.custom&&!p.items,i=>y(i,s,t,e,p)):console.warn(`Invalid summary value: ${m}`);"undefined"===typeof h&&(h=y(m,s,t,e,p,o,[s])),r.isObject(u[f])||(u[f]={extension:f,label:x(f),properties:{}}),u[f].properties[s]={label:b(s,p),value:m,formatted:h,items:g,itemOrder:O,spec:p}}catch(c){console.error(`Field '${s}' with value '${m}' resulted in an error`,c)}}return Object.values(u).sort((t,e)=>s.collator.compare(t.extension,e.extension))}function u(t,e,i=null,n=""){return l(e,t,"assets",i,n)}function c(t,e,i=null,n=""){return l(e,t,"links",i,n)}function m(t,e,i=null,n=""){return l(e,t,"providers",i,n)}function f(t,e=null,i=""){return l(t,t.summaries,"summaries",e,i)}function p(t,e=null,i=""){return l(t,t,"collection",e,i)}function d(t,e=null,i=""){return l(t,t,"catalog",e,i)}function h(t,e=null,i=""){return l(t,t.properties,"metadata",e,i)}function y(t,e,i=null,s=null,l=null,u=null,c=[]){if(r.isObject(l)||(l=n.getSpecification(e)),"string"===typeof l.format){let n=o[`format${l.format}`];return n||console.warn(`Formatter '${l.format}' not available.`),n(t,e,l,i,s)}if("function"===typeof l.formatter)return l.formatter(t,e,l,i,s);if(r.isObject(l.mapping)){let e=String(t);return"undefined"!==typeof l.mapping[e]?t=l.mapping[e]:"undefined"!==typeof l.mapping[e.toLowerCase()]?t=l.mapping[e.toLowerCase()]:"undefined"!==typeof l.mapping[e.toUpperCase()]&&(t=l.mapping[e.toUpperCase()]),a.format(r.t(t),l.unit)}if(null===t&&l.null)return a.null(l.null);if(Array.isArray(t)){let a=(t,n)=>y(t,e,i,s,l,u,c.concat([n]));return"function"===typeof u&&c.length>0&&(t=t.filter((t,e)=>u(c[0],c.concat([e])))),n.externalRenderer&&(l.custom||l.items)?t.map(a):r.toList(t,!1,a)}if(r.isObject(t)){let e=t=>r.isObject(l.items)?l.listWithKeys?{items:l.items,itemOrder:l.itemOrder}:l.items[t]:r.isObject(l.properties)?l.properties[t]:{},s=(t,n,r)=>y(t,n,i,r,e(n),u,c.concat([n]));if(n.externalRenderer&&(l.custom||l.items||l.properties)){let e={};for(let i in t)"function"===typeof u&&c.length>0&&!u(c[0],c.concat([i]))||(e[i]=s(t[i],i,t));return e}{let i=t=>b(t,e(t)),n=l.listWithKeys?[]:l.itemOrder;return r.toObject(t,s,i,n,u,c)}}return a.format(t,l.unit)}function b(t,e=null){if(r.isObject(e)||(e=n.getSpecification(t)),r.isObject(e)&&"string"===typeof e.label){if("string"===typeof e.explain)return e.explain.match(/^https?:\/\//i)?r.toLink(e.explain,r.t(e.label),"about"):r.abbrev(r.t(e.label),r.t(e.explain));if("string"===typeof e.label)return r.t(e.label)}return r.formatKey(t)}function x(t){return b(t,n.getExtension(t))}t.exports={format:y,label:b,extension:x,formatCatalog:d,formatCollection:p,formatSummaries:f,formatItemProperties:h,formatAsset:u,formatLink:c,formatProvider:m,formatGrouped:l}}}]);
//# sourceMappingURL=6750.eec6cab9.js.map