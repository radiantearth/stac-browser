"use strict";(self["webpackChunk_radiantearth_stac_browser"]=self["webpackChunk_radiantearth_stac_browser"]||[]).push([[1789],{41789:function(e,t,r){r.r(t);var i=r(68711),a=r(61597),n=r(31801),s=r(14943),o=r(8055);const d={BLUR:"blur",GRADIENT:"gradient",RADIUS:"radius"},l=["#00f","#0ff","#0f0","#ff0","#f00"];class u extends o["default"]{constructor(e){e=e||{};const t=Object.assign({},e);delete t.gradient,delete t.radius,delete t.blur,delete t.weight,super(t),this.gradient_=null,this.addChangeListener(d.GRADIENT,this.handleGradientChanged_),this.setGradient(e.gradient?e.gradient:l),this.setBlur(void 0!==e.blur?e.blur:15),this.setRadius(void 0!==e.radius?e.radius:8);const r=e.weight?e.weight:"weight";this.weightFunction_="string"===typeof r?e=>e.get(r):r,this.setRenderOrder(null)}getBlur(){return this.get(d.BLUR)}getGradient(){return this.get(d.GRADIENT)}getRadius(){return this.get(d.RADIUS)}handleGradientChanged_(){this.gradient_=g(this.getGradient())}setBlur(e){this.set(d.BLUR,e)}setGradient(e){this.set(d.GRADIENT,e)}setRadius(e){this.set(d.RADIUS,e)}createRenderer(){const e=(new s.N).addAttribute("float a_weight").addVarying("v_weight","float","a_weight").addUniform("float u_size").addUniform("float u_blurSlope").setSymbolSizeExpression("vec2(u_size)").setSymbolColorExpression("vec4(smoothstep(0., 1., (1. - length(coordsPx * 2. / v_quadSizePx)) * u_blurSlope) * v_weight)");return new n.A(this,{className:this.getClassName(),attributes:[{name:"weight",callback:e=>{const t=this.weightFunction_(e);return void 0!==t?(0,a.qE)(t,0,1):1}}],uniforms:{u_size:()=>2*(this.get(d.RADIUS)+this.get(d.BLUR)),u_blurSlope:()=>this.get(d.RADIUS)/Math.max(1,this.get(d.BLUR))},hitDetectionEnabled:!0,vertexShader:e.getSymbolVertexShader(),fragmentShader:e.getSymbolFragmentShader(),postProcesses:[{fragmentShader:"\n            precision mediump float;\n\n            uniform sampler2D u_image;\n            uniform sampler2D u_gradientTexture;\n            uniform float u_opacity;\n\n            varying vec2 v_texCoord;\n\n            void main() {\n              vec4 color = texture2D(u_image, v_texCoord);\n              gl_FragColor.a = color.a * u_opacity;\n              gl_FragColor.rgb = texture2D(u_gradientTexture, vec2(0.5, color.a)).rgb;\n              gl_FragColor.rgb *= gl_FragColor.a;\n            }",uniforms:{u_gradientTexture:()=>this.gradient_,u_opacity:()=>this.getOpacity()}}]})}renderDeclutter(){}}function g(e){const t=1,r=256,a=(0,i.Y)(t,r),n=a.createLinearGradient(0,0,t,r),s=1/(e.length-1);for(let i=0,o=e.length;i<o;++i)n.addColorStop(i*s,e[i]);return a.fillStyle=n,a.fillRect(0,0,t,r),a.canvas}t["default"]=u}}]);
//# sourceMappingURL=1789.9a7d11b3.js.map