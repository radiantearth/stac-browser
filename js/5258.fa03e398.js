"use strict";(self["webpackChunk_radiantearth_stac_browser"]=self["webpackChunk_radiantearth_stac_browser"]||[]).push([[850,5258,6131,6164,8469,8512],{18469:function(t,e,i){i.r(e),e["default"]={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"}},28512:function(t,e,i){i.r(e);var r=i(40190),n=i(11078),o=i(6837),s=i(38599),l=i(97404),c=i(4863),a=i(4087),u=i(46164);class h extends u["default"]{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:d,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,interpolate:void 0===t.interpolate||t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.crossOrigin=void 0!==t.crossOrigin?t.crossOrigin:null,this.tileClass=void 0!==t.tileClass?t.tileClass:r.A,this.tileGridForProjection={},this.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}getGutterForProjection(t){return this.getProjection()&&t&&!(0,s.tI)(this.getProjection(),t)?0:this.getGutter()}getGutter(){return 0}getKey(){let t=super.getKey();return this.getInterpolate()||(t+=":disable-interpolation"),t}getTileGridForProjection(t){const e=this.getProjection();if(this.tileGrid&&(!e||(0,s.tI)(e,t)))return this.tileGrid;const i=(0,a.v6)(t);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=(0,c.pr)(t)),this.tileGridForProjection[i]}createTile_(t,e,i,r,s,l){const c=[t,e,i],a=this.getTileCoordForTileUrlFunction(c,s),u=a?this.tileUrlFunction(a,r,s):void 0,h=new this.tileClass(c,void 0!==u?n.A.IDLE:n.A.EMPTY,void 0!==u?u:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return h.key=l,h.addEventListener(o.A.CHANGE,this.handleTileChange.bind(this)),h}getTile(t,e,i,r,n){const o=this.getProjection();if(!o||!n||(0,s.tI)(o,n))return this.getTileInternal(t,e,i,r,o||n);const c=[t,e,i],a=this.getKey(),u=this.getTileGridForProjection(o),h=this.getTileGridForProjection(n),d=this.getTileCoordForTileUrlFunction(c,n),g=new l.A(o,u,n,h,c,d,this.getTilePixelRatio(r),this.getGutter(),(t,e,i,r)=>this.getTileInternal(t,e,i,r,o),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return g.key=a,g}getTileInternal(t,e,i,r,n){const o=this.getKey();return this.createTile_(t,e,i,r,n,o)}setRenderReprojectionEdges(t){this.renderReprojectionEdges_!=t&&(this.renderReprojectionEdges_=t,this.changed())}setTileGridForProjection(t,e){const i=(0,s.Jt)(t);if(i){const t=(0,a.v6)(i);t in this.tileGridForProjection||(this.tileGridForProjection[t]=e)}}}function d(t,e){t.getImage().src=e}e["default"]=h},46164:function(t,e,i){i.r(e);var r=i(11078),n=i(42654),o=i(14465),s=i(4087),l=i(66017),c=i(18469);class a extends l["default"]{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===a.prototype.tileUrlFunction,this.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(this.tileUrlFunction=t.tileUrlFunction),this.urls=null,t.urls?this.setUrls(t.urls):t.url&&this.setUrl(t.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(t){const e=t.target,i=(0,s.v6)(e),n=e.getState();let o;n==r.A.LOADING?(this.tileLoadingKeys_[i]=!0,o=c["default"].TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],o=n==r.A.ERROR?c["default"].TILELOADERROR:n==r.A.LOADED?c["default"].TILELOADEND:void 0),void 0!=o&&this.dispatchEvent(new l.TileSourceEvent(o,e))}setTileLoadFunction(t){this.tileLoadFunction=t,this.changed()}setTileUrlFunction(t,e){this.tileUrlFunction=t,"undefined"!==typeof e?this.setKey(e):this.changed()}setUrl(t){const e=(0,o.Uu)(t);this.urls=e,this.setUrls(e)}setUrls(t){this.urls=t;const e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction((0,n.Qz)(t,this.tileGrid),e):this.setKey(e)}tileUrlFunction(t,e,i){}}e["default"]=a},85258:function(t,e,i){i.r(e),i.d(e,{CustomTile:function(){return g}});var r=i(40190),n=i(11078),o=i(68711),s=i(70915),l=i(6782),c=i(56758),a=i(57115),u=i(42654),h=i(14465),d=i(28512);class g extends r.A{constructor(t,e,i,r,n,o,s){super(e,i,r,n,o,s),this.zoomifyImage_=null,this.tileSize_=t}getImage(){if(this.zoomifyImage_)return this.zoomifyImage_;const t=super.getImage();if(this.state==n.A.LOADED){const e=this.tileSize_;if(t.width==e[0]&&t.height==e[1])return this.zoomifyImage_=t,t;const i=(0,o.Y)(e[0],e[1]);return i.drawImage(t,0,0),this.zoomifyImage_=i.canvas,i.canvas}return t}}class p extends d["default"]{constructor(t){const e=t.size,i=void 0!==t.tierSizeCalculation?t.tierSizeCalculation:"default",r=t.tilePixelRatio||1,n=e[0],o=e[1],d=[],p=t.tileSize||a.R;let F=p*r;switch(i){case"default":while(n>F||o>F)d.push([Math.ceil(n/F),Math.ceil(o/F)]),F+=F;break;case"truncated":let t=n,e=o;while(t>F||e>F)d.push([Math.ceil(t/F),Math.ceil(e/F)]),t>>=1,e>>=1;break;default:throw new Error("Unknown `tierSizeCalculation` configured")}d.push([1,1]),d.reverse();const T=[r],f=[0];for(let s=1,l=d.length;s<l;s++)T.push(r<<s),f.push(d[s-1][0]*d[s-1][1]+f[s-1]);T.reverse();const j=new c.A({tileSize:p,extent:t.extent||[0,-o,n,0],resolutions:T});let E=t.url;!E||E.includes("{TileGroup}")||E.includes("{tileIndex}")||(E+="{TileGroup}/{z}-{x}-{y}.jpg");const L=(0,h.Uu)(E);let U=p*r;function z(t){return function(e,i,r){if(!e)return;const n=e[0],o=e[1],s=e[2],l=o+s*d[n][0],c=(l+f[n])/U|0,a={z:n,x:o,y:s,tileIndex:l,TileGroup:"TileGroup"+c};return t.replace(/\{(\w+?)\}/g,function(t,e){return a[e]})}}const G=(0,u.FD)(L.map(z)),I=g.bind(null,(0,l.xq)(p*r));super({attributions:t.attributions,cacheSize:t.cacheSize,crossOrigin:t.crossOrigin,interpolate:t.interpolate,projection:t.projection,tilePixelRatio:r,reprojectionErrorThreshold:t.reprojectionErrorThreshold,tileClass:I,tileGrid:j,tileUrlFunction:G,transition:t.transition}),this.zDirection=t.zDirection;const _=j.getTileCoordForCoordAndResolution((0,s.q1)(j.getExtent()),T[T.length-1]),y=G(_,1,null),R=new Image;R.addEventListener("error",()=>{U=p,this.changed()}),R.src=y}}e["default"]=p}}]);
//# sourceMappingURL=5258.fa03e398.js.map