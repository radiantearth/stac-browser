"use strict";(self["webpackChunk_radiantearth_stac_browser"]=self["webpackChunk_radiantearth_stac_browser"]||[]).push([[4686],{34686:function(e,i,t){t.r(i),t.d(i,{default:function(){return v}});var o=t(90588),s=t(70915);const r={VERSION1:"version1",VERSION2:"version2",VERSION3:"version3"},n={};n[r.VERSION1]={level0:{supports:[],formats:[],qualities:["native"]},level1:{supports:["regionByPx","sizeByW","sizeByH","sizeByPct"],formats:["jpg"],qualities:["native"]},level2:{supports:["regionByPx","regionByPct","sizeByW","sizeByH","sizeByPct","sizeByConfinedWh","sizeByWh"],formats:["jpg","png"],qualities:["native","color","grey","bitonal"]}},n[r.VERSION2]={level0:{supports:[],formats:["jpg"],qualities:["default"]},level1:{supports:["regionByPx","sizeByW","sizeByH","sizeByPct"],formats:["jpg"],qualities:["default"]},level2:{supports:["regionByPx","regionByPct","sizeByW","sizeByH","sizeByPct","sizeByConfinedWh","sizeByDistortedWh","sizeByWh"],formats:["jpg","png"],qualities:["default","bitonal"]}},n[r.VERSION3]={level0:{supports:[],formats:["jpg"],qualities:["default"]},level1:{supports:["regionByPx","regionSquare","sizeByW","sizeByH","sizeByWh"],formats:["jpg"],qualities:["default"]},level2:{supports:["regionByPx","regionSquare","regionByPct","sizeByW","sizeByH","sizeByPct","sizeByConfinedWh","sizeByWh"],formats:["jpg","png"],qualities:["default"]}},n["none"]={none:{supports:[],formats:[],qualities:[]}};function a(e){let i=e.getComplianceLevelSupportedFeatures();return void 0===i&&(i=n[r.VERSION1]["level0"]),{url:void 0===e.imageInfo["@id"]?void 0:e.imageInfo["@id"].replace(/\/?(?:info\.json)?$/g,""),supports:i.supports,formats:[...i.formats,void 0===e.imageInfo.formats?[]:e.imageInfo.formats],qualities:[...i.qualities,void 0===e.imageInfo.qualities?[]:e.imageInfo.qualities],resolutions:e.imageInfo.scale_factors,tileSize:void 0!==e.imageInfo.tile_width?void 0!==e.imageInfo.tile_height?[e.imageInfo.tile_width,e.imageInfo.tile_height]:[e.imageInfo.tile_width,e.imageInfo.tile_width]:void 0!=e.imageInfo.tile_height?[e.imageInfo.tile_height,e.imageInfo.tile_height]:void 0}}function l(e){const i=e.getComplianceLevelSupportedFeatures(),t=Array.isArray(e.imageInfo.profile)&&e.imageInfo.profile.length>1,o=t&&e.imageInfo.profile[1].supports?e.imageInfo.profile[1].supports:[],s=t&&e.imageInfo.profile[1].formats?e.imageInfo.profile[1].formats:[],r=t&&e.imageInfo.profile[1].qualities?e.imageInfo.profile[1].qualities:[];return{url:e.imageInfo["@id"].replace(/\/?(?:info\.json)?$/g,""),sizes:void 0===e.imageInfo.sizes?void 0:e.imageInfo.sizes.map(function(e){return[e.width,e.height]}),tileSize:void 0===e.imageInfo.tiles?void 0:[e.imageInfo.tiles.map(function(e){return e.width})[0],e.imageInfo.tiles.map(function(e){return void 0===e.height?e.width:e.height})[0]],resolutions:void 0===e.imageInfo.tiles?void 0:e.imageInfo.tiles.map(function(e){return e.scaleFactors})[0],supports:[...i.supports,...o],formats:[...i.formats,...s],qualities:[...i.qualities,...r]}}function u(e){const i=e.getComplianceLevelSupportedFeatures(),t=void 0===e.imageInfo.extraFormats?i.formats:[...i.formats,...e.imageInfo.extraFormats],o=void 0!==e.imageInfo.preferredFormats&&Array.isArray(e.imageInfo.preferredFormats)&&e.imageInfo.preferredFormats.length>0?e.imageInfo.preferredFormats.filter(function(e){return["jpg","png","gif"].includes(e)}).reduce(function(e,i){return void 0===e&&t.includes(i)?i:e},void 0):void 0;return{url:e.imageInfo["id"],sizes:void 0===e.imageInfo.sizes?void 0:e.imageInfo.sizes.map(function(e){return[e.width,e.height]}),tileSize:void 0===e.imageInfo.tiles?void 0:[e.imageInfo.tiles.map(function(e){return e.width})[0],e.imageInfo.tiles.map(function(e){return e.height})[0]],resolutions:void 0===e.imageInfo.tiles?void 0:e.imageInfo.tiles.map(function(e){return e.scaleFactors})[0],supports:void 0===e.imageInfo.extraFeatures?i.supports:[...i.supports,...e.imageInfo.extraFeatures],formats:t,qualities:void 0===e.imageInfo.extraQualities?i.qualities:[...i.qualities,...e.imageInfo.extraQualities],preferredFormat:o}}const f={};f[r.VERSION1]=a,f[r.VERSION2]=l,f[r.VERSION3]=u;var g=t(6782),p=t(56758),c=t(57115),m=t(28512),d=t(85258);function h(e){return e.toLocaleString("en",{maximumFractionDigits:10})}class I extends m["default"]{constructor(e){const i=e||{};let t=i.url||"";t+=t.lastIndexOf("/")===t.length-1||""===t?"":"/";const n=i.version||r.VERSION2,a=i.sizes||[],l=i.size;(0,o.v)(void 0!=l&&Array.isArray(l)&&2==l.length&&!isNaN(l[0])&&l[0]>0&&!isNaN(l[1])&&l[1]>0,"Missing or invalid `size`");const u=l[0],f=l[1],m=i.tileSize,I=i.tilePixelRatio||1,v=i.format||"jpg",y=i.quality||(i.version==r.VERSION1?"native":"default");let z=i.resolutions||[];const B=i.supports||[],N=i.extent||[0,-f,u,0],S=void 0!=a&&Array.isArray(a)&&a.length>0,x=void 0!==m&&("number"===typeof m&&Number.isInteger(m)&&m>0||Array.isArray(m)&&m.length>0),q=void 0!=B&&Array.isArray(B)&&(B.includes("regionByPx")||B.includes("regionByPct"))&&(B.includes("sizeByWh")||B.includes("sizeByH")||B.includes("sizeByW")||B.includes("sizeByPct"));let P,b,R;if(z.sort(function(e,i){return i-e}),x||q)if(void 0!=m&&("number"===typeof m&&Number.isInteger(m)&&m>0?(P=m,b=m):Array.isArray(m)&&m.length>0&&((1==m.length||void 0==m[1]&&Number.isInteger(m[0]))&&(P=m[0],b=m[0]),2==m.length&&(Number.isInteger(m[0])&&Number.isInteger(m[1])?(P=m[0],b=m[1]):void 0==m[0]&&Number.isInteger(m[1])&&(P=m[1],b=m[1])))),void 0!==P&&void 0!==b||(P=c.R,b=c.R),0==z.length){R=Math.max(Math.ceil(Math.log(u/P)/Math.LN2),Math.ceil(Math.log(f/b)/Math.LN2));for(let e=R;e>=0;e--)z.push(Math.pow(2,e))}else{const e=Math.max(...z);R=Math.round(Math.log(e)/Math.LN2)}else if(P=u,b=f,z=[],S){a.sort(function(e,i){return e[0]-i[0]}),R=-1;const e=[];for(let i=0;i<a.length;i++){const t=u/a[i][0];z.length>0&&z[z.length-1]==t?e.push(i):(z.push(t),R++)}if(e.length>0)for(let i=0;i<e.length;i++)a.splice(e[i]-i,1)}else z.push(1),a.push([u,f]),R=0;const W=new p.A({tileSize:[P,b],extent:N,origin:(0,s.Py)(N),resolutions:z}),O=function(e,i,o){let s,l;const g=e[0];if(g>R)return;const p=e[1],c=e[2],m=z[g];if(!(void 0===p||void 0===c||void 0===m||p<0||Math.ceil(u/m/P)<=p||c<0||Math.ceil(f/m/b)<=c)){if(q||x){const e=p*P*m,i=c*b*m;let t=P*m,o=b*m,a=P,g=b;if(e+t>u&&(t=u-e),i+o>f&&(o=f-i),e+P*m>u&&(a=Math.floor((u-e+m-1)/m)),i+b*m>f&&(g=Math.floor((f-i+m-1)/m)),0==e&&t==u&&0==i&&o==f)s="full";else if(!q||B.includes("regionByPx"))s=e+","+i+","+t+","+o;else if(B.includes("regionByPct")){const r=h(e/u*100),n=h(i/f*100),a=h(t/u*100),l=h(o/f*100);s="pct:"+r+","+n+","+a+","+l}n!=r.VERSION3||q&&!B.includes("sizeByWh")?!q||B.includes("sizeByW")?l=a+",":B.includes("sizeByH")?l=","+g:B.includes("sizeByWh")?l=a+","+g:B.includes("sizeByPct")&&(l="pct:"+h(100/m)):l=a+","+g}else if(s="full",S){const e=a[g][0],i=a[g][1];l=n==r.VERSION3?e==u&&i==f?"max":e+","+i:e==u?"full":e+","}else l=n==r.VERSION3?"max":"full";return t+s+"/"+l+"/0/"+y+"."+v}},E=d.CustomTile.bind(null,(0,g.xq)(m||256).map(function(e){return e*I}));super({attributions:i.attributions,attributionsCollapsible:i.attributionsCollapsible,cacheSize:i.cacheSize,crossOrigin:i.crossOrigin,interpolate:i.interpolate,projection:i.projection,reprojectionErrorThreshold:i.reprojectionErrorThreshold,state:i.state,tileClass:E,tileGrid:W,tilePixelRatio:i.tilePixelRatio,tileUrlFunction:O,transition:i.transition}),this.zDirection=i.zDirection}}var v=I}}]);
//# sourceMappingURL=4686.9d4203d6.js.map