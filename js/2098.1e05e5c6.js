"use strict";(self["webpackChunk_radiantearth_stac_browser"]=self["webpackChunk_radiantearth_stac_browser"]||[]).push([[2098],{2098:function(e,t,r){r.r(t),r.d(t,{default:function(){return be}});var i=function(){var e=this,t=e._self._c;return t("div",{staticClass:"queryable-group"},[t("b-row",{staticClass:"queryable-row"},[t("span",{staticClass:"title"},[e._v(" "+e._s(e.queryable.title)+" ")]),t("b-dropdown",{staticClass:"op",attrs:{size:"sm",variant:"dark",split:"",text:e.operator.label},on:{click:e.iterateOps}},e._l(e.operators,(function(r){return t("b-dropdown-item-button",{key:r.SYMBOL,attrs:{active:r===e.operator},on:{click:function(t){return e.updateOperator(r)}}},[e._v(" "+e._s(r.longLabel)+" "),t("b-badge",{staticClass:"ml-2",attrs:{variant:"dark"}},[e._v(e._s(r.label))])],1)})),1),e.queryable.isTemporal?t("date-picker",e._b({staticClass:"value",attrs:{type:"date",lang:e.datepickerLang,format:e.datepickerFormat,value:e.value.value},on:{input:function(t){return e.updateValue(t)}}},"date-picker",e.validation,!1)):e.queryable.isSelection?t("b-form-select",e._b({staticClass:"value",attrs:{options:e.queryableOptions,size:"sm",value:e.value.value},on:{input:function(t){return e.updateValue(t)}}},"b-form-select",e.validation,!1)):e.queryable.isText||e.queryable.isNumeric?t("b-form-input",e._b({staticClass:"value",attrs:{number:e.queryable.isNumeric,type:e.queryable.isNumeric?"number":"text",size:"sm",value:e.value.value},on:{input:function(t){return e.updateValue(t)}}},"b-form-input",e.validation,!1)):e.queryable.isBoolean?t("b-form-checkbox",e._b({staticClass:"value",attrs:{switch:"",checked:e.value.value},on:{input:function(t){return e.updateValue(t)}}},"b-form-checkbox",e.validation,!1),[e._v(" "+e._s(e.$t(`checkbox.${e.value.value}`))+" ")]):e._e(),t("b-button",{staticClass:"delete",attrs:{size:"sm",variant:"danger"},on:{click:function(t){return e.$emit("remove-queryable")}}},[t("b-icon-x-circle-fill",{attrs:{"aria-hidden":"true"}})],1)],1),e.queryable.description||e.operator.description?t("b-row",{staticClass:"queryable-help text-muted small"},[e.operator.description?t("Description",{attrs:{description:e.operator.description,inline:""}}):e._e(),e.queryable.description?t("Description",{attrs:{description:e.queryable.description,inline:""}}):e._e()],1):e._e()],1)},n=[],a=r(15928),o=r(79808),s=r(77548),l=r(99628),u=r(98092),c=r(95756),p=r(97637),b=r(48256),m=r(46128);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var v=(0,p.a8)({active:(0,p.K2)(c.aM,!1),activeClass:(0,p.K2)(c.nV,"active"),buttonClass:(0,p.K2)(c.io),disabled:(0,p.K2)(c.aM,!1),variant:(0,p.K2)(c.nV)},l.w$),O=(0,s.SU)({name:l.w$,mixins:[b.c,m.m],inject:{getBvDropdown:{default:function(){return function(){return null}}}},inheritAttrs:!1,props:v,computed:{bvDropdown:function(){return this.getBvDropdown()},computedAttrs:function(){return h(h({},this.bvAttrs),{},{role:"menuitem",type:"button",disabled:this.disabled})}},methods:{closeDropdown:function(){this.bvDropdown&&this.bvDropdown.hide(!0)},onClick:function(e){this.$emit(u.G8,e),this.closeDropdown()}},render:function(e){var t,r=this.active,i=this.variant,n=this.bvAttrs;return e("li",{class:n.class,style:n.style,attrs:{role:"presentation"}},[e("button",{staticClass:"dropdown-item",class:[this.buttonClass,(t={},f(t,this.activeClass,r),f(t,"text-".concat(i),i&&!(r||this.disabled)),t)],attrs:this.computedAttrs,on:{click:this.onClick},ref:"button"},this.normalizeSlot())])}}),y=r(16300),g=r(46584),j=r(18952),w=r(33272),P=r(53377),q=r(33284),_=r(77928),k=r(25800),x=r(37536),S=r(10208),C=r(54724),D=r(29596),z=r(35136),F=r(26596),V=(0,F.O)("value"),B=V.mixin,I=V.props,K=V.prop,$=V.event,A=r(39580),U=r(61272);function E(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function L(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?E(Object(r),!0).forEach((function(t){T(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):E(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function T(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var M=(0,p.a8)((0,k.UJ)(L(L({},U.o),{},{labelField:(0,p.K2)(c.nV,"label"),optionsField:(0,p.K2)(c.nV,"options")})),"formOptions"),N=(0,s.SU)({mixins:[U.g],props:M,methods:{normalizeOption:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if((0,_.oF)(e)){var r=(0,A._)(e,this.valueField),i=(0,A._)(e,this.textField),n=(0,A._)(e,this.optionsField,null);return(0,_.Av)(n)?{value:(0,_.Y3)(r)?t||i:r,text:String((0,_.Y3)(i)?t:i),html:(0,A._)(e,this.htmlField),disabled:Boolean((0,A._)(e,this.disabledField))}:{label:String((0,A._)(e,this.labelField)||i),options:this.normalizeOptions(n)}}return{value:t||e,text:String(e),disabled:!1}}}}),Y=r(76516),J=(0,p.a8)({disabled:(0,p.K2)(c.aM,!1),value:(0,p.K2)(c.o5,void 0,!0)},l.eO),Q=(0,s.SU)({name:l.eO,functional:!0,props:J,render:function(e,t){var r=t.props,i=t.data,n=t.children,a=r.value,o=r.disabled;return e("option",(0,Y.k)(i,{attrs:{disabled:o},domProps:{value:a}}),n)}});function Z(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Z(Object(r),!0).forEach((function(t){W(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Z(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function W(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var X=(0,p.a8)((0,k.UJ)(G(G({},U.o),{},{label:(0,p.K2)(c.nV,void 0,!0)})),l.aI),H=(0,s.SU)({name:l.aI,mixins:[m.m,U.g],props:X,render:function(e){var t=this.label,r=this.formOptions.map((function(t,r){var i=t.value,n=t.text,a=t.html,o=t.disabled;return e(Q,{attrs:{value:i,disabled:o},domProps:(0,q.A)(a,n),key:"option_".concat(r)})}));return e("optgroup",{attrs:{label:t}},[this.normalizeSlot(j.kd),r,this.normalizeSlot()])}});function R(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,i)}return r}function ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?R(Object(r),!0).forEach((function(t){te(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function te(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var re=(0,p.a8)((0,k.UJ)(ee(ee(ee(ee(ee(ee(ee({},z.o),I),x.Y),S.o),C.o),D.o),{},{ariaInvalid:(0,p.K2)(c.wz,!1),multiple:(0,p.K2)(c.aM,!1),selectSize:(0,p.K2)(c.I9,0)})),l.Zj),ie=(0,s.SU)({name:l.Zj,mixins:[z.Q,B,x.o,C.g,D.a,S.u,N,m.m],props:re,data:function(){return{localValue:this[K]}},computed:{computedSelectSize:function(){return this.plain||0!==this.selectSize?this.selectSize:null},inputClass:function(){return[this.plain?"form-control":"custom-select",this.size&&this.plain?"form-control-".concat(this.size):null,this.size&&!this.plain?"custom-select-".concat(this.size):null,this.stateClass]}},watch:{value:function(e){this.localValue=e},localValue:function(){this.$emit($,this.localValue)}},methods:{focus:function(){(0,P.kF)(this.$refs.input)},blur:function(){(0,P.A5)(this.$refs.input)},onChange:function(e){var t=this,r=e.target,i=(0,w.Qp)(r.options).filter((function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));this.localValue=r.multiple?i:i[0],this.$nextTick((function(){t.$emit(u.Cu,t.localValue)}))}},render:function(e){var t=this.name,r=this.disabled,i=this.required,n=this.computedSelectSize,a=this.localValue,o=this.formOptions.map((function(t,r){var i=t.value,n=t.label,a=t.options,o=t.disabled,s="option_".concat(r);return(0,_.c7)(a)?e(H,{props:{label:n,options:a},key:s}):e(Q,{props:{value:i,disabled:o},domProps:(0,q.A)(t.html,t.text),key:s})}));return e("select",{class:this.inputClass,attrs:{id:this.safeId(),name:t,form:this.form||null,multiple:this.multiple||null,size:n,disabled:r,required:i,"aria-required":i?"true":null,"aria-invalid":this.computedAriaInvalid},on:{change:this.onChange},directives:[{name:"model",value:a}],ref:"input"},[this.normalizeSlot(j.kd),o,this.normalizeSlot()])}}),ne=r(88676),ae=r(36801),oe=r(40848),se=r(91880),le={name:"QueryableInput",components:{BBadge:a.e,BDropdown:o.W,BDropdownItemButton:O,BFormCheckbox:y.U,BFormInput:g.U,BFormSelect:ie,BIconXCircleFill:ne.ITP,Description:()=>Promise.resolve().then(r.bind(r,44093))},mixins:[ae.c],props:{value:{},operator:{type:Function,required:!0},queryable:{type:Object,required:!0},cql:{type:Object,required:!0}},computed:{validation(){if(this.queryable.isText&&!this.queryable.isTemporal)return{minlength:this.schema.minLength,maxlength:this.schema.maxLenggth,required:this.schema.minLength>0};if(this.queryable.isNumeric){let e;if("number"===typeof this.schema.minimum&&"number"===typeof this.schema.maximum){let t=this.schema.maximum-this.schema.minimum;e=t<=.1?.01:t<=1?.1:t<=100?1:10}return{min:this.schema.minimum,max:this.schema.maximum,step:e}}return{}},schema(){return this.queryable.schema},operators(){return this.queryable.getOperators(this.cql)},queryableOptions(){return this.queryable.isSelection?this.schema.enum.map((e=>({value:e,text:e}))):[]}},methods:{iterateOps(){let e=this.operators.findIndex((e=>e===this.operator)),t=++e%this.operators.length;this.updateOperator(this.operators[t])},updateValue(e){let t=oe.cp.isObject(e)&&"target"in e?e.target.value:e;"string"===typeof t&&this.queryable.is("integer")?t=parseInt(t,10):"string"===typeof t&&this.queryable.is("number")&&(t=parseFloat(t)),this.$emit("update:value",se.cp.create(t))},updateOperator(e){this.$emit("update:operator",e)}}},ue=le,ce=r(82528),pe=(0,ce.c)(ue,i,n,!1,null,null,null),be=pe.exports}}]);
//# sourceMappingURL=2098.1e05e5c6.js.map