"use strict";(self["webpackChunk_radiantearth_stac_browser"]=self["webpackChunk_radiantearth_stac_browser"]||[]).push([[850,2660,6131,6164,8469,8512],{18469:function(t,e,i){i.r(e),e["default"]={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"}},22660:function(t,e,i){i.r(e),i.d(e,{quadKey:function(){return c}});var r=i(70915),o=i(38599),n=i(40186),s=i(4863),l=i(42654),a=i(28512);function c(t){const e=t[0],i=new Array(e);let r,o,n=1<<e-1;for(r=0;r<e;++r)o=48,t[1]&n&&(o+=1),t[2]&n&&(o+=2),i[r]=String.fromCharCode(o),n>>=1;return i.join("")}const h='<a class="ol-attribution-bing-tos" href="https://www.microsoft.com/maps/product/terms.html" target="_blank">Terms of Use</a>';class u extends a["default"]{constructor(t){const e=void 0!==t.hidpi&&t.hidpi;super({cacheSize:t.cacheSize,crossOrigin:"anonymous",interpolate:t.interpolate,projection:(0,o.Jt)("EPSG:3857"),reprojectionErrorThreshold:t.reprojectionErrorThreshold,state:"loading",tileLoadFunction:t.tileLoadFunction,tilePixelRatio:e?2:1,wrapX:void 0===t.wrapX||t.wrapX,transition:t.transition,zDirection:t.zDirection}),this.hidpi_=e,this.culture_=void 0!==t.culture?t.culture:"en-us",this.maxZoom_=void 0!==t.maxZoom?t.maxZoom:-1,this.apiKey_=t.key,this.imagerySet_=t.imagerySet,this.placeholderTiles_=t.placeholderTiles;const i="https://dev.virtualearth.net/REST/v1/Imagery/Metadata/"+this.imagerySet_+"?uriScheme=https&include=ImageryProviders&key="+this.apiKey_+"&c="+this.culture_;fetch(i).then(t=>t.json()).then(t=>this.handleImageryMetadataResponse(t))}getApiKey(){return this.apiKey_}getImagerySet(){return this.imagerySet_}handleImageryMetadataResponse(t){if(200!=t.statusCode||"OK"!=t.statusDescription||"ValidCredentials"!=t.authenticationResultCode||1!=t.resourceSets.length||1!=t.resourceSets[0].resources.length)return void this.setState("error");const e=t.resourceSets[0].resources[0],i=-1==this.maxZoom_?e.zoomMax:this.maxZoom_,a=this.getProjection(),u=(0,s.kZ)(a),d=this.hidpi_?2:1,g=e.imageWidth==e.imageHeight?e.imageWidth/d:[e.imageWidth/d,e.imageHeight/d],p=(0,s.EN)({extent:u,minZoom:e.zoomMin,maxZoom:i,tileSize:g});this.tileGrid=p;const m=this.culture_,F=this.hidpi_,T=this.placeholderTiles_;if(this.tileUrlFunction=(0,l.FD)(e.imageUrlSubdomains.map(function(t){const i=[0,0,0],r=e.imageUrl.replace("{subdomain}",t).replace("{culture}",m);return function(t,e,o){if(!t)return;(0,n.N)(t[0],t[1],t[2],i);const s=new URL(r.replace("{quadkey}",c(i))),l=s.searchParams;return F&&(l.set("dpi","d1"),l.set("device","mobile")),!0===T?l.delete("n"):!1===T&&l.set("n","z"),s.toString()}})),e.imageryProviders){const t=(0,o.FO)((0,o.Jt)("EPSG:4326"),this.getProjection());this.setAttributions(i=>{const o=[],n=i.viewState,s=this.getTileGrid(),l=s.getZForResolution(n.resolution,this.zDirection),a=s.getTileCoordForCoordAndZ(n.center,l),c=a[0];return e.imageryProviders.map(function(e){let n=!1;const s=e.coverageAreas;for(let o=0,l=s.length;o<l;++o){const e=s[o];if(c>=e.zoomMin&&c<=e.zoomMax){const o=e.bbox,s=[o[1],o[0],o[3],o[2]],l=(0,r.NW)(s,t);if((0,r.HY)(l,i.extent)){n=!0;break}}}n&&o.push(e.attribution)}),o.push(h),o})}this.setState("ready")}}e["default"]=u},28512:function(t,e,i){i.r(e);var r=i(40190),o=i(11078),n=i(6837),s=i(38599),l=i(97404),a=i(4863),c=i(4087),h=i(46164);class u extends h["default"]{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:d,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX,transition:t.transition,interpolate:void 0===t.interpolate||t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.crossOrigin=void 0!==t.crossOrigin?t.crossOrigin:null,this.tileClass=void 0!==t.tileClass?t.tileClass:r.A,this.tileGridForProjection={},this.reprojectionErrorThreshold_=t.reprojectionErrorThreshold,this.renderReprojectionEdges_=!1}getGutterForProjection(t){return this.getProjection()&&t&&!(0,s.tI)(this.getProjection(),t)?0:this.getGutter()}getGutter(){return 0}getKey(){let t=super.getKey();return this.getInterpolate()||(t+=":disable-interpolation"),t}getTileGridForProjection(t){const e=this.getProjection();if(this.tileGrid&&(!e||(0,s.tI)(e,t)))return this.tileGrid;const i=(0,c.v6)(t);return i in this.tileGridForProjection||(this.tileGridForProjection[i]=(0,a.pr)(t)),this.tileGridForProjection[i]}createTile_(t,e,i,r,s,l){const a=[t,e,i],c=this.getTileCoordForTileUrlFunction(a,s),h=c?this.tileUrlFunction(c,r,s):void 0,u=new this.tileClass(a,void 0!==h?o.A.IDLE:o.A.EMPTY,void 0!==h?h:"",this.crossOrigin,this.tileLoadFunction,this.tileOptions);return u.key=l,u.addEventListener(n.A.CHANGE,this.handleTileChange.bind(this)),u}getTile(t,e,i,r,o){const n=this.getProjection();if(!n||!o||(0,s.tI)(n,o))return this.getTileInternal(t,e,i,r,n||o);const a=[t,e,i],c=this.getKey(),h=this.getTileGridForProjection(n),u=this.getTileGridForProjection(o),d=this.getTileCoordForTileUrlFunction(a,o),g=new l.A(n,h,o,u,a,d,this.getTilePixelRatio(r),this.getGutter(),(t,e,i,r)=>this.getTileInternal(t,e,i,r,n),this.reprojectionErrorThreshold_,this.renderReprojectionEdges_,this.tileOptions);return g.key=c,g}getTileInternal(t,e,i,r,o){const n=this.getKey();return this.createTile_(t,e,i,r,o,n)}setRenderReprojectionEdges(t){this.renderReprojectionEdges_!=t&&(this.renderReprojectionEdges_=t,this.changed())}setTileGridForProjection(t,e){const i=(0,s.Jt)(t);if(i){const t=(0,c.v6)(i);t in this.tileGridForProjection||(this.tileGridForProjection[t]=e)}}}function d(t,e){t.getImage().src=e}e["default"]=u},46164:function(t,e,i){i.r(e);var r=i(11078),o=i(42654),n=i(14465),s=i(4087),l=i(66017),a=i(18469);class c extends l["default"]{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===c.prototype.tileUrlFunction,this.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(this.tileUrlFunction=t.tileUrlFunction),this.urls=null,t.urls?this.setUrls(t.urls):t.url&&this.setUrl(t.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(t){const e=t.target,i=(0,s.v6)(e),o=e.getState();let n;o==r.A.LOADING?(this.tileLoadingKeys_[i]=!0,n=a["default"].TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],n=o==r.A.ERROR?a["default"].TILELOADERROR:o==r.A.LOADED?a["default"].TILELOADEND:void 0),void 0!=n&&this.dispatchEvent(new l.TileSourceEvent(n,e))}setTileLoadFunction(t){this.tileLoadFunction=t,this.changed()}setTileUrlFunction(t,e){this.tileUrlFunction=t,"undefined"!==typeof e?this.setKey(e):this.changed()}setUrl(t){const e=(0,n.Uu)(t);this.urls=e,this.setUrls(e)}setUrls(t){this.urls=t;const e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction((0,o.Qz)(t,this.tileGrid),e):this.setKey(e)}tileUrlFunction(t,e,i){}}e["default"]=c}}]);
//# sourceMappingURL=2660.c56f5b1e.js.map