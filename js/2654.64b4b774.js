"use strict";(self["webpackChunk_radiantearth_stac_browser"]=self["webpackChunk_radiantearth_stac_browser"]||[]).push([[850,1222,2654,3666,6164,8469],{8143:function(t,e,i){var n=i(11078),r=i(93474),o=i(6837),s=i(79332),l=i(4087);class a extends s.A{constructor(t,e,i){super(),i=i||{},this.tileCoord=t,this.state=e,this.key="",this.transition_=void 0===i.transition?250:i.transition,this.transitionStarts_={},this.interpolate=!!i.interpolate}changed(){this.dispatchEvent(o.A.CHANGE)}release(){this.setState(n.A.EMPTY)}getKey(){return this.key+"/"+this.tileCoord}getTileCoord(){return this.tileCoord}getState(){return this.state}setState(t){if(this.state!==n.A.EMPTY){if(this.state!==n.A.ERROR&&this.state>t)throw new Error("Tile load sequence violation");this.state=t,this.changed()}}load(){(0,l.b0)()}getAlpha(t,e){if(!this.transition_)return 1;let i=this.transitionStarts_[t];if(i){if(-1===i)return 1}else i=e,this.transitionStarts_[t]=i;const n=e-i+1e3/60;return n>=this.transition_?1:(0,r.a6)(n/this.transition_)}inTransition(t){return!!this.transition_&&-1!==this.transitionStarts_[t]}endTransition(t){this.transition_&&(this.transitionStarts_[t]=-1)}disposeInternal(){this.release(),super.disposeInternal()}}e.A=a},13666:function(t,e,i){i.r(e),i.d(e,{appendCollectionsQueryParam:function(){return u},getMapTileUrlTemplate:function(){return h},getTileSetInfo:function(){return g},getVectorTileUrlTemplate:function(){return d}});var n=i(54422),r=i(70915),o=i(77076),s=i(38599),l=i(56758);const a={"image/png":!0,"image/jpeg":!0,"image/gif":!0,"image/webp":!0},c={"application/vnd.mapbox-vector-tile":!0,"application/geo+json":!0};function u(t,e){if(!e.length)return t;const i=new URL(t,"file:/");if(i.pathname.split("/").includes("collections"))return(0,n.z3)('The "collections" query parameter cannot be added to collection endpoints'),t;const r=e.map(t=>encodeURIComponent(t)).join(",");i.searchParams.append("collections",r);const o=t.split("?")[0],s=decodeURIComponent(i.searchParams.toString());return`${o}?${s}`}function h(t,e,i){let n,r;for(let o=0;o<t.length;++o){const i=t[o];if("item"===i.rel){if(i.type===e){n=i.href;break}(a[i.type]||!r&&i.type.startsWith("image/"))&&(r=i.href)}}if(!n){if(!r)throw new Error('Could not find "item" link');n=r}return i&&(n=u(n,i)),n}function d(t,e,i,n){let r,o;const s={};for(let l=0;l<t.length;++l){const i=t[l];if(s[i.type]=i.href,"item"===i.rel){if(i.type===e){r=i.href;break}c[i.type]&&(o=i.href)}}if(!r&&i)for(let l=0;l<i.length;++l){const t=i[l];if(s[t]){r=s[t];break}}if(!r){if(!o)throw new Error('Could not find "item" link');r=o}return n&&(r=u(r,n)),r}function p(t,e,i,n){let a=t.projection;if(!a&&("string"===typeof e.crs?a=(0,s.Jt)(e.crs):"uri"in e.crs&&(a=(0,s.Jt)(e.crs.uri)),!a))throw new Error(`Unsupported CRS: ${JSON.stringify(e.crs)}`);const c=e.orderedAxes,u=c?c.slice(0,2).map(t=>t.replace(/E|X|Lon/i,"e").replace(/N|Y|Lat/i,"n")).join(""):a.getAxisOrientation(),h=!u.startsWith("en"),d=e.tileMatrices,p={};for(let r=0;r<d.length;++r){const t=d[r];p[t.id]=t}const f={},g=[];if(n)for(let r=0;r<n.length;++r){const t=n[r],e=t.tileMatrix;g.push(e),f[e]=t}else for(let r=0;r<d.length;++r){const t=d[r].id;g.push(t)}const m=g.length,T=new Array(m),w=new Array(m),y=new Array(m),E=new Array(m),S=[-1/0,-1/0,1/0,1/0];for(let o=0;o<m;++o){const t=g[o],e=p[t],i=e.pointOfOrigin;T[o]=h?[i[1],i[0]]:i,w[o]=e.cellSize,y[o]=[e.matrixWidth,e.matrixHeight],E[o]=[e.tileWidth,e.tileHeight];const n=f[t];if(n){const t=e.cellSize*e.tileWidth,i=T[o][0]+n.minTileCol*t,s=T[o][0]+(n.maxTileCol+1)*t,l=e.cellSize*e.tileHeight,a="bottomLeft"===e.cornerOfOrigin;let c,u;a?(c=T[o][1]+n.minTileRow*l,u=T[o][1]+(n.maxTileRow+1)*l):(c=T[o][1]-(n.maxTileRow+1)*l,u=T[o][1]-n.minTileRow*l),(0,r._N)(S,[i,c,s,u],S)}}const L=new l.A({origins:T,resolutions:w,sizes:y,tileSizes:E,extent:n?S:void 0}),R=t.context,b=t.url;function x(t,e,r){if(!t)return;const s=g[t[0]],l=p[s],a="bottomLeft"===l.cornerOfOrigin,c={tileMatrix:s,tileCol:t[1],tileRow:a?-t[2]-1:t[2]};if(n){const t=f[l.id];if(c.tileCol<t.minTileCol||c.tileCol>t.maxTileCol||c.tileRow<t.minTileRow||c.tileRow>t.maxTileRow)return}Object.assign(c,R);const u=i.replace(/\{(\w+?)\}/g,function(t,e){return c[e]});return(0,o.O2)(b,u)}return{grid:L,projection:a,urlTemplate:i,urlFunction:x}}function f(t,e){const i=e.tileMatrixSetLimits;let n;if("map"===e.dataType)n=h(e.links,t.mediaType,t.collections);else{if("vector"!==e.dataType)throw new Error('Expected tileset data type to be "map" or "vector"');n=d(e.links,t.mediaType,t.supportedMediaTypes,t.collections)}if(e.tileMatrixSet)return p(t,e.tileMatrixSet,n,i);const r=e.links.find(t=>"http://www.opengis.net/def/rel/ogc/1.0/tiling-scheme"===t.rel);if(!r)throw new Error("Expected http://www.opengis.net/def/rel/ogc/1.0/tiling-scheme link or tileMatrixSet");const s=r.href,l=(0,o.O2)(t.url,s);return(0,o.hm)(l).then(function(e){return p(t,e,n,i)})}function g(t){return(0,o.hm)(t.url).then(function(e){return f(t,e)})}},18469:function(t,e,i){i.r(e),e["default"]={TILELOADSTART:"tileloadstart",TILELOADEND:"tileloadend",TILELOADERROR:"tileloaderror"}},21421:function(t,e,i){i.r(e);var n=i(54422),r=i(75522),o=i(13666);class s extends r["default"]{constructor(t){super({attributions:t.attributions,attributionsCollapsible:t.attributionsCollapsible,cacheSize:t.cacheSize,format:t.format,overlaps:t.overlaps,projection:t.projection,tileClass:t.tileClass,transition:t.transition,wrapX:t.wrapX,zDirection:t.zDirection,state:"loading"});const e={url:t.url,projection:this.getProjection(),mediaType:t.mediaType,supportedMediaTypes:t.format.supportedMediaTypes,context:t.context||null,collections:t.collections};(0,o.getTileSetInfo)(e).then(this.handleTileSetInfo_.bind(this)).catch(this.handleError_.bind(this))}handleTileSetInfo_(t){this.tileGrid=t.grid,this.projection=t.projection,this.setTileUrlFunction(t.urlFunction,t.urlTemplate),this.setState("ready")}handleError_(t){(0,n.z3)(t),this.setState("error")}}e["default"]=s},46164:function(t,e,i){i.r(e);var n=i(11078),r=i(42654),o=i(14465),s=i(4087),l=i(66017),a=i(18469);class c extends l["default"]{constructor(t){super({attributions:t.attributions,cacheSize:t.cacheSize,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX,transition:t.transition,interpolate:t.interpolate,key:t.key,attributionsCollapsible:t.attributionsCollapsible,zDirection:t.zDirection}),this.generateTileUrlFunction_=this.tileUrlFunction===c.prototype.tileUrlFunction,this.tileLoadFunction=t.tileLoadFunction,t.tileUrlFunction&&(this.tileUrlFunction=t.tileUrlFunction),this.urls=null,t.urls?this.setUrls(t.urls):t.url&&this.setUrl(t.url),this.tileLoadingKeys_={}}getTileLoadFunction(){return this.tileLoadFunction}getTileUrlFunction(){return Object.getPrototypeOf(this).tileUrlFunction===this.tileUrlFunction?this.tileUrlFunction.bind(this):this.tileUrlFunction}getUrls(){return this.urls}handleTileChange(t){const e=t.target,i=(0,s.v6)(e),r=e.getState();let o;r==n.A.LOADING?(this.tileLoadingKeys_[i]=!0,o=a["default"].TILELOADSTART):i in this.tileLoadingKeys_&&(delete this.tileLoadingKeys_[i],o=r==n.A.ERROR?a["default"].TILELOADERROR:r==n.A.LOADED?a["default"].TILELOADEND:void 0),void 0!=o&&this.dispatchEvent(new l.TileSourceEvent(o,e))}setTileLoadFunction(t){this.tileLoadFunction=t,this.changed()}setTileUrlFunction(t,e){this.tileUrlFunction=t,"undefined"!==typeof e?this.setKey(e):this.changed()}setUrl(t){const e=(0,o.Uu)(t);this.urls=e,this.setUrls(e)}setUrls(t){this.urls=t;const e=t.join("\n");this.generateTileUrlFunction_?this.setTileUrlFunction((0,r.Qz)(t,this.tileGrid),e):this.setKey(e)}tileUrlFunction(t,e,i){}}e["default"]=c},77076:function(t,e,i){i.d(e,{FQ:function(){return r},O2:function(){return a},hm:function(){return l}});var n=i(4087);function r(t,e,i,r){const o=document.createElement("script"),s="olc_"+(0,n.v6)(e);function l(){delete window[s],o.parentNode.removeChild(o)}o.async=!0,o.src=t+(t.includes("?")?"&":"?")+(r||"callback")+"="+s;const a=setTimeout(function(){l(),i&&i()},1e4);window[s]=function(t){clearTimeout(a),l(),e(t)},document.head.appendChild(o)}class o extends Error{constructor(t){const e="Unexpected response status: "+t.status;super(e),this.name="ResponseError",this.response=t}}class s extends Error{constructor(t){super("Failed to issue request"),this.name="ClientError",this.client=t}}function l(t){return new Promise(function(e,i){function n(t){const n=t.target;if(!n.status||n.status>=200&&n.status<300){let t;try{t=JSON.parse(n.responseText)}catch(r){const t="Error parsing response text as JSON: "+r.message;return void i(new Error(t))}return void e(t)}i(new o(n))}function r(t){i(new s(t.target))}const l=new XMLHttpRequest;l.addEventListener("load",n),l.addEventListener("error",r),l.open("GET",t),l.setRequestHeader("Accept","application/json"),l.send()})}function a(t,e){return e.includes("://")?e:new URL(e,t).href}}}]);
//# sourceMappingURL=2654.64b4b774.js.map