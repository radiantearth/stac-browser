(function(t){function e(e){for(var a,n,o=e[0],c=e[1],l=e[2],u=0,h=[];u<o.length;u++)n=o[u],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&h.push(i[n][0]),i[n]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);d&&d(e);while(h.length)h.shift()();return s.push.apply(s,l||[]),r()}function r(){for(var t,e=0;e<s.length;e++){for(var r=s[e],a=!0,n=1;n<r.length;n++){var o=r[n];0!==i[o]&&(a=!1)}a&&(s.splice(e--,1),t=c(c.s=r[0]))}return t}var a={},n={app:0},i={app:0},s=[];function o(t){return c.p+"js/"+({"catalog~item":"catalog~item",catalog:"catalog",item:"item"}[t]||t)+"."+{"catalog~item":"da25bc3f",catalog:"2969c2e9",item:"c6484fdb","chunk-45b1a3e6":"dd2f9090","chunk-06be1bb0":"70f706e5","chunk-547f0398":"692308f1","chunk-625256e2":"94c210c3","chunk-23da0372":"e1b5b879","chunk-2bb320fb":"36c552d1","chunk-2d0b2cd9":"48c1b75a","chunk-2d0d7a16":"05b63fdd","chunk-2d0dda00":"52016fcf","chunk-02bd5aca":"792284d4","chunk-6a44677d":"4c80a4ff","chunk-6a4a1c02":"fa79a38d","chunk-ebb2175e":"3ff0a2bf","chunk-2d0da6a6":"4e590bba","chunk-4134b42c":"5173b7f8","chunk-553b92e0":"c8774876","chunk-35132d9b":"ed224438"}[t]+".js"}function c(e){if(a[e])return a[e].exports;var r=a[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.e=function(t){var e=[],r={"catalog~item":1,catalog:1,item:1,"chunk-06be1bb0":1,"chunk-547f0398":1,"chunk-625256e2":1,"chunk-23da0372":1,"chunk-2bb320fb":1,"chunk-02bd5aca":1,"chunk-6a44677d":1,"chunk-6a4a1c02":1,"chunk-ebb2175e":1,"chunk-4134b42c":1,"chunk-553b92e0":1,"chunk-35132d9b":1};n[t]?e.push(n[t]):0!==n[t]&&r[t]&&e.push(n[t]=new Promise((function(e,r){for(var a="css/"+({"catalog~item":"catalog~item",catalog:"catalog",item:"item"}[t]||t)+"."+{"catalog~item":"66d8f926",catalog:"68014983",item:"d59b8343","chunk-45b1a3e6":"31d6cfe0","chunk-06be1bb0":"739277ee","chunk-547f0398":"3e03b5e5","chunk-625256e2":"b9e8acec","chunk-23da0372":"6763cc12","chunk-2bb320fb":"f265a38d","chunk-2d0b2cd9":"31d6cfe0","chunk-2d0d7a16":"31d6cfe0","chunk-2d0dda00":"31d6cfe0","chunk-02bd5aca":"02d85459","chunk-6a44677d":"4c35c865","chunk-6a4a1c02":"9ad34f85","chunk-ebb2175e":"f61135d8","chunk-2d0da6a6":"31d6cfe0","chunk-4134b42c":"49479da9","chunk-553b92e0":"7c3db15a","chunk-35132d9b":"3d373bca"}[t]+".css",i=c.p+a,s=document.getElementsByTagName("link"),o=0;o<s.length;o++){var l=s[o],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===a||u===i))return e()}var h=document.getElementsByTagName("style");for(o=0;o<h.length;o++){l=h[o],u=l.getAttribute("data-href");if(u===a||u===i)return e()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=e,d.onerror=function(e){var a=e&&e.target&&e.target.src||i,s=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=a,delete n[t],d.parentNode.removeChild(d),r(s)},d.href=i;var f=document.getElementsByTagName("head")[0];f.appendChild(d)})).then((function(){n[t]=0})));var a=i[t];if(0!==a)if(a)e.push(a[2]);else{var s=new Promise((function(e,r){a=i[t]=[e,r]}));e.push(a[2]=s);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=o(t);var h=new Error;l=function(e){u.onerror=u.onload=null,clearTimeout(d);var r=i[t];if(0!==r){if(r){var a=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src;h.message="Loading chunk "+t+" failed.\n("+a+": "+n+")",h.name="ChunkLoadError",h.type=a,h.request=n,r[1](h)}i[t]=void 0}};var d=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(e)},c.m=t,c.c=a,c.d=function(t,e,r){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)c.d(r,a,function(e){return t[e]}.bind(null,a));return r},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/stac-browser/",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var h=0;h<l.length;h++)e(l[h]);var d=u;s.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"025e":function(t,e,r){"use strict";r.d(e,"a",(function(){return f}));var a=r("53ca"),n=r("d4ec"),i=r("bee2"),s=(r("4d63"),r("c607"),r("ac1f"),r("2c3e"),r("25f0"),r("a15b"),r("b64b"),r("caad"),r("2ca0"),r("5319"),r("8a79"),r("d3b7"),r("7db0"),r("4de4"),r("2532"),r("d81d"),r("99af"),r("00b4"),r("c909")),o=r.n(s),c=["catalog","collection","item"],l=["application/json","application/geo+json","text/json"],u=["gif","jpg","jpeg","png","webp"],h=new RegExp("^image/(".concat(u.join("|"),")"),"i"),d=["http","https"],f=function(){function t(){Object(n["a"])(this,t)}return Object(i["a"])(t,null,[{key:"isObject",value:function(t){return"object"===Object(a["a"])(t)&&t===Object(t)&&!Array.isArray(t)}},{key:"size",value:function(t){return"object"===Object(a["a"])(t)&&null!==t?Array.isArray(t)?t.length:Object.keys(t).length:0}},{key:"isStacMediaType",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return!(!e||t)||"string"===typeof t&&l.includes(t.toLowerCase())}},{key:"hasText",value:function(t){return"string"===typeof t&&t.length>0}},{key:"urlType",value:function(t,e){var r=o()(t);return r.is(e)}},{key:"isGdalVfsUri",value:function(t){return"string"===typeof t&&t.startsWith("/vsi")&&!t.startsWith("/vsicurl/")}},{key:"toAbsolute",value:function(e,r){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];"string"===typeof e&&e.startsWith("/vsicurl/")&&(e=e.replace(/^\/vsicurl\//,""));var n=o()(e);return n.is("relative")&&!t.isGdalVfsUri(e)&&(r.endsWith("/")||r.endsWith(".json")||(r+="/"),n=n.absoluteTo(r)),a?n.toString():n}},{key:"getLinkWithRel",value:function(e,r){return Array.isArray(e)?e.find((function(e){return t.isObject(e)&&"string"===typeof e.href&&e.rel===r})):null}},{key:"getLinksWithRels",value:function(e,r){return Array.isArray(e)?e.filter((function(e){return t.isObject(e)&&"string"===typeof e.href&&r.includes(e.rel)})):[]}},{key:"getLinksWithOtherRels",value:function(e,r){return Array.isArray(e)?e.filter((function(e){return t.isObject(e)&&"string"===typeof e.href&&!r.includes(e.rel)})):[]}},{key:"equalUrl",value:function(t,e){try{var r=o()(t),a=o()(e);return r.path(r.path().replace(/\/$/,"")),a.path(a.path().replace(/\/$/,"")),r.equals(a)}catch(n){return!1}}},{key:"scrollTo",value:function(t){if(t){var e=t.getBoundingClientRect(),r=e.top<window.innerHeight&&e.bottom>=0;r||t.scrollIntoView({behavior:"smooth",block:"start"})}}},{key:"addFiltersToLink",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Object.assign({},t),a=new o.a(r.href);for(var n in e){var i=e[n];if(i){if("datetime"===n)i=i.map((function(t){return t instanceof Date?t.toISOString():t||".."})).join("/");else if("bbox"===n)i="function"===typeof i.toBBoxString?i.toBBoxString():i.join(",");else if("collections"===n||"ids"===n){if(!(Array.isArray(i)&&i.length>0))continue;i=i.join(",")}a.setQuery(n,i)}else a.removeQuery(n)}return r.href=a.toString(),r}},{key:"titleForHref",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=o()(t),a=r.authority(),n=r.filename().replace(/^(.{1,})\.\w+$/,"$1"),i=r.directory().replace(/^\//,"");if(a&&n&&!e){var s=r.path().replace(/^\//,"");return"doi.org"===a&&s.startsWith("10.")?"DOI ".concat(s):"".concat(n," at ").concat(a)}return n&&!c.includes(n)?n:a||(i||t)}},{key:"canBrowserDisplayImage",value:function(t){if("string"!==typeof t.href)return!1;var e=new o.a(t.href),r=e.protocol().toLowerCase();return!(r&&!d.includes(r))&&(!!h.test(t.type)||(!!u.includes(e.suffix().toLowerCase())||!t.type))}}]),t}()},"055a":function(t,e,r){"use strict";r("b91c")},"2a32":function(t,e,r){"use strict";var a=r("d4ec"),n=r("bee2"),i=(r("d81d"),r("99af"),r("7db0"),r("d3b7"),r("caad"),r("2532"),r("4de4"),r("4e82"),r("025e")),s=r("7f1d"),o=r.n(s),c=0,l=function(){function t(e,r,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];for(var s in Object(a["a"])(this,t),this._id=c++,this._url=r,this._path=n,this._apiChildren={list:[],prev:!1,next:!1},i&&("FeatureCollection"===e.type?e.features=e.features.map((function(t){return o.a.item(t,!1)})):e=o.a.stac(e,!1)),e)"undefined"===typeof this[s]&&(this[s]=e[s])}return Object(n["a"])(t,[{key:"isItem",value:function(){return"Feature"===this.type}},{key:"isCatalog",value:function(){return"Catalog"===this.type}},{key:"isCatalogLike",value:function(){return this.isCatalog()||this.isCollection()}},{key:"isCollection",value:function(){return"Collection"===this.type}},{key:"isItemCollection",value:function(){return"FeatureCollection"===this.type}},{key:"hasApiData",value:function(){return this._apiChildren.list.length>0}},{key:"getChildren",value:function(){if(!this.isCatalogLike())return[];var e=[];return this._apiChildren.prev&&e.push(this._apiChildren.prev),this._apiChildren.list.length>0&&(e=this._apiChildren.list),e=t.addMissingChildren(e,this).concat(this.getLinksWithRels(["item"])),this._apiChildren.next&&e.push(this._apiChildren.next),e}},{key:"getApiCollectionsLink",value:function(){return this.getLinkWithRel("data")}},{key:"getApiItemsLink",value:function(){return this.getLinkWithRel("items")}},{key:"getMetadata",value:function(t){return this.isItem()?this.properties[t]:this.isCatalogLike()?this[t]:null}},{key:"getBrowserPath",value:function(){return this._path}},{key:"getAbsoluteUrl",value:function(){return this._url}},{key:"getLinkWithRel",value:function(t){return i["a"].getLinkWithRel(this.links,t)}},{key:"getLinksWithRels",value:function(t){return i["a"].getLinksWithRels(this.links,t)}},{key:"getLinksWithOtherRels",value:function(t){return i["a"].getLinksWithOtherRels(this.links,t)}},{key:"getAssetsWithRoles",value:function(t){var e=[];if(i["a"].isObject(this.assets))for(var r in this.assets){var a=this.assets[r];i["a"].isObject(a)&&"string"===typeof a.href&&Array.isArray(a.roles)&&a.roles.find((function(e){return t.includes(e)}))&&e.push(a)}return e}},{key:"getTitle",value:function(){return this.isItem()?this.properties.title:this.title}},{key:"_linkToAbsolute",value:function(t){return Object.assign({},t,{href:i["a"].toAbsolute(t.href,this.getAbsoluteUrl())})}},{key:"getIcons",value:function(){var t=this;return this.getLinksWithRels(["icon"]).filter((function(t){return i["a"].canBrowserDisplayImage(t)})).map((function(e){return t._linkToAbsolute(e)}))}},{key:"getThumbnails",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,a=this.getAssetsWithRoles(["thumbnail","overview"]);return r&&a.length>1&&a.sort((function(t){return t.roles.includes(r)?-1:1})),0===a.length&&(a=this.getLinksWithRels(["preview"])),0===a.length&&i["a"].isObject(this.assets)&&i["a"].isObject(this.assets.thumbnail)&&(a=[this.assets.thumbnail]),e&&(a=a.filter((function(t){return i["a"].canBrowserDisplayImage(t)}))),a.map((function(e){return t._linkToAbsolute(e)}))}},{key:"equals",value:function(t){return!!i["a"].isObject(t)&&(this===t||this.id===t.id&&this.type==t.type)}}],[{key:"addMissingChildren",value:function(t,e){var r=e.getLinksWithRels(["child"]).filter((function(r){if(!i["a"].isStacMediaType(r.type,!0))return!1;var a=i["a"].toAbsolute(r.href,e.getAbsoluteUrl());return!t.find((function(t){return t.getAbsoluteUrl()===a}))}));return t.concat(r)}},{key:"getDisplayTitle",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;Array.isArray(e)||(e=[e]);var a=e.find((function(e){return e instanceof t})),n=e.find((function(e){return i["a"].isObject(e)&&!(e instanceof t)}));return a&&i["a"].hasText(a.getTitle())?a.getTitle():n&&i["a"].hasText(n.title)?n.title:a&&i["a"].hasText(a.id)?a.id:i["a"].hasText(r)?r:a?i["a"].titleForHref(a.getAbsoluteUrl(),!0):n&&i["a"].hasText(n.href)?i["a"].titleForHref(n.href,!0):"Untitled"}}]),t}();e["a"]=l},"497a":function(t,e,r){"use strict";r("7fdc")},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-container",{attrs:{id:"stac-browser"}},[r("b-sidebar",{attrs:{id:"sidebar",title:"Browse",shadow:"",lazy:""}},[r("Sidebar")],1),r("header",[r("div",{staticClass:"logo"},[t._v(t._s(t.catalogTitle))]),r("StacHeader")],1),r("main",[t.globalError?r("ErrorAlert",t._b({staticClass:"global-error",on:{close:t.hideError}},"ErrorAlert",t.globalError,!1)):t._e(),r("router-view")],1),r("footer",[r("small",{staticClass:"poweredby text-muted"},[t._v(" Powered by "),r("a",{attrs:{href:"https://github.com/radiantearth/stac-browser"}},[t._v("STAC Browser")]),t._v(" v"+t._s(t.browserVersion)+" ")])])],1)},i=[],s=r("ade3"),o=r("53ca"),c=r("5530"),l=(r("2ca0"),r("4de4"),r("d3b7"),r("ac1f"),r("5319"),r("caad"),r("8c4f")),u=r("2f62"),h=(r("3ca3"),r("ddb0"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",[!t.allowExternalAccess&&t.isExternal?r("b-alert",[r("p",[t._v("Accessing external catalogs is not allowed!")])]):t._e(),t.error?r("ErrorAlert",{attrs:{dismissible:!1,url:t.url,description:t.errorDescription,id:t.errorId}}):t.loading?r("div",{staticClass:"loading text-center"},[r("b-spinner",{attrs:{label:"Loading..."}})],1):r(t.component,{tag:"component"})],1)}),d=[],f=(r("d9e2"),r("a4d3"),r("e01a"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-alert",{attrs:{variant:"danger",show:"",dismissible:t.dismissible},on:{dismissed:function(e){return t.$emit("close")}}},[r("p",{staticClass:"message"},[t._v(t._s(t.message))]),t.error&&t.error.message?r("dl",{staticClass:"error"},[r("dt",[t._v("Caused by:")]),r("dd",[t._v(t._s(t.error.message))])]):t._e(),t.description?r("dl",{staticClass:"description"},[r("dt",[t._v("Reasoning:")]),r("dd",[t._v(t._s(t.description))])]):t._e(),t.id?r("dl",{staticClass:"id"},[r("dt",[t._v("Error code:")]),r("dd",[r("code",[t._v(t._s(t.id))])])]):t._e(),t.url?r("dl",{staticClass:"url"},[r("dt",[t._v("Requested URL:")]),r("dd",[r("code",[t._v(t._s(t.url))])])]):t._e()])}),p=[],b=(r("a9e3"),{name:"ErrorAlert",props:{message:{type:String,default:"Sorry, the requested page could not be loaded."},description:{type:String,default:""},error:{type:[Object,Error],required:!0},id:{type:[String,Number],default:null},url:{type:String,default:""},dismissible:{type:Boolean,default:!0}}}),g=b,m=(r("a7a8"),r("2877")),v=Object(m["a"])(g,f,p,!1,null,"62db6052",null),y=v.exports,k=r("025e"),w={name:"Browse",components:{ErrorAlert:y,Item:function(){return Promise.all([r.e("catalog~item"),r.e("item")]).then(r.bind(null,"f0df"))},Catalog:function(){return Promise.all([r.e("catalog~item"),r.e("catalog")]).then(r.bind(null,"247d"))}},props:{path:{type:String,default:""}},computed:Object(c["a"])(Object(c["a"])(Object(c["a"])({},Object(u["c"])(["allowExternalAccess","url","redirectUrl","data"])),Object(u["b"])(["isItem","error","loading"])),{},{errorId:function(){if(this.error instanceof Error&&this.error.isAxiosError&&k["a"].isObject(this.error.response)){var t=this.error.response;return k["a"].isObject(t.data)&&t.data.code?t.data.code:t.status}return null},errorDescription:function(){var t=" Please contact the service operator to resolve this issue.";if(this.error instanceof Error&&this.error.isAxiosError&&k["a"].isObject(this.error.response)){var e=this.error.response;if(k["a"].isObject(e.data)){if("string"===typeof e.data.description)return e.data.description;if("string"===typeof e.data.detail)return e.data.detail}if(401===e.status)return"The request lacks credentials, e.g. an API token. Please provide your credentials and try again.";if(403===e.status)return"The credentials specified for this request are invalid, e.g. an expired or invalid API token. Please provide other credentials and try again.";if(404===e.status)return"The requested resource does not exist."+t;if(e.status>500)return"The server encountered an issue."+t;if(e.status>400)return"The request is invalid. This might be due to invalid parameters, e.g. in a search request, or could be a bug in STAC Browser."}return"This issue may occur when servers don't allow external access via web browsers (e.g., when CORS headers are not present)."+t},component:function(){return this.isItem?"Item":"Catalog"},isExternal:function(){return k["a"].urlType(this.path,"absolute")}}),watch:{path:{immediate:!0,handler:function(t,e){t!==e&&this.$store.dispatch("load",{url:t||"/",fromBrowser:!0,show:!0,loadApi:!0})}},redirectUrl:{immediate:!0,handler:function(t){t&&this.$router.replace({path:t})}}}},j=w,x=Object(m["a"])(j,h,d,!1,null,null,null),O=x.exports;function A(t){var e=[];return t.allowExternalAccess&&e.push({path:"/external/(.*)",name:"browseExternal",component:O,props:function(t){return{path:"/external/".concat(t.params.pathMatch)}}}),t.catalogUrl?e.push({path:"/search",name:"search",component:function(){return r.e("chunk-625256e2").then(r.bind(null,"2d3b"))}}):(e.push({path:"/",name:"select",component:function(){return Promise.all([r.e("chunk-45b1a3e6"),r.e("chunk-547f0398")]).then(r.bind(null,"8db4"))}}),e.push({path:"/search/external/(.*)",name:"search",component:function(){return r.e("chunk-625256e2").then(r.bind(null,"2d3b"))},props:function(t){return{loadRoot:"/external/".concat(t.params.pathMatch)}}})),e.push({path:"/(.*)",name:"browse",component:O,props:function(t){return{path:t.params.pathMatch}}}),e}var C=A,L=r("c7eb"),_=r("1da1"),S=r("b85c"),T=(r("7db0"),r("4d63"),r("c607"),r("2c3e"),r("25f0"),r("466d"),r("99af"),r("07ac"),r("2532"),r("a15b"),r("1276"),r("8a79"),r("dca8"),r("a434"),r("d81d"),r("fb6a"),r("9911"),r("bc3a")),P=r.n(T),U=r("2a32"),I=r("0774"),B=r.n(I),E=r("bee2"),R=r("d4ec"),q=Object(E["a"])((function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object(R["a"])(this,t),this.show=Boolean(e),this.loadApi=Boolean(r)}));function W(t,e){return $.apply(this,arguments)}function $(){return $=Object(_["a"])(Object(L["a"])().mark((function t(e,r){var a,n;return Object(L["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return k["a"].isObject(r)?(n="string"===typeof r.method?r.method.toLowerCase():"get",a={method:n,url:e.getters.getRequestUrl(r.href),headers:Object.assign({},e.state.requestHeaders,r.headers),data:r.body}):a="string"===typeof r?{method:"get",url:e.getters.getRequestUrl(r),headers:e.state.requestHeaders}:r,t.next=3,P()(a);case 3:return t.abrupt("return",t.sent);case 4:case"end":return t.stop()}}),t)}))),$.apply(this,arguments)}var F=r("c909"),M=r.n(F);function Q(t){var e=function(){return{url:"",title:t.catalogTitle,data:null,valid:null,parents:null,globalError:null,stateQueryParameters:{},apiItems:[],apiItemsLink:null,apiItemsFilter:{},apiItemsPagination:{}}},r=function(){return{database:{},queue:[],redirectUrl:null,privateQueryParameters:{},apiCollections:[],nextCollectionsLink:null}};return new u["a"].Store({strict:!0,state:Object.assign({},t,e(),r(),{allowSelectCatalog:!t.catalogUrl,stacIndex:[],supportedRelTypes:["child","collection","data","first","icon","item","items","last","license","next","prev","parent","root","search","self"]}),getters:{loading:function(t){return!t.url||!t.data||t.database[t.url]instanceof q},error:function(t){return t.database[t.url]instanceof Error?t.database[t.url]:null},getStac:function(t){return function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return null;var a=k["a"].toAbsolute(e,t.url),n=t.database[a];return n instanceof U["a"]||r&&n instanceof Error?n:null}},getStacFromLink:function(t,e){return function(r){var a,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=(null===(a=t.data)||void 0===a?void 0:a.getLinkWithRel(r))||{href:n};return e.getStac(i.href)}},displayCatalogTitle:function(t,e){return U["a"].getDisplayTitle(e.root,t.catalogTitle)},isCollection:function(t){var e;return(null===(e=t.data)||void 0===e?void 0:e.isCollection())||!1},isCatalog:function(t){var e;return(null===(e=t.data)||void 0===e?void 0:e.isCatalog())||!1},isCatalogLike:function(t){var e;return(null===(e=t.data)||void 0===e?void 0:e.isCatalogLike())||!1},isItem:function(t){var e;return(null===(e=t.data)||void 0===e?void 0:e.isItem())||!1},stacVersion:function(t){var e;return null===(e=t.data)||void 0===e?void 0:e.stac_version},root:function(t,e){var r;return t.catalogUrl?r=t.catalogUrl:t.url&&t.data instanceof U["a"]&&t.data.getLinksWithRels(["conformance","service-desc","service-doc","data","search"]).length>0&&(r=t.url),e.getStacFromLink("root",r)},parent:function(t,e){return e.getStacFromLink("parent")},collection:function(t,e){return e.getStacFromLink("collection")},getLink:function(t,e){return function(r){var a,n=null===(a=t.data)||void 0===a?void 0:a.getLinkWithRel(r),i=e[r],s=U["a"].getDisplayTitle([i,n]);if(n)n=Object.assign({},n),n.title=s;else if(i instanceof U["a"])return{href:i.getAbsoluteUrl(),title:s,rel:r};return n}},parentLink:function(t,e){return e.getLink("parent")},collectionLink:function(t,e){return e.getLink("collection")},searchLink:function(t,e){var r=[];return e.root?r=e.root.getLinksWithRels(["search"]):t.data instanceof U["a"]&&(r=t.data.getLinksWithRels(["search"])),r.find((function(t){return k["a"].isStacMediaType(t.type,!0)&&"POST"!==t.method}))},supportsSearch:function(t,e){return Boolean(e.searchLink)},supportsConformance:function(t,e){return function(r){var a=[];e.root&&Array.isArray(e.root.conformsTo)?a=e.root.conformsTo:t.data instanceof U["a"]&&Array.isArray(t.data.conformsTo)&&(a=t.data.conformsTo);var n=new RegExp("^"+r.replace("*","[^/]+").replace(/\/?#/,"/?#")+"$");return!!a.find((function(t){return t.match(n)}))}},tileRendererType:function(t){return!t.tileSourceTemplate&&!t.buildTileUrlTemplate||t.useTileLayerAsFallback?"client":"server"},items:function(t){return t.apiItems.length>0?t.apiItems:t.data?t.data.getLinksWithRels(["item"]).filter((function(t){return k["a"].isStacMediaType(t.type,!0)})):[]},catalogs:function(t){var e=[];return t.data.getApiCollectionsLink()&&t.apiCollections.length>0&&(e=e.concat(t.apiCollections)),t.data&&(e=U["a"].addMissingChildren(e,t.data)),e},hasMoreCollections:function(t){return Boolean(t.nextCollectionsLink)},hasAssets:function(t,e){return Object.values(e.assets).find((function(t){return k["a"].isObject(t)&&"string"===typeof t.href}))},assets:function(t,e){var r;if(k["a"].isObject(null===(r=t.data)||void 0===r?void 0:r.assets)){if(t.showThumbnailsAsAssets)return t.data.assets;var a={},n=e.thumbnails;for(var i in t.data.assets){var s=t.data.assets[i];n.includes(s)||(a[i]=s)}return a}return{}},thumbnails:function(t){return t.data?t.data.getThumbnails(!0):[]},additionalLinks:function(t){return t.data?t.data.getLinksWithOtherRels(t.supportedRelTypes).filter((function(t){return"preview"!==t.rel||!k["a"].canBrowserDisplayImage(t)})):[]},toBrowserPath:function(t,e){return function(r){k["a"].hasText(r)||(r="/");var a,n=k["a"].toAbsolute(e.unproxyUrl(r),t.url,!1);if(!t.allowSelectCatalog&&t.catalogUrl&&(a=n.relativeTo(t.catalogUrl)),"undefined"===typeof a||e.isExternalUrl(n)){if(!t.allowExternalAccess)return n.toString();var i=["/external"],s=n.protocol();"https"!==s&&i.push(s+":"),i.push(n.authority()),i.push(n.path().replace(/^\//,""));var o=i.join("/"),c=n.query();return c&&(o+="?".concat(c)),o}return"/"+a}},fromBrowserPath:function(t,e){return function(r){if(k["a"].hasText(r)&&"/"!==r)if(r.startsWith("/external/")){var a,n=r.replace(/^\/external\//,"").split("/");a=n[0].endsWith(":")?n.shift():"https:",r="".concat(a,"//").concat(n.join("/"))}else!t.allowSelectCatalog&&t.catalogUrl&&(r=k["a"].toAbsolute(r,t.catalogUrl,!1));else r=t.catalogUrl;return e.getRequestUrl(r)}},unproxyUrl:function(t){return function(e){return e instanceof M.a&&(e=e.toString()),"string"===typeof e&&Array.isArray(t.stacProxyUrl)?e.replace(t.stacProxyUrl[1],t.stacProxyUrl[0]):e}},proxyUrl:function(t){return function(e){return e instanceof M.a&&(e=e.toString()),"string"===typeof e&&Array.isArray(t.stacProxyUrl)?e.replace(t.stacProxyUrl[0],t.stacProxyUrl[1]):e}},isExternalUrl:function(t){return function(e){return!!t.catalogUrl&&e.relativeTo(t.catalogUrl)===e}},getRequestUrl:function(t,e){return function(r){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=k["a"].toAbsolute(e.proxyUrl(r),a||t.url,!1);return e.isExternalUrl(i)||(k["a"].size(t.privateQueryParameters)>0&&i.addQuery(t.privateQueryParameters),n&&k["a"].size(t.requestQueryParameters)>0&&i.addQuery(t.requestQueryParameters)),i.toString()}}},mutations:{config:function(t,e){for(var r in e){var a=e[r];switch(r){case"catalogTitle":t.catalogTitle=a;break;case"catalogUrl":if("string"===typeof a){var n=new M.a(a);t.requestQueryParameters=Object.assign({},t.requestQueryParameters,n.query(!0)),n.query(""),t.catalogUrl=n.toString()}break;case"stacProxyUrl":"string"===typeof a&&a.includes(";")?t[r]=a.split(";"):t[r]=a;break;default:t[r]=a}}},queryParameters:function(t,e){for(var r in e)t["".concat(r,"QueryParameters")]=e[r]},stacIndex:function(t,e){t.stacIndex=Object.freeze(e)},tileSourceTemplate:function(t,e){t.tileSourceTemplate=e},updateLoading:function(t,e){var r=e.url,n=e.show,i=e.loadApi,s=t.database[r];a["a"].set(s,"show",n||s.show),a["a"].set(s,"loadApi",i||s.loadApi)},loading:function(t,e){var r=e.url,n=e.loading;a["a"].set(t.database,r,n),n.show&&(t.url=r)},loaded:function(t,e){var r=e.url,n=e.data;a["a"].set(t.database,r,Object.freeze(n))},resetCatalog:function(t){Object.assign(t,r())},resetPage:function(t){Object.assign(t,e())},showPage:function(t,e){var r=e.url,a=e.title,n=e.stac;n||(n=t.database[r]||null),t.url=r||null,t.data=n instanceof U["a"]?n:null,t.valid=null,t.title=a||U["a"].getDisplayTitle(n,t.catalogTitle)},errored:function(t,e){var r=e.url,n=e.error;n instanceof Error||(n=new Error(n)),a["a"].set(t.database,r,n)},valid:function(t,e){t.valid=e},queue:function(t,e){t.queue.push(e)},unqueue:function(t,e){var r=t.queue.indexOf(e);-1!==r&&t.queue.splice(r,1)},removeFromQueue:function(t,e){t.queue.splice(0,e)},setApiItemsLink:function(t,e){t.apiItemsLink=e},setApiItems:function(t,e){var r=e.data,a=e.stac,n=e.show;if(k["a"].isObject(r)&&Array.isArray(r.features)){var i=r.features.map((function(t){return Object.freeze(t)}));n&&(t.apiItems=i);var s,o=k["a"].getLinksWithRels(r.links,["first","prev","previous","next","last"]),c={},l=Object(S["a"])(o);try{for(l.s();!(s=l.n()).done;){var u=s.value,h="previous"===u.rel?"prev":u.rel;c[h]=u}}catch(d){l.e(d)}finally{l.f()}n&&(t.apiItemsPagination=c),a instanceof U["a"]&&(a._apiChildren.prev=c.prev,a._apiChildren.next=c.next,a._apiChildren.list=i)}},addApiCollections:function(t,e){var r=e.data,a=e.stac,n=e.show;if(k["a"].isObject(r)&&Array.isArray(r.collections)){var i=r.collections.map((function(t){return Object.freeze(t)})),s=k["a"].getLinkWithRel(r.links,"next");n&&(t.nextCollectionsLink=s,t.apiCollections=t.apiCollections.concat(i)),a instanceof U["a"]&&(a._apiChildren.next=s,a._apiChildren.list=i)}},setApiItemsFilter:function(t,e){t.apiItemsFilter=e},resetApiItems:function(t){t.apiItems=[],t.apiItemsPagination={}},redirectLegacyUrl:function(t,e){if(e){var r=e.split("/").filter((function(t){return t.length>0&&"item"!==t&&"collection"!==t}));if(r.length>0&&r.every((function(t){return t.match(/^[123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ]+$/)}))){var a=B.a.decode(r[r.length-1]).toString();a&&(t.redirectUrl="/"+a)}}},parents:function(t,e){t.parents=e},showGlobalError:function(t,e){console.error(e),t.globalError=e}},actions:{loadBackground:function(t,e){return Object(_["a"])(Object(L["a"])().mark((function r(){var a,n,i,s,o;return Object(L["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=t.state.queue.slice(0,e),!(a.length>0)){r.next=9;break}n=[],i=Object(S["a"])(a);try{for(i.s();!(s=i.n()).done;)o=s.value,n.push(t.dispatch("load",{url:o}))}catch(c){i.e(c)}finally{i.f()}return t.commit("removeFromQueue",e),r.next=8,Promise.all(n);case 8:return r.abrupt("return",r.sent);case 9:case"end":return r.stop()}}),r)})))()},loadStacIndex:function(t){return Object(_["a"])(Object(L["a"])().mark((function e(){var r;return Object(L["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,P.a.get("https://stacindex.org/api/catalogs");case 3:r=e.sent,Array.isArray(r.data)&&t.commit("stacIndex",r.data),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},loadParents:function(t){return Object(_["a"])(Object(L["a"])().mark((function e(){var r,a,n,i,s;return Object(L["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.state.data instanceof U["a"]){e.next=3;break}return t.commit("parents",[]),e.abrupt("return");case 3:r=[],a=t.state.data;case 5:if(!a){e.next=22;break}if(n=a.getLinkWithRel("parent")||a.getLinkWithRel("root"),n){e.next=9;break}return e.abrupt("break",22);case 9:return i=k["a"].toAbsolute(n.href,a.getAbsoluteUrl()),e.next=12,t.dispatch("load",{url:i,loadApi:!0});case 12:if(s=t.getters.getStac(i,!0),!(s instanceof Error)){e.next=16;break}return t.commit("parents",s),e.abrupt("return");case 16:if(s!==a){e.next=18;break}return e.abrupt("break",22);case 18:r.push(s),a=s,e.next=5;break;case 22:t.commit("parents",r);case 23:case"end":return e.stop()}}),e)})))()},load:function(t,e){return Object(_["a"])(Object(L["a"])().mark((function r(){var a,n,i,s,o,c,l,u,h;return Object(L["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=e.url,n=e.fromBrowser,i=e.show,s=e.loadApi,n?(o=a.startsWith("/")?a:"/"+a,a=t.getters.fromBrowserPath(a)):(a=k["a"].toAbsolute(a,t.state.url),o=t.getters.toBrowserPath(a)),i&&t.commit("resetPage"),c=new q(i,s),l=t.state.database[a],!(l instanceof q)){r.next=10;break}return t.commit("updateLoading",{url:a,show:i,loadApi:s}),r.abrupt("return");case 10:if(l){r.next=28;break}return t.commit("loading",{url:a,loading:c}),r.prev=12,r.next=15,W(t,a);case 15:if(u=r.sent,k["a"].isObject(u.data)){r.next=18;break}throw new Error("The response is not a valid STAC JSON");case 18:l=new U["a"](u.data,a,o),t.commit("loaded",{url:a,data:l}),t.getters.root||(h=l.getLinkWithRel("root"),h&&t.commit("config",{catalogUrl:k["a"].toAbsolute(h.href,a)})),r.next=28;break;case 23:r.prev=23,r.t0=r["catch"](12),console.error(r.t0),t.commit("errored",{url:a,error:r.t0}),t.state.redirectLegacyUrls&&n&&i&&t.commit("redirectLegacyUrl",o);case 28:if(!(c.loadApi&&l instanceof U["a"])){r.next=47;break}if(!l.getApiCollectionsLink()){r.next=38;break}return r.prev=30,r.next=33,t.dispatch("loadNextApiCollections",{stac:l,show:c.show});case 33:r.next=38;break;case 35:r.prev=35,r.t1=r["catch"](30),t.commit("showGlobalError",{message:"Sorry, the API Collections could not be loaded.",error:r.t1});case 38:if(!l.getApiItemsLink()){r.next=47;break}return r.prev=39,r.next=42,t.dispatch("loadApiItems",{stac:l,show:c.show});case 42:r.next=47;break;case 44:r.prev=44,r.t2=r["catch"](39),t.commit("showGlobalError",{message:"Sorry, the API Items could not be loaded.",error:r.t2});case 47:c.show&&t.commit("showPage",{url:a});case 48:case"end":return r.stop()}}),r,null,[[12,23],[30,35],[39,44]])})))()},loadApiItems:function(t,e){return Object(_["a"])(Object(L["a"])().mark((function r(){var a,n,i,s,o,c;return Object(L["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:return a=e.link,n=e.stac,i=e.show,s=e.filters,o=t.state.url,n instanceof U["a"]&&(a=n.getApiItemsLink(),o=n.getAbsoluteUrl()),k["a"].isObject(s)||(s={}),"number"!==typeof s.limit&&(s.limit=t.state.itemsPerPage),t.commit("setApiItemsFilter",s),a=k["a"].addFiltersToLink(a,s),r.next=9,W(t,a);case 9:if(c=r.sent,k["a"].isObject(c.data)&&Array.isArray(c.data.features)){r.next=14;break}throw new Error("The API response is not a valid list of STAC Items");case 14:return c.data.features=c.data.features.map((function(e){var r,a=k["a"].getLinkWithRel(e.links,"self");return r=null!==a&&void 0!==a&&a.href?k["a"].toAbsolute(a.href,o):k["a"].toAbsolute("./collections/".concat(t.state.data.id,"/items/").concat(e.id),t.state.catalogUrl||o),new U["a"](e,r,t.getters.toBrowserPath(r))})),i&&t.commit("setApiItemsLink",a),t.commit("setApiItems",{data:c.data,stac:n,show:i}),r.abrupt("return",c);case 18:case"end":return r.stop()}}),r)})))()},loadNextApiCollections:function(t,e){return Object(_["a"])(Object(L["a"])().mark((function r(){var a,n,i,s;return Object(L["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(a=e.stac,n=e.show,!a){r.next=7;break}if(!(t.state.apiCollections.length>0)){r.next=4;break}return r.abrupt("return");case 4:i=a.getLinkWithRel("data"),r.next=9;break;case 7:a=t.state.data,i=t.state.nextCollectionsLink;case 9:if(i){r.next=11;break}return r.abrupt("return");case 11:return r.next=13,W(t,i);case 13:if(s=r.sent,k["a"].isObject(s.data)&&Array.isArray(s.data.collections)){r.next=18;break}throw new Error("The API response is not a valid list of STAC Collections");case 18:s.data.collections=s.data.collections.map((function(e){var r,n=k["a"].getLinkWithRel(e.links,"self");return r=null!==n&&void 0!==n&&n.href?k["a"].toAbsolute(n.href,t.state.url||a.getAbsoluteUrl()):k["a"].toAbsolute("collections/".concat(e.id),t.state.catalogUrl||a.getAbsoluteUrl()),new U["a"](e,r,t.getters.toBrowserPath(r))})),t.commit("addApiCollections",{data:s.data,stac:a,show:n});case 20:case"end":return r.stop()}}),r)})))()},validate:function(t,e){return Object(_["a"])(Object(L["a"])().mark((function r(){var a,n,i,s;return Object(L["a"])().wrap((function(r){while(1)switch(r.prev=r.next){case 0:if("boolean"!==typeof t.state.valid){r.next=2;break}return r.abrupt("return");case 2:return r.prev=2,i=new M.a("https://api.staclint.com/url"),i.addSearch("stac_url",e),r.next=7,P.a.get(i.toString());case 7:s=r.sent,t.commit("valid",Boolean(null===(a=s.data)||void 0===a||null===(n=a.body)||void 0===n?void 0:n.valid_stac)),r.next=14;break;case 11:r.prev=11,r.t0=r["catch"](2),t.commit("valid",r.t0);case 14:case"end":return r.stop()}}),r,null,[[2,11]])})))()}}})}a["a"].use(u["a"]);var z=Q,D=r("cca8"),H=r("8b3d"),N=r("7049"),V=r("521d"),G=r("a7e2"),J=r("498a"),X=r("89bf"),K=r("b519"),Y=r("1f1a"),Z=r("39ba"),tt=r("6976"),et=(r("f9e3"),r("2dd8"),r("4ae6")),rt=r.n(et),at=r("6057"),nt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"sidebar"},[t.parents?t.root?r("Tree",{attrs:{item:t.root,path:t.parents}}):t._e():r("div",{staticClass:"loading text-center"},[r("b-spinner",{attrs:{label:"Loading..."}})],1),t.allowSelectCatalog?r("b-button",{staticClass:"mt-4",attrs:{variant:"light"}},[r("router-link",{attrs:{to:"/"}},[r("b-icon-arrow-left-right"),t._v(" Switch Catalog")],1)],1):t._e()],1)},it=[],st=r("7386"),ot=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",{directives:[{name:"b-visible",rawName:"v-b-visible",value:t.load,expression:"load"}],staticClass:"tree"},[r("li",[t.pagination?r("b-button",{attrs:{size:"sm",variant:"light",disabled:!0}},[r("b-icon-three-dots")],1):t.mayHaveChildren?[r("b-button",{attrs:{size:"sm",variant:"light"},on:{click:t.toggle}},[t.expanded?r("b-icon-folder-minus"):r("b-icon-folder-plus")],1)]:r("b-button",{attrs:{size:"sm",variant:"light",disabled:!0}},[r("b-icon-file-earmark-richtext")],1),r("b-button",{class:{path:t.onPath||t.active},attrs:{size:"sm",variant:"light",disabled:t.active||!t.to,to:t.to}},[t._v(" "+t._s(t.title)+" ")]),t.expanded&&t.mayHaveChildren?[t.loading?r("ul",{staticClass:"tree"},[r("li",[r("b-spinner",{attrs:{label:"Loading...",small:""}})],1)]):0===t.childs.length?r("ul",{staticClass:"tree"},[r("li",[r("b-button",{attrs:{size:"sm",variant:"light",disabled:""}},[t._v(" No children available. ")])],1)]):t._l(t.childs,(function(e,a){return r("Tree",{key:a,attrs:{item:e,parent:t.stac,path:t.path}})}))]:t._e()],2)])},ct=[],lt={name:"Tree",components:{BIconFileEarmarkRichtext:st["o"],BIconFolderMinus:st["p"],BIconFolderPlus:st["q"],BIconThreeDots:st["A"]},props:{item:{type:Object,required:!0},parent:{type:Object,default:null},path:{type:Array,default:function(){return[]}}},data:function(){return{expanded:!1,loading:!1}},computed:Object(c["a"])(Object(c["a"])(Object(c["a"])({},Object(u["c"])(["data"])),Object(u["b"])(["getStac"])),{},{stac:function(){if(this.pagination)return null;if(this.item instanceof U["a"]){var t=this.getStac(this.item.getAbsoluteUrl());return!this.loading&&t?t:this.item}return this.getStac(this.link)},link:function(){return this.pagination?this.parent?this.parent.getAbsoluteUrl():null:k["a"].isObject(this.item)&&"string"===typeof this.item.href?this.parent?k["a"].toAbsolute(this.item.href,this.parent.getAbsoluteUrl()):this.item.href:null},mayHaveChildren:function(){return this.item instanceof U["a"]?this.item.isCatalogLike():!!this.link&&"item"!==this.item.rel},to:function(){return this.pagination?this.parent&&this.parent.getAbsoluteUrl()!==this.data.getAbsoluteUrl()?this.parent.getBrowserPath():null:this.stac instanceof U["a"]?this.stac.getBrowserPath():null},title:function(){return this.pagination?"more pages available for Collection":U["a"].getDisplayTitle([this.item,this.stac])},childs:function(){return this.stac?this.stac.getChildren():[]},onPath:function(){return!(!Array.isArray(this.path)||!this.stac)&&this.path.includes(this.stac)},active:function(){return this.stac===this.data},pagination:function(){return["next","prev","previous"].includes(this.item.rel)}}),watch:{onPath:{immediate:!0,handler:function(){this.onPath&&(this.expanded=!0)}}},methods:{load:function(t){this.stac||!this.link||this.pagination||this.$store.commit(t?"queue":"unqueue",this.link)},toggle:function(){var t=this;return Object(_["a"])(Object(L["a"])().mark((function e(){var r;return Object(L["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.expanded=!t.expanded,!t.expanded||t.pagination){e.next=7;break}return t.loading=!0,r=t.item instanceof U["a"]?t.item.getAbsoluteUrl():t.item.href,e.next=6,t.$store.dispatch("load",{url:r,loadApi:!0});case 6:t.loading=!1;case 7:case"end":return e.stop()}}),e)})))()}}},ut=lt,ht=(r("c06b"),Object(m["a"])(ut,ot,ct,!1,null,"09702ad7",null)),dt=ht.exports,ft={name:"Sidebar",components:{BIconArrowLeftRight:st["b"],Tree:dt},computed:Object(c["a"])(Object(c["a"])({},Object(u["c"])(["allowSelectCatalog","parents"])),Object(u["b"])(["root"])),created:function(){var t=this;return Object(_["a"])(Object(L["a"])().mark((function e(){return Object(L["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("loadParents");case 2:case"end":return e.stop()}}),e)})))()}},pt=ft,bt=(r("a4f8"),Object(m["a"])(pt,nt,it,!1,null,"90c532e2",null)),gt=bt.exports,mt=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("b-row",[r("b-col",{attrs:{md:"12"}},[r("Share",{staticClass:"float-right",attrs:{title:t.title,stacUrl:t.url,stacVersion:t.stacVersion}}),r("h1",[t.icon?[r("img",{staticClass:"icon mr-2",attrs:{src:t.icon.href,alt:t.icon.title,title:t.icon.title}})]:t._e(),r("span",{staticClass:"title"},[t._v(t._s(t.title))])],2),t.url||t.isSearchPage()?r("p",{staticClass:"lead"},[t.containerLink?r("span",{staticClass:"in mr-3"},[t._v("in "),r("StacLink",{attrs:{data:t.containerLink}})],1):t._e(),r("b-button-group",[t.parentLink?r("b-button",{attrs:{to:t.toBrowserPath(t.parentLink.href),title:"Go to parent > "+t.parentLink.title,variant:"outline-primary",size:"sm"}},[r("b-icon-arrow-90deg-up"),t._v(" "),r("span",{staticClass:"button-label prio"},[t._v("Go to Parent")])],1):t._e(),t.collectionLink?r("b-button",{attrs:{to:t.toBrowserPath(t.collectionLink.href),title:"Go to collection > "+t.collectionLink.title,variant:"outline-primary",size:"sm"}},[r("b-icon-folder-symlink"),t._v(" "),r("span",{staticClass:"button-label prio"},[t._v("Go to Collection")])],1):t._e(),r("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle.sidebar",modifiers:{sidebar:!0}}],attrs:{variant:"outline-primary",size:"sm",title:"Browse"}},[r("b-icon-book"),t._v(" "),r("span",{staticClass:"button-label prio"},[t._v("Browse")])],1),t.supportsSearch&&!t.isSearchPage()?r("b-button",{attrs:{variant:"outline-primary",size:"sm",to:t.searchBrowserLink,title:"Search"}},[r("b-icon-search"),t._v(" "),r("span",{staticClass:"button-label prio"},[t._v("Search")])],1):t._e()],1)],1):t._e()],1)],1)},vt=[],yt=(r("b0c0"),r("b701")),kt={name:"StacHeader",components:{BIconArrow90degUp:st["a"],BIconBook:st["d"],BIconFolderSymlink:st["r"],BIconSearch:st["w"],StacLink:yt["default"],Share:function(){return Promise.all([r.e("chunk-45b1a3e6"),r.e("chunk-06be1bb0")]).then(r.bind(null,"17a4"))}},computed:Object(c["a"])(Object(c["a"])(Object(c["a"])({},Object(u["c"])(["allowSelectCatalog","catalogUrl","data","url","title"])),Object(u["b"])(["root","parentLink","collectionLink","stacVersion","supportsSearch","toBrowserPath"])),{},{icon:function(){if(this.data instanceof U["a"]){var t=this.data.getIcons();if(t.length>0)return t[0]}return null},searchBrowserLink:function(){return this.allowSelectCatalog?this.supportsSearch&&this.root?"/search".concat(this.root.getBrowserPath()):this.supportsSearch&&this.url?"/search".concat(this.toBrowserPath(this.url)):null:"/search"},containerLink:function(){return this.catalogUrl&&this.url===this.catalogUrl?null:this.root?k["a"].equalUrl(this.root.getAbsoluteUrl(),this.url)?null:{href:this.root.getAbsoluteUrl(),rel:"root",title:U["a"].getDisplayTitle(this.root)}:this.collectionLink||this.parentLink}}),methods:{isSearchPage:function(){return"search"===this.$router.currentRoute.name}}},wt=kt,jt=(r("055a"),Object(m["a"])(wt,mt,vt,!1,null,"50c497dc",null)),xt=jt.exports,Ot=r("a1bc");for(var At in a["a"].use(rt.a),a["a"].use(D["a"]),a["a"].use(H["a"]),a["a"].use(N["a"]),a["a"].use(V["a"]),a["a"].use(G["a"]),a["a"].use(J["a"]),a["a"].use(X["a"]),a["a"].use(K["a"]),a["a"].use(Y["a"]),a["a"].directive("b-toggle",Z["a"]),a["a"].directive("b-visible",tt["a"]),at["Formatters"])At.startsWith("format")&&a["a"].filter(At.replace(/^format/,""),at["Formatters"][At]);var Ct=Object.assign(Ot,{pathPrefix:"/stac-browser",historyMode:"hash"});a["a"].use(l["a"]);var Lt=new l["a"]({mode:Ct.historyMode,base:Ct.pathPrefix,routes:C(Ct)}),_t={},St={},Tt=function(t){_t[t]={default:["object","function"].includes(Object(o["a"])(Ct[t]))?function(){return Ct[t]}:Ct[t]},St[t]={immediate:!0,handler:function(e){this.$store.commit("config",Object(s["a"])({},t,e))}}};for(var Pt in Ct)Tt(Pt);var Ut={name:"StacBrowser",router:Lt,store:z(Ct),components:{ErrorAlert:y,Sidebar:gt,StacHeader:xt},props:Object(c["a"])({},_t),data:function(){return{error:null}},computed:Object(c["a"])(Object(c["a"])(Object(c["a"])(Object(c["a"])({},Object(u["c"])(["title","globalError"])),Object(u["c"])({catalogUrlFromVueX:"catalogUrl"})),Object(u["b"])(["displayCatalogTitle"])),{},{browserVersion:function(){return"3.0.0-alpha.9"}}),watch:Object(c["a"])(Object(c["a"])({},St),{},{title:function(t){document.title=t},catalogUrlFromVueX:function(t){t&&this.$store.dispatch("load",{url:t,loadApi:!0})}}),created:function(){var t=this;this.$router.onReady((function(){return t.parseQuery(t.$route)})),this.$router.afterEach((function(e){return t.parseQuery(e)})),this.catalogUrl&&this.$store.dispatch("load",{url:this.catalogUrl,loadApi:!0})},mounted:function(){var t=this;this.$root.$on("error",this.showError),setInterval((function(){return t.$store.dispatch("loadBackground",3)}),200)},methods:{parseQuery:function(t){var e={};if("history"===this.historyMode){var r=new M.a(t.hash.replace(/^#/,""));e=r.query(!0)}var a=Object.assign({},t.query,e),n={};for(var i in a)i.startsWith("~")?(n.private=k["a"].isObject(n.private)?n.private:{},n.private[i.substr(1)]=a[i],delete a[i]):i.startsWith(".")?(n.state=k["a"].isObject(n.state)?n.state:{},n.state[i.substr(1)]=a[i]):(n.catalog=k["a"].isObject(n.catalog)?n.catalog:{},n.catalog[i]=a[i]);k["a"].size(n)>0&&this.$store.commit("queryParameters",n),k["a"].size(n.private)>0&&this.$router.replace(Object(c["a"])(Object(c["a"])({},t),{},{query:a}))},showError:function(t,e){this.$store.commit("showGlobalError",{error:t,message:e})},hideError:function(){this.$store.commit("showGlobalError",null)}}},It=Ut,Bt=(r("497a"),Object(m["a"])(It,n,i,!1,null,null,null)),Et=Bt.exports;a["a"].config.productionTip=!1,new a["a"]({render:function(t){return t(Et)}}).$mount("#stac-browser")},"770f":function(t,e,r){},"7fdc":function(t,e,r){},"914c":function(t,e,r){},a010:function(t,e,r){},a1bc:function(t,e,r){r("2ca0"),t.exports={catalogUrl:null,catalogTitle:"STAC Browser",allowExternalAccess:!0,useTileLayerAsFallback:!0,tileSourceTemplate:null,buildTileUrlTemplate:function(t){var e=t.href,r=t.asset;return"https://tiles.rdnt.io/tiles/{z}/{x}/{y}@2x?url="+encodeURIComponent(r.href.startsWith("/vsi")?r.href:e)},stacProxyUrl:null,pathPrefix:"/",historyMode:"history",cardViewMode:"cards",showThumbnailsAsAssets:!1,stacLint:!0,geoTiffResolution:128,redirectLegacyUrls:!1,itemsPerPage:12,crossOriginMedia:null,requestHeaders:{},requestQueryParameters:{}}},a4f8:function(t,e,r){"use strict";r("770f")},a7a8:function(t,e,r){"use strict";r("914c")},b701:function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r(t.component,t._b({tag:"component",staticClass:"stac-link",attrs:{title:t.tooltip}},"component",t.attributes,!1),[t.icon?[r("img",{staticClass:"icon mr-2",attrs:{src:t.icon.href,alt:t.icon.title,title:t.icon.title}})]:t._e(),r("span",{staticClass:"title"},[t._v(t._s(t.displayTitle))]),t.isStacBrowserLink?t._e():[r("small",[r("b-icon-box-arrow-up-right",{staticClass:"ml-1 align-baseline"})],1)]],2)},n=[],i=r("5530"),s=(r("7db0"),r("d3b7"),r("9911"),r("25f0"),r("2f62")),o=r("025e"),c=r("2a32"),l=r("7386"),u=r("c909"),h=r.n(u),d={name:"StacLink",components:{BIconBoxArrowUpRight:l["e"]},props:{data:{type:[Object,Array],default:null},title:{type:String,default:null},fallbackTitle:{type:[String,Function],default:null},tooltip:{type:String,default:null}},computed:Object(i["a"])(Object(i["a"])(Object(i["a"])({},Object(s["c"])(["privateQueryParameters"])),Object(s["b"])(["toBrowserPath","getRequestUrl"])),{},{icon:function(){if(this.stac){var t=this.stac.getIcons();if(t.length>0)return t[0]}return null},stac:function(){return this.data instanceof c["a"]?this.data:Array.isArray(this.data)?this.data.find((function(t){return t instanceof c["a"]})):null},link:function(){var t=this;return this.isLink(this.data)?this.data:Array.isArray(this.data)&&this.data.find((function(e){return t.isLink(e)}))||{}},isStacBrowserLink:function(){if(this.stac)return!0;if(!o["a"].isStacMediaType(this.link.type,!0))return!1;switch(this.link.rel){case"root":case"child":case"parent":case"item":case"collection":case"related":case"derived_from":case"canonical":case"latest-version":case"predecessor-version":case"successor-version":case"source":case"first":case"prev":case"previous":case"next":case"last":return!0;default:return!1}},attributes:function(){return this.isStacBrowserLink?{to:this.href,rel:this.rel}:{href:this.href,target:"_blank",rel:this.rel}},component:function(){return this.isStacBrowserLink?"router-link":"a"},href:function(){var t;if(t=this.stac?this.stac.getBrowserPath():this.isStacBrowserLink?this.toBrowserPath(this.link.href):this.getRequestUrl(this.link.href),o["a"].size(this.privateQueryParameters)>0){var e=new h.a(t);for(var r in this.privateQueryParameters)e.addQuery("~".concat(r),this.privateQueryParameters[r]);t=e.toString()}return t},displayTitle:function(){if(this.title)return this.title;var t="function"===typeof this.fallbackTitle?this.fallbackTitle():this.fallbackTitle;return c["a"].getDisplayTitle(this.data,t)}}),methods:{isLink:function(t){return o["a"].isObject(t)&&!(t instanceof c["a"])}}},f=d,p=r("2877"),b=Object(p["a"])(f,a,n,!1,null,null,null);e["default"]=b.exports},b91c:function(t,e,r){},c06b:function(t,e,r){"use strict";r("a010")}});
//# sourceMappingURL=app.9e6d4196.js.map