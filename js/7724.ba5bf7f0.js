"use strict";(self["webpackChunk_radiantearth_stac_browser"]=self["webpackChunk_radiantearth_stac_browser"]||[]).push([[2192,3440,4465,6846,7724],{14465:function(t,e,n){n.d(e,{LW:function(){return s},M:function(){return h},Uu:function(){return l},de:function(){return g}});var i=n(61597),r=n(40186);function s(t,e){const n=[];Object.keys(e).forEach(function(t){null!==e[t]&&void 0!==e[t]&&n.push(t+"="+encodeURIComponent(e[t]))});const i=n.join("&");return t=t.replace(/[?&]$/,""),t+=t.includes("?")?"&":"?",t+i}const o=/\{z\}/g,a=/\{x\}/g,u=/\{y\}/g,c=/\{-y\}/g;function h(t,e,n,i,r){return t.replace(o,e.toString()).replace(a,n.toString()).replace(u,i.toString()).replace(c,function(){if(void 0===r)throw new Error("If the URL template has a {-y} placeholder, the grid extent must be known");return(r-i).toString()})}function g(t,e,n,s){const o=(0,r._T)(e,n,s),a=(0,i.xP)(o,t.length);return t[a]}function l(t){const e=[];let n=/\{([a-z])-([a-z])\}/.exec(t);if(n){const i=n[1].charCodeAt(0),r=n[2].charCodeAt(0);let s;for(s=i;s<=r;++s)e.push(t.replace(n[0],String.fromCharCode(s)));return e}if(n=/\{(\d+)-(\d+)\}/.exec(t),n){const i=parseInt(n[2],10);for(let r=parseInt(n[1],10);r<=i;r++)e.push(t.replace(n[0],r.toString()));return e}return e.push(t),e}},17724:function(t,e,n){n.r(e),n.d(e,{createLoader:function(){return u}});var i=n(43938),r=n(70915),s=n(14465),o=n(83440);function a(t,e,n,i){const r=Math.round(i[0]),o=Math.round(i[1]),a=`${r} ${o}`,u=`${n[0]} ${n[1]} ${n[2]} ${n[3]}`,c={mode:"map",map_imagetype:"png",mapext:u,imgext:u,map_size:a,imgx:r/2,imgy:o/2,imgxy:a};return Object.assign(c,e),(0,s.LW)(t,c)}function u(t){const e=t.load||i.D4,n=t.ratio??1,s=t.crossOrigin??null;return function(i,u,c){const h=new Image;h.crossOrigin=s,i=(0,o.getRequestExtent)(i,u,c,n);const g=(0,r.RG)(i)/u,l=(0,r.Oq)(i)/u,d=[g*c,l*c],_=a(t.url,t.params,i,d);return e(h,_).then(t=>({image:t,extent:i,pixelRatio:c}))}}},34889:function(t,e,n){function i(t){return Array.isArray(t)?Math.min(...t):t}n.d(e,{m:function(){return i}})},40186:function(t,e,n){function i(t,e,n,i){return void 0!==i?(i[0]=t,i[1]=e,i[2]=n,i):[t,e,n]}function r(t,e,n){return t+"/"+e+"/"+n}function s(t){return r(t[0],t[1],t[2])}function o(t){return a(t[0],t[1],t[2])}function a(t,e,n){return(e<<t)+n}function u(t,e){const n=t[0],i=t[1],r=t[2];if(e.getMinZoom()>n||n>e.getMaxZoom())return!1;const s=e.getFullTileRange(n);return!s||s.containsXY(i,r)}n.d(e,{N:function(){return i},N5:function(){return u},_T:function(){return a},dp:function(){return r},i7:function(){return s},tW:function(){return o}})},42192:function(t,e,n){n.r(e),n.d(e,{DECIMALS:function(){return r},DEFAULT_WMS_VERSION:function(){return i}});const i="1.3.0",r=4},83440:function(t,e,n){n.r(e),n.d(e,{ImageSourceEvent:function(){return R},ImageSourceEventType:function(){return A},default:function(){return D},defaultImageLoadFunction:function(){return L},getRequestExtent:function(){return j}});var i=n(43938),r=n(6141),s=n(66514),o=n(1685),a=n(6837),u=n(70915),c=n(61597),h=n(38599),g=n(9438),l=n(33513),d=n(34889),_=n(52913),m=n(93101);class f extends i.Ay{constructor(t,e,n,i,s,o,a){let c=t.getExtent();c&&t.canWrapX()&&(c=c.slice(),c[0]=-1/0,c[2]=1/0);let h=e.getExtent();h&&e.canWrapX()&&(h=h.slice(),h[0]=-1/0,h[2]=1/0);const g=h?(0,u._N)(n,h):n,d=(0,u.q1)(g),f=(0,l.KQ)(t,e,d,i),p=m.l,I=new _.A(t,e,g,c,f*p,i),E=I.calculateSourceExtent(),A=(0,u.Im)(E)?null:o(E,f,s),R=A?r.A.IDLE:r.A.EMPTY,x=A?A.getPixelRatio():1;super(n,i,x,R),this.targetProj_=e,this.maxSourceExtent_=c,this.triangulation_=I,this.targetResolution_=i,this.targetExtent_=n,this.sourceImage_=A,this.sourcePixelRatio_=x,this.interpolate_=a,this.canvas_=null,this.sourceListenerKey_=null}disposeInternal(){this.state==r.A.LOADING&&this.unlistenSource_(),super.disposeInternal()}getImage(){return this.canvas_}getProjection(){return this.targetProj_}reproject_(){const t=this.sourceImage_.getState();if(t==r.A.LOADED){const t=(0,u.RG)(this.targetExtent_)/this.targetResolution_,e=(0,u.Oq)(this.targetExtent_)/this.targetResolution_;this.canvas_=(0,l.XX)(t,e,this.sourcePixelRatio_,(0,d.m)(this.sourceImage_.getResolution()),this.maxSourceExtent_,this.targetResolution_,this.targetExtent_,this.triangulation_,[{extent:this.sourceImage_.getExtent(),image:this.sourceImage_.getImage()}],0,void 0,this.interpolate_,!0)}this.state=t,this.changed()}load(){if(this.state==r.A.IDLE){this.state=r.A.LOADING,this.changed();const t=this.sourceImage_.getState();t==r.A.LOADED||t==r.A.ERROR?this.reproject_():(this.sourceListenerKey_=(0,g.KT)(this.sourceImage_,a.A.CHANGE,t=>{const e=this.sourceImage_.getState();e!=r.A.LOADED&&e!=r.A.ERROR||(this.unlistenSource_(),this.reproject_())}),this.sourceImage_.load())}}unlistenSource_(){(0,g.JH)(this.sourceListenerKey_),this.sourceListenerKey_=null}}var p=f,I=n(16444),E=n(42192);const A={IMAGELOADSTART:"imageloadstart",IMAGELOADEND:"imageloadend",IMAGELOADERROR:"imageloaderror"};class R extends o.Ay{constructor(t,e){super(t),this.image=e}}class x extends I["default"]{constructor(t){super({attributions:t.attributions,projection:t.projection,state:t.state,interpolate:void 0===t.interpolate||t.interpolate}),this.on,this.once,this.un,this.loader=t.loader||null,this.resolutions_=void 0!==t.resolutions?t.resolutions:null,this.reprojectedImage_=null,this.reprojectedRevision_=0,this.image=null,this.wantedExtent_,this.wantedResolution_,this.static_=!!t.loader&&0===t.loader.length,this.wantedProjection_=null}getResolutions(){return this.resolutions_}setResolutions(t){this.resolutions_=t}findNearestResolution(t){const e=this.getResolutions();if(e){const n=(0,s.FT)(e,t,0);t=e[n]}return t}getImage(t,e,n,i){const r=this.getProjection();if(!r||!i||(0,h.tI)(r,i))return r&&(i=r),this.getImageInternal(t,e,n,i);if(this.reprojectedImage_){if(this.reprojectedRevision_==this.getRevision()&&(0,h.tI)(this.reprojectedImage_.getProjection(),i)&&this.reprojectedImage_.getResolution()==e&&(0,u.aI)(this.reprojectedImage_.getExtent(),t))return this.reprojectedImage_;this.reprojectedImage_.dispose(),this.reprojectedImage_=null}return this.reprojectedImage_=new p(r,i,t,e,n,(t,e,n)=>this.getImageInternal(t,e,n,r),this.getInterpolate()),this.reprojectedRevision_=this.getRevision(),this.reprojectedImage_}getImageInternal(t,e,n,r){if(this.loader){const s=j(t,e,n,1),o=this.findNearestResolution(e);if(this.image&&(this.static_||this.wantedProjection_===r&&(this.wantedExtent_&&(0,u.ms)(this.wantedExtent_,s)||(0,u.ms)(this.image.getExtent(),s))&&(this.wantedResolution_&&(0,d.m)(this.wantedResolution_)===o||(0,d.m)(this.image.getResolution())===o)))return this.image;this.wantedProjection_=r,this.wantedExtent_=s,this.wantedResolution_=o,this.image=new i.Ay(s,o,n,this.loader),this.image.addEventListener(a.A.CHANGE,this.handleImageChange.bind(this))}return this.image}handleImageChange(t){const e=t.target;let n;switch(e.getState()){case r.A.LOADING:this.loading=!0,n=A.IMAGELOADSTART;break;case r.A.LOADED:this.loading=!1,n=A.IMAGELOADEND;break;case r.A.ERROR:this.loading=!1,n=A.IMAGELOADERROR;break;default:return}this.hasListener(n)&&this.dispatchEvent(new R(n,e))}}function L(t,e){t.getImage().src=e}function j(t,e,n,i){const r=e/n,s=(0,u.q1)(t),o=(0,c.mk)((0,u.RG)(t)/r,E.DECIMALS),a=(0,c.mk)((0,u.Oq)(t)/r,E.DECIMALS),h=(0,c.mk)((i-1)*o/2,E.DECIMALS),g=o+2*h,l=(0,c.mk)((i-1)*a/2,E.DECIMALS),d=a+2*l;return(0,u.Bg)(s,r,0,[g,d])}var D=x}}]);
//# sourceMappingURL=7724.ba5bf7f0.js.map