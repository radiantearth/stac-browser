"use strict";(self["webpackChunk_radiantearth_stac_browser"]=self["webpackChunk_radiantearth_stac_browser"]||[]).push([[107,3820],{53820:function(t,e,r){r.r(e);var a=r(69796),n=r(70107);class i extends n["default"]{constructor(t){super(t)}createRenderer(){return new a.A(this)}getData(t){return super.getData(t)}}e["default"]=i},69796:function(t,e,r){var a=r(6141),n=r(62703),i=r(70915),s=r(38599),o=r(9703),h=r(96769);class l extends h.A{constructor(t){super(t),this.image=null}getImage(){return this.image?this.image.getImage():null}prepareFrame(t){const e=t.layerStatesArray[t.layerIndex],r=t.pixelRatio,o=t.viewState,h=o.resolution,l=this.getLayer().getSource(),g=t.viewHints;let c=t.extent;if(void 0!==e.extent&&(c=(0,i._N)(c,(0,s.SD)(e.extent,o.projection))),!g[n.A.ANIMATING]&&!g[n.A.INTERACTING]&&!(0,i.Im)(c))if(l){const t=o.projection,e=l.getImage(c,h,r,t);e&&(this.loadImage(e)?this.image=e:e.getState()===a.A.EMPTY&&(this.image=null))}else this.image=null;return!!this.image}getData(t){const e=this.frameState;if(!e)return null;const r=this.getLayer(),a=(0,o.Bb)(e.pixelToCoordinateTransform,t.slice()),n=r.getExtent();if(n&&!(0,i.Ym)(n,a))return null;const s=this.image.getExtent(),h=this.image.getImage(),l=(0,i.RG)(s),g=Math.floor(h.width*((a[0]-s[0])/l));if(g<0||g>=h.width)return null;const c=(0,i.Oq)(s),u=Math.floor(h.height*((s[3]-a[1])/c));return u<0||u>=h.height?null:this.getImageData(h,g,u)}renderFrame(t,e){const r=this.image,a=r.getExtent(),n=r.getResolution(),[h,l]=Array.isArray(n)?n:[n,n],g=r.getPixelRatio(),c=t.layerStatesArray[t.layerIndex],u=t.pixelRatio,m=t.viewState,d=m.center,p=m.resolution,x=u*h/(p*g),f=u*l/(p*g);this.prepareContainer(t,e);const I=this.context.canvas.width,w=this.context.canvas.height,A=this.getRenderContext(t);let y=!1,S=!0;if(c.extent){const e=(0,s.SD)(c.extent,m.projection);S=(0,i.HY)(e,t.extent),y=S&&!(0,i.ms)(e,t.extent),y&&this.clipUnrotated(A,t,e)}const R=r.getImage(),v=(0,o.Zz)(this.tempTransform,I/2,w/2,x,f,0,g*(a[0]-d[0])/h,g*(d[1]-a[3])/l);this.renderedResolution=l*u/g;const b=R.width*v[0],E=R.height*v[3];if(this.getLayer().getSource().getInterpolate()||(A.imageSmoothingEnabled=!1),this.preRender(A,t),S&&b>=.5&&E>=.5){const t=v[4],e=v[5],r=c.opacity;1!==r&&(A.save(),A.globalAlpha=r),A.drawImage(R,0,0,+R.width,+R.height,t,e,b,E),1!==r&&A.restore()}return this.postRender(this.context,t),y&&A.restore(),A.imageSmoothingEnabled=!0,this.container}}e.A=l},70107:function(t,e,r){r.r(e);var a=r(60764);class n extends a["default"]{constructor(t){t=t||{},super(t)}}e["default"]=n}}]);
//# sourceMappingURL=3820.ba5224c7.js.map