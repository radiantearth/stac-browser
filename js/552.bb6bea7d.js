(self["webpackChunk_radiantearth_stac_browser"]=self["webpackChunk_radiantearth_stac_browser"]||[]).push([[552],{552:function(t,e,r){"use strict";r.d(e,{A:function(){return W}});var o=function(){var t=this,e=t._self._c;return e("div",[t.href?e("b-button-group",{staticClass:"actions",attrs:{vertical:t.vertical,size:t.size}},[t.requiresAuth?e("b-button",{attrs:{variant:"danger",tag:"a",tabindex:"0",id:`popover-href-${t.id}-btn`},on:{click:t.handleAuthButton}},[e("b-icon-lock"),t._v(" "+t._s(t.$t("authentication.required"))+" ")],1):t._e(),t.hasDownloadButton?e("b-button",t._g(t._b({attrs:{disabled:t.requiresAuth,variant:"primary"}},"b-button",t.downloadProps,!1),t.downloadEvents),[t.loading?e("b-spinner",{attrs:{small:"",variant:"light"}}):t.browserCanOpenFile?e("b-icon-box-arrow-up-right"):e("b-icon-download"),t._v(" "+t._s(t.buttonText)+" ")],1):t._e(),e("CopyButton",{attrs:{variant:"primary",copyText:t.href,title:t.href}},[t._v(" "+t._s(t.copyButtonText)+" ")]),t.hasShowButton?e("b-button",{attrs:{variant:"primary"},on:{click:t.show}},[e("b-icon-eye",{staticClass:"mr-1"}),t.isThumbnail?[t._v(t._s(t.$t("assets.showThumbnail")))]:[t._v(t._s(t.$t("assets.showOnMap")))]],2):t._e(),t._l(t.actions,function(r){return e("b-button",t._b({key:r.id,attrs:{variant:"primary"},on:{click:r.onClick}},"b-button",r.btnOptions,!1),[r.icon?e(r.icon,{tag:"component",staticClass:"mr-1"}):t._e(),t._v(" "+t._s(r.text)+" ")],1)})],2):t._e(),t.auth.length>1?e("b-popover",{attrs:{id:`popover-href-${t.id}`,"custom-class":"href-auth-methods",target:`popover-href-${t.id}-btn`,triggers:"focus",container:"stac-browser",title:t.$t("authentication.chooseMethod")}},[e("b-list-group",t._l(t.auth,function(r,o){return e("AuthSchemeItem",{key:o,attrs:{method:r},on:{authenticate:t.startAuth}})}),1)],1):t._e()],1)},s=[],n=(r(18111),r(22489),r(61701),r(64979),r(82948)),i=r(43580),a=r(30278),l=r(30282),c=r(41526),u=r(2566),h=r(95353),d=r(84193),p=r.n(d),m=r(48907);class f{constructor(t,e){this.id=t,this.component=e}get btnOptions(){let t;return this.uri instanceof p()?t=this.uri.toString():"string"===typeof this.uri&&(t=this.uri),t?{href:t,target:"_blank"}:{}}get onClick(){return()=>{}}get uri(){return null}get show(){return!1}get icon(){return n.hNP}get text(){return m.Ay.t("open")}}class w extends f{constructor(t,e,r){super(r,e),this.asset=t}}const g=["application/3dtiles+json"];class y extends w{get show(){return this.component.isBrowserProtocol&&g.includes(this.asset.type)}get uri(){let t=new(p())("https://sandcastle.cesium.com/standalone.html");const e=this.component.href,r={html:'\n        <style> @import url(../templates/bucket.css); </style>\n        <div id="cesiumContainer" class="fullSize"></div> \n      ',code:`\n        const viewer = new Cesium.Viewer("cesiumContainer", {\n          terrain: Cesium.Terrain.fromWorldTerrain(),\n        });\n\n        try {\n          const tileset = await Cesium.Cesium3DTileset.fromUrl('${e}');\n          viewer.scene.primitives.add(tileset);\n          viewer.zoomTo(tileset);\n        } catch (error) {\n          console.log('Error loading tileset');\n        } \n      `.replaceAll("        ","")},o=btoa(JSON.stringify(r));return t.addQuery("code",o),t}get text(){return m.Ay.t("actions.openIn",{service:"Cesium Sandcastle"})}}class b extends w{get show(){return this.component.isBrowserProtocol&&("application/vnd.laszip+copc"===this.asset.type||"ept.json"==p()(this.asset.href).filename())}get uri(){let t=new(p())("https://viewer.copc.io");return t.addQuery("copc",this.component.href),t}get text(){return m.Ay.t("actions.openIn",{service:"copc.io"})}}const v=["model/gltf-binary","model/gltf+json","application/fbx"],E=["obj","ply","fbx","glb","gltf"];class _ extends w{get show(){const t=p()(this.asset.href).suffix();return this.component.isBrowserProtocol&&(v.includes(this.asset.type)||E.some(e=>t===e))}get uri(){let t=new(p())("https://f3d.app/web");return t.addQuery("model",this.component.href),t=t.toString().replace("?","#"),t}get text(){return m.Ay.t("actions.openIn",{service:"f3d.app"})}}const A=["model/gltf-binary","model/gltf+json","application/fbx"],R=["obj","ply","fbx","glb","gltf","stl","usdz"];class S extends w{get show(){const t=p()(this.asset.href).suffix();return this.component.isBrowserProtocol&&(A.includes(this.asset.type)||R.some(e=>t===e))}get uri(){let t=new(p())("https://threepipe.org/examples/tweakpane-editor");return t.addQuery("model",this.component.href),t}get text(){return m.Ay.t("actions.openIn",{service:"ThreePipe"})}}class T extends w{get show(){return this.component.isBrowserProtocol&&u.oV==this.asset.type}get uri(){const t=new(p())("https://geojson.io"),e=encodeURIComponent(this.component.href);return t.fragment(`data=data:text/x-url,${e}`),t}get text(){return m.Ay.t("actions.openIn",{service:"geojson.io"})}}const C=["application/vnd.pmtiles"];class x extends w{get show(){return this.component.isBrowserProtocol&&(C.includes(this.asset.type)||"pmtiles"==p()(this.asset.href).suffix())}get uri(){let t=new(p())("https://pmtiles.io/");return t.addQuery("url",this.component.href),t}get text(){return m.Ay.t("actions.openIn",{service:"Protomaps"})}}var I={Cesium:y,CopcViewer:b,F3D:_,ThreePipe:S,GeoJsonIo:T,Protomaps:x};class D extends f{constructor(t,e,r){super(r,e),this.link=t}get btnOptions(){let t=super.btnOptions;return t.rel=this.link.rel,t}}class O extends D{get show(){return"3d-tiles"===this.link.rel}get uri(){let t=new(p())("https://sandcastle.cesium.com/standalone.html");const e=this.link.href,r={html:'\n        <style> @import url(../templates/bucket.css); </style>\n        <div id="cesiumContainer" class="fullSize"></div> \n      ',code:`\n        const viewer = new Cesium.Viewer("cesiumContainer", {\n          terrain: Cesium.Terrain.fromWorldTerrain(),\n        });\n\n        try {\n          const tileset = await Cesium.Cesium3DTileset.fromUrl('${e}');\n          viewer.scene.primitives.add(tileset);\n          viewer.zoomTo(tileset);\n        } catch (error) {\n          console.log('Error loading tileset');\n        } \n      `.replaceAll("        ","")},o=btoa(JSON.stringify(r));return t.addQuery("code",o),t}get text(){return m.Ay.t("actions.openIn",{service:"Cesium Sandcastle"})}}class M extends D{get show(){return"pmtiles"===this.link.rel}get uri(){let t=new(p())("https://pmtiles.io/");return t.addQuery("url",this.link.href),t}get text(){return m.Ay.t("actions.openIn",{service:"Protomaps"})}}var $={Cesium:O,Protomaps:M},k=r(33484),L=r(24274),B=r(49194),P=r(48278);let N=0;var U={name:"HrefActions",components:{AuthSchemeItem:()=>r.e(3021).then(r.bind(r,23021)),BIconBoxArrowUpRight:n.hNP,BIconDownload:n.AXN,BIconEye:n.bL_,BIconLock:n.D8r,BListGroup:i.M,BPopover:a.u,BSpinner:l._,CopyButton:()=>r.e(4192).then(r.bind(r,54192)),Description:c["default"],Metadata:()=>Promise.all([r.e(9710),r.e(537),r.e(4870),r.e(4707)]).then(r.bind(r,44707))},props:{data:{type:Object,required:!0},isAsset:{type:Boolean,default:!1},vertical:{type:Boolean,default:!1},size:{type:String,default:"md"},shown:{type:Boolean,default:!1},auth:{type:Array,default:()=>[]}},data(){return{id:N++,loading:!1}},computed:{...(0,h.aH)(["pathPrefix","requestHeaders","buildTileUrlTemplate","useTileLayerAsFallback"]),...(0,h.L8)(["getRequestUrl"]),...(0,h.L8)("auth",["isLoggedIn"]),requiresAuth(){return!this.isLoggedIn&&this.auth.length>0},tileRendererType(){return this.buildTileUrlTemplate&&!this.useTileLayerAsFallback?"server":"client"},actions(){return Object.entries(this.isAsset?I:$).map(([t,e])=>new e(this.data,this,t)).filter(t=>t.show)},canShow(){var t,e,r;return"string"===typeof(null===(t=this.data)||void 0===t?void 0:t.type)&&(!("server"!==this.tileRendererType||!u.df.includes(null===(e=this.data)||void 0===e?void 0:e.type))||!!this.isBrowserProtocol&&!!u.C8.includes(null===(r=this.data)||void 0===r?void 0:r.type))},hasShowButton(){return this.isAsset&&this.canShow&&!this.shown},hasDownloadButton(){return this.isAsset&&this.isBrowserProtocol},downloadEvents(){return this.hasDownloadButton&&this.useAltDownloadMethod?{click:async t=>{t.preventDefault(),this.altDownload()}}:{}},localFilename(){return"string"===typeof this.data["file:local_path"]?p()(this.data["file:local_path"]).filename():null},downloadProps(){if(this.hasDownloadButton&&!this.useAltDownloadMethod){const t={href:this.href,target:"_blank"};return this.browserCanOpenFile||(t.download=this.localFilename||this.parsedHref.filename()),t}return{}},useAltDownloadMethod(){return!(!this.isBrowserProtocol||!window.isSecureContext)&&("string"===typeof this.data.method&&"GET"!==this.data.method.toUpperCase()||(u.Ay.size(this.data.headers)>0||u.Ay.size(this.requestHeaders)>0))},protocol(){if("string"===typeof this.href&&this.href){let t=this.href.match(/^(\w+):\/\//);if(t)return t[1].toLowerCase()}return null},isBrowserProtocol(){return!this.protocol||P.I5.includes(this.protocol)},isThumbnail(){return this.isAsset?this.data.isPreview()&&this.data.canBrowserDisplayImage():"preview"===this.data.rel&&this.data.canBrowserDisplayImage()},href(){return"string"!==typeof this.data.href?null:this.getRequestUrl(this.data.getAbsoluteUrl())},parsedHref(){return p()(this.href)},from(){return this.protocolName(this.protocol)},browserCanOpenFile(){var t;if(this.useAltDownloadMethod)return!1;if(this.data.canBrowserDisplayImage())return!0;if("string"===typeof(null===(t=this.data)||void 0===t?void 0:t.type))switch(this.data.type.toLowerCase()){case"text/html":case"application/xhtml+xml":case"text/plain":case"application/pdf":return!0}return!1},buttonText(){if(this.browserCanOpenFile&&this.isBrowserProtocol)return this.$t("open");let t=!this.isBrowserProtocol&&this.from?"withSource":"generic";return this.$t(`assets.download.${t}`,{source:this.from})},copyButtonText(){let t=!this.isBrowserProtocol&&this.from?"withSource":"generic";return this.$t(`assets.copyUrl.${t}`,{source:this.from})}},methods:{async altDownload(){window.isSecureContext||(window.location.href=this.href);try{this.loading=!0;const t=r(90731),e=p()(window.origin.toString());e.path(u.Ay.removeTrailingSlash(this.pathPrefix)+"/mitm.html"),t.mitm=e.toString();const o=Object.assign({},this.data,{href:this.href}),s=(0,k.lx)(this.$store,o),n=s.url;delete s.url,"undefined"!==typeof s.data&&(s.body=s.data,delete s.data);const i=await fetch(n,s);if(i.status>=400){let t;switch(i.status){case 401:t=this.$t("errors.unauthorized");break;case 403:t=this.$t("errors.authFailed");break;case 404:t=this.$t("errors.notFound");break;case 500:t=this.$t("errors.serverError");break;default:t=this.$t("errors.networkError");break}throw new Error(t)}let a=this.localFilename;if(!this.localFilename){const t=i.headers.get("content-disposition");if("string"===typeof t){const e=t.match(/filename=(?:"|)([^"]+)(?:"|)(?:;|$)/);e&&(a=e[1])}}a||(a=this.parsedHref.filename());const l=t.createWriteStream(a);window.addEventListener("unload",()=>{this.loading&&l.abort()}),window.addEventListener("beforeunload",t=>{this.loading&&t.preventDefault()}),await i.body.pipeTo(l)}catch(t){if(t instanceof DOMException&&"AbortError"===t.name)return;this.$store.commit("showGlobalError",{error:t})}finally{this.loading=!1}},protocolName(t){if("string"!==typeof t)return"";switch(t.toLowerCase()){case"s3":try{const t=`protocol.s3.${this.parsedHref.domain()}`;if(this.$te(t))return this.$t(t)}catch(e){}return this.$t("protocol.s3.default");case"abfs":case"abfss":return this.$t("protocol.azure");case"gcs":return this.$t("protocol.gcs");case"ftp":return this.$t("protocol.ftp");case"oss":return this.$t("protocol.oss");case"file":return this.$t("protocol.file")}return""},show(){const t=new B.Vd(this.data,this.data.getKey(),this.data.getContext());t.href=this.href,this.$emit("show",t)},handleAuthButton(){1===this.auth.length&&this.startAuth(this.auth[0])},async startAuth(t){if(L.A.isSupported(t,this.$store.state))await this.$store.dispatch("config",{authConfig:t}),await this.$store.dispatch("auth/requestLogin");else{const e=this.$t(`authentication.schemeTypes.${t.type}`,t),r=this.$t("authentication.unsupportedLong",{method:e});this.$root.$emit("error",new Error(r),this.$t("authentication.unsupported"))}}}},z=U,j=r(81656),F=(0,j.A)(z,o,s,!1,null,null,null),W=F.exports},13925:function(t,e,r){"use strict";var o=r(20034);t.exports=function(t){return o(t)||null===t}},16193:function(t,e,r){"use strict";var o=r(79504),s=Error,n=o("".replace),i=function(t){return String(new s(t).stack)}("zxcasd"),a=/\n\s*at [^:]*:[^\n]*/,l=a.test(i);t.exports=function(t,e){if(l&&"string"==typeof t&&!s.prepareStackTrace)while(e--)t=n(t,a,"");return t}},23167:function(t,e,r){"use strict";var o=r(94901),s=r(20034),n=r(52967);t.exports=function(t,e,r){var i,a;return n&&o(i=e.constructor)&&i!==r&&s(a=i.prototype)&&a!==r.prototype&&n(t,a),t}},32603:function(t,e,r){"use strict";var o=r(655);t.exports=function(t,e){return void 0===t?arguments.length<2?"":e:o(t)}},43580:function(t,e,r){"use strict";r.d(e,{M:function(){return h}});var o=r(2448),s=r(58722),n=r(49800),i=r(80072),a=r(46710),l=r(1340);function c(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var u=(0,l.sC)({flush:(0,l.Yg)(i.Ye,!1),horizontal:(0,l.Yg)(i.iF,!1),tag:(0,l.Yg)(i.vq,"div")},n.l$),h=(0,o.X$)({name:n.l$,functional:!0,props:u,render:function(t,e){var r=e.props,o=e.data,n=e.children,i=""===r.horizontal||r.horizontal;i=!r.flush&&i;var l={staticClass:"list-group",class:c({"list-group-flush":r.flush,"list-group-horizontal":!0===i},"list-group-horizontal-".concat(i),(0,a.Kg)(i))};return t(r.tag,(0,s.L)(o,l),n)}})},46706:function(t,e,r){"use strict";var o=r(79504),s=r(79306);t.exports=function(t,e,r){try{return o(s(Object.getOwnPropertyDescriptor(t,e)[r]))}catch(n){}}},52967:function(t,e,r){"use strict";var o=r(46706),s=r(20034),n=r(67750),i=r(73506);t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,e=!1,r={};try{t=o(Object.prototype,"__proto__","set"),t(r,[]),e=r instanceof Array}catch(a){}return function(r,o){return n(r),i(o),s(r)?(e?t(r,o):r.__proto__=o,r):r}}():void 0)},55002:function(t){"use strict";t.exports={IndexSizeError:{s:"INDEX_SIZE_ERR",c:1,m:1},DOMStringSizeError:{s:"DOMSTRING_SIZE_ERR",c:2,m:0},HierarchyRequestError:{s:"HIERARCHY_REQUEST_ERR",c:3,m:1},WrongDocumentError:{s:"WRONG_DOCUMENT_ERR",c:4,m:1},InvalidCharacterError:{s:"INVALID_CHARACTER_ERR",c:5,m:1},NoDataAllowedError:{s:"NO_DATA_ALLOWED_ERR",c:6,m:0},NoModificationAllowedError:{s:"NO_MODIFICATION_ALLOWED_ERR",c:7,m:1},NotFoundError:{s:"NOT_FOUND_ERR",c:8,m:1},NotSupportedError:{s:"NOT_SUPPORTED_ERR",c:9,m:1},InUseAttributeError:{s:"INUSE_ATTRIBUTE_ERR",c:10,m:1},InvalidStateError:{s:"INVALID_STATE_ERR",c:11,m:1},SyntaxError:{s:"SYNTAX_ERR",c:12,m:1},InvalidModificationError:{s:"INVALID_MODIFICATION_ERR",c:13,m:1},NamespaceError:{s:"NAMESPACE_ERR",c:14,m:1},InvalidAccessError:{s:"INVALID_ACCESS_ERR",c:15,m:1},ValidationError:{s:"VALIDATION_ERR",c:16,m:0},TypeMismatchError:{s:"TYPE_MISMATCH_ERR",c:17,m:1},SecurityError:{s:"SECURITY_ERR",c:18,m:1},NetworkError:{s:"NETWORK_ERR",c:19,m:1},AbortError:{s:"ABORT_ERR",c:20,m:1},URLMismatchError:{s:"URL_MISMATCH_ERR",c:21,m:1},QuotaExceededError:{s:"QUOTA_EXCEEDED_ERR",c:22,m:1},TimeoutError:{s:"TIMEOUT_ERR",c:23,m:1},InvalidNodeTypeError:{s:"INVALID_NODE_TYPE_ERR",c:24,m:1},DataCloneError:{s:"DATA_CLONE_ERR",c:25,m:1}}},64979:function(t,e,r){"use strict";var o=r(46518),s=r(44576),n=r(97751),i=r(6980),a=r(24913).f,l=r(39297),c=r(90679),u=r(23167),h=r(32603),d=r(55002),p=r(16193),m=r(43724),f=r(96395),w="DOMException",g=n("Error"),y=n(w),b=function(){c(this,v);var t=arguments.length,e=h(t<1?void 0:arguments[0]),r=h(t<2?void 0:arguments[1],"Error"),o=new y(e,r),s=new g(e);return s.name=w,a(o,"stack",i(1,p(s.stack,1))),u(o,this,b),o},v=b.prototype=y.prototype,E="stack"in new g(w),_="stack"in new y(1,2),A=y&&m&&Object.getOwnPropertyDescriptor(s,w),R=!!A&&!(A.writable&&A.configurable),S=E&&!R&&!_;o({global:!0,constructor:!0,forced:f||S},{DOMException:S?b:y});var T=n(w),C=T.prototype;if(C.constructor!==T)for(var x in f||a(C,"constructor",i(1,T)),d)if(l(d,x)){var I=d[x],D=I.s;l(T,D)||a(T,D,i(6,I.c))}},73506:function(t,e,r){"use strict";var o=r(13925),s=String,n=TypeError;t.exports=function(t){if(o(t))return t;throw new n("Can't set "+s(t)+" as a prototype")}},90731:function(t){((e,r)=>{t.exports=r()})(0,()=>{"use strict";const t="object"===typeof window?window:this;t.HTMLElement||console.warn("streamsaver is meant to run on browsers main thread");let e=null,r=!1;const o=t=>{try{t()}catch(e){}},s=t.WebStreamsPolyfill||{},n=t.isSecureContext;let i=/constructor/i.test(t.HTMLElement)||!!t.safari||!!t.WebKitPoint;const a=n||"MozAppearance"in document.documentElement.style?"iframe":"navigate",l={createWriteStream:d,WritableStream:t.WritableStream||s.WritableStream,supported:!0,version:{full:"2.0.5",major:2,minor:0,dot:5},mitm:"https://jimmywarting.github.io/StreamSaver.js/mitm.html?version=2.0.0"};function c(t){if(!t)throw new Error("meh");const e=document.createElement("iframe");return e.hidden=!0,e.src=t,e.loaded=!1,e.name="iframe",e.isIframe=!0,e.postMessage=(...t)=>e.contentWindow.postMessage(...t),e.addEventListener("load",()=>{e.loaded=!0},{once:!0}),document.body.appendChild(e),e}function u(e){const r="width=200,height=100",o=document.createDocumentFragment(),s={frame:t.open(e,"popup",r),loaded:!1,isIframe:!1,isPopup:!0,remove(){s.frame.close()},addEventListener(...t){o.addEventListener(...t)},dispatchEvent(...t){o.dispatchEvent(...t)},removeEventListener(...t){o.removeEventListener(...t)},postMessage(...t){s.frame.postMessage(...t)}},n=e=>{e.source===s.frame&&(s.loaded=!0,t.removeEventListener("message",n),s.dispatchEvent(new Event("load")))};return t.addEventListener("message",n),s}try{new Response(new ReadableStream),n&&!("serviceWorker"in navigator)&&(i=!0)}catch(p){i=!0}function h(){e||(e=n&&!1 in document.documentElement.style?c(l.mitm):u(l.mitm))}function d(t,o,s){let n={size:null,pathname:null,writableStrategy:void 0,readableStrategy:void 0},u=0,d=null,p=null,m=null;if(Number.isFinite(o)?([s,o]=[o,s],console.warn("[StreamSaver] Deprecated pass an object as 2nd argument when creating a write stream"),n.size=s,n.writableStrategy=o):o&&o.highWaterMark?(console.warn("[StreamSaver] Deprecated pass an object as 2nd argument when creating a write stream"),n.size=s,n.writableStrategy=o):n=o||{},!i){h(),p=new MessageChannel,t=encodeURIComponent(t.replace(/\//g,":")).replace(/['()]/g,escape).replace(/\*/g,"%2A");const o={transferringReadable:r,pathname:n.pathname||Math.random().toString().slice(-6)+"/"+t,headers:{"Content-Type":"application/octet-stream; charset=utf-8","Content-Disposition":"attachment; filename*=UTF-8''"+t}};n.size&&(o.headers["Content-Length"]=n.size);const s=[o,"*",[p.port2]];if(r){const t="iframe"===a?void 0:{transform(t,e){if(!(t instanceof Uint8Array))throw new TypeError("Can only write Uint8Arrays");u+=t.length,e.enqueue(t),d&&(location.href=d,d=null)},flush(){d&&(location.href=d)}};m=new l.TransformStream(t,n.writableStrategy,n.readableStrategy);const e=m.readable;p.port1.postMessage({readableStream:e},[e])}p.port1.onmessage=t=>{t.data.download?"navigate"===a?(e.remove(),e=null,u?location.href=t.data.download:d=t.data.download):(e.isPopup&&(e.remove(),e=null,"iframe"===a&&c(l.mitm)),c(t.data.download)):t.data.abort&&(f=[],p.port1.postMessage("abort"),p.port1.onmessage=null,p.port1.close(),p.port2.close(),p=null)},e.loaded?e.postMessage(...s):e.addEventListener("load",()=>{e.postMessage(...s)},{once:!0})}let f=[];return!i&&m&&m.writable||new l.WritableStream({write(t){if(!(t instanceof Uint8Array))throw new TypeError("Can only write Uint8Arrays");i?f.push(t):(p.port1.postMessage(t),u+=t.length,d&&(location.href=d,d=null))},close(){if(i){const e=new Blob(f,{type:"application/octet-stream; charset=utf-8"}),r=document.createElement("a");r.href=URL.createObjectURL(e),r.download=t,r.click()}else p.port1.postMessage("end")},abort(){f=[],p.port1.postMessage("abort"),p.port1.onmessage=null,p.port1.close(),p.port2.close(),p=null}},n.writableStrategy)}return o(()=>{const{readable:t}=new TransformStream,e=new MessageChannel;e.port1.postMessage(t,[t]),e.port1.close(),e.port2.close(),r=!0,Object.defineProperty(l,"TransformStream",{configurable:!1,writable:!1,value:TransformStream})}),l})}}]);
//# sourceMappingURL=552.bb6bea7d.js.map