{"version":3,"file":"js/6436.0b313371.js","mappings":"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","sources":["webpack://@radiantearth/stac-browser/./src/components/Assets.vue","webpack://@radiantearth/stac-browser/./src/components/Asset.vue","webpack://@radiantearth/stac-browser/./src/components/AssetAlternative.vue","webpack://@radiantearth/stac-browser/src/components/AssetAlternative.vue","webpack://@radiantearth/stac-browser/./src/components/AssetAlternative.vue?b243","webpack://@radiantearth/stac-browser/./src/components/AssetAlternative.vue?cd51","webpack://@radiantearth/stac-browser/src/components/Asset.vue","webpack://@radiantearth/stac-browser/./src/components/Asset.vue?8e4e","webpack://@radiantearth/stac-browser/./src/components/Asset.vue?923a","webpack://@radiantearth/stac-browser/src/components/Assets.vue","webpack://@radiantearth/stac-browser/./src/components/Assets.vue?3635","webpack://@radiantearth/stac-browser/./src/components/Assets.vue?3975"],"sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',{staticClass:\"assets mb-4\"},[(_vm.displayTitle)?_c('h2',[_vm._v(_vm._s(_vm.displayTitle))]):_vm._e(),_c('div',{staticClass:\"accordion\",attrs:{\"role\":\"tablist\"}},_vm._l((_vm.assets),function(asset){return _c('Asset',{key:asset.getKey(),attrs:{\"asset\":asset,\"expand\":_vm.expand,\"context\":_vm.context,\"definition\":_vm.definition,\"shown\":_vm.shownKeys.includes(asset.getKey())},on:{\"show\":_vm.show}})}),1)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('b-card',{staticClass:\"asset expandable-card\",attrs:{\"no-body\":\"\"}},[_c('b-card-header',{attrs:{\"header-tag\":\"header\",\"role\":\"tab\"}},[_c('b-button',{directives:[{name:\"b-toggle\",rawName:\"v-b-toggle\",value:(_vm.uid),expression:\"uid\"}],attrs:{\"block\":\"\",\"variant\":\"asset\",\"squared\":\"\"}},[_c('span',{staticClass:\"chevron\",attrs:{\"aria-hidden\":\"true\"}},[(_vm.expanded)?_c('b-icon-chevron-down'):_c('b-icon-chevron-right')],1),_c('span',{staticClass:\"title\"},[_vm._v(_vm._s(_vm.title))]),_c('div',{staticClass:\"badges ml-1\"},[(_vm.shown)?_c('b-badge',{staticClass:\"shown\",attrs:{\"variant\":\"success\",\"title\":_vm.$t('assets.currentlyShown')}},[_c('b-icon-check'),_vm._v(\" \"+_vm._s(_vm.$t('assets.shown'))+\" \")],1):_vm._e(),(_vm.asset.deprecated)?_c('b-badge',{staticClass:\"deprecated\",attrs:{\"variant\":\"warning\"}},[_vm._v(_vm._s(_vm.$t('deprecated')))]):_vm._e(),(Array.isArray(_vm.asset.roles))?_vm._l((_vm.sortedRoles),function(role){return _c('b-badge',{key:role,staticClass:\"role\",attrs:{\"variant\":role === 'data' ? 'primary' : 'secondary'}},[_vm._v(_vm._s(_vm.displayRole(role)))])}):_vm._e(),(_vm.shortFileFormat)?_c('b-badge',{staticClass:\"format\",attrs:{\"variant\":\"dark\",\"title\":_vm.fileFormat}},[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.shortFileFormat)}})]):_vm._e()],2)])],1),_c('b-collapse',{attrs:{\"id\":_vm.uid,\"accordion\":_vm.type,\"role\":\"tabpanel\"},on:{\"input\":_vm.collapseToggled},model:{value:(_vm.expanded),callback:function ($$v) {_vm.expanded=$$v},expression:\"expanded\"}},[(_vm.hasAlternatives)?[_c('b-tabs',{attrs:{\"card\":\"\"}},[_c('b-tab',{attrs:{\"title\":_vm.asset['alternate:name'] || _vm.$t('assets.alternate.main'),\"active\":\"\"}},[_c('AssetAlternative',{attrs:{\"asset\":_vm.asset,\"shown\":_vm.shown,\"hasAlternatives\":\"\"},on:{\"show\":_vm.show}})],1),_vm._l((_vm.alternatives),function(altAsset,key){return _c('b-tab',{key:key,attrs:{\"title\":altAsset['alternate:name'] || key}},[_c('AssetAlternative',{key:key,attrs:{\"asset\":altAsset,\"shown\":_vm.shown,\"hasAlternatives\":\"\"},on:{\"show\":_vm.show}})],1)})],2)]:_c('AssetAlternative',{attrs:{\"asset\":_vm.asset,\"shown\":_vm.shown},on:{\"show\":_vm.show}})],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c(_vm.component,{tag:\"component\"},[_c('b-card-title',[_c('span',{domProps:{\"innerHTML\":_vm._s(_vm.fileFormat)}})]),_c('HrefActions',{attrs:{\"isAsset\":\"\",\"data\":_vm.asset,\"shown\":_vm.shown,\"auth\":_vm.auth},on:{\"show\":_vm.show}}),(_vm.asset.description)?_c('b-card-text',{staticClass:\"mt-4\"},[_c('Description',{attrs:{\"description\":_vm.asset.description,\"compact\":\"\"}})],1):_vm._e(),_c('Metadata',{staticClass:\"mt-4\",attrs:{\"data\":_vm.resolvedAsset,\"context\":_vm.context,\"ignoreFields\":_vm.ignore,\"title\":\"\",\"type\":\"Asset\"}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <component :is=\"component\">\n    <b-card-title><span v-html=\"fileFormat\" /></b-card-title>\n    <HrefActions isAsset :data=\"asset\" :shown=\"shown\" @show=\"show\" :auth=\"auth\" />\n    <b-card-text class=\"mt-4\" v-if=\"asset.description\">\n      <Description :description=\"asset.description\" compact />\n    </b-card-text>\n    <Metadata class=\"mt-4\" :data=\"resolvedAsset\" :context=\"context\" :ignoreFields=\"ignore\" title=\"\" type=\"Asset\" />\n  </component>\n</template>\n\n<script>\nimport { formatMediaType } from '@radiantearth/stac-fields/formatters';\nimport Description from './Description.vue';\nimport HrefActions from './HrefActions.vue';\nimport StacFieldsMixin from './StacFieldsMixin';\nimport AuthUtils from './auth/utils';\nimport Utils from '../utils';\nimport { Asset, STACReference } from 'stac-js';\n\nexport default {\n  name: 'AssetAlternative',\n  components: {\n    Description,\n    HrefActions,\n    Metadata: () => import('./Metadata.vue')\n  },\n  mixins: [\n    StacFieldsMixin({ formatMediaType })\n  ],\n  props: {\n    asset: {\n      type: Object,\n      required: true\n    },\n    hasAlternatives: {\n      type: Boolean,\n      default: false\n    },\n    shown: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      ignore: [\n        // Asset fields that are handled directly\n        'href',\n        'title',\n        'description',\n        'type',\n        'roles',\n        // Don't show these complex lists of coordinates: https://github.com/radiantearth/stac-browser/issues/141\n        'proj:bbox',\n        'proj:geometry',\n        // Don't show very specific options that can't be rendered nicely\n        'table:storage_options',\n        'xarray:open_kwargs',\n        'xarray:storage_options',\n        // Special handling for auth and storage\n        'auth:refs',\n        'storage:refs',\n        // Alternative Assets are displayed separately\n        'alternate',\n        'alternate:name',\n      ]\n    };\n  },\n  computed: {\n    context() {\n      return this.asset.getContext();\n    },\n    resolvedAsset() {\n      if (Array.isArray(this.asset['storage:refs'])) {\n        const asset = new Asset(this.asset, this.asset.getKey(), this.context);\n        asset['storage:schemes'] = this.resolveStorage(this.asset);\n        return asset;\n      }\n      return this.asset;\n    },\n    component() {\n      return this.hasAlternatives ? 'div' : 'b-card-body';\n    },\n    fileFormat() {\n      if (typeof this.asset.type === \"string\" && this.asset.type.length > 0) {\n        return this.formatMediaType(this.asset.type);\n      }\n      return null;\n    },\n    auth() {\n      return AuthUtils.resolveAuth(this.asset);\n    }\n  },\n  methods: {\n    resolveStorage(obj) {\n      if (obj instanceof STACReference) {\n        const refs = obj.getMetadata('storage:refs');\n        const schemes = obj.getMetadata('storage:schemes');\n        if (Utils.size(refs) > 0 && Utils.size(schemes) > 0) {\n          return refs\n            .map(ref => schemes[ref])\n            .filter(ref => Utils.isObject(ref));\n        }\n      }\n      return [];\n    },\n    show() {\n      this.$emit('show', ...arguments);\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AssetAlternative.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./AssetAlternative.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./AssetAlternative.vue?vue&type=template&id=1fc42cb8\"\nimport script from \"./AssetAlternative.vue?vue&type=script&lang=js\"\nexport * from \"./AssetAlternative.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <b-card class=\"asset expandable-card\" no-body>\n    <b-card-header header-tag=\"header\" role=\"tab\">\n      <b-button block v-b-toggle=\"uid\" variant=\"asset\" squared>\n        <span class=\"chevron\" aria-hidden=\"true\">\n          <b-icon-chevron-down v-if=\"expanded\" />\n          <b-icon-chevron-right v-else />\n        </span>\n        <span class=\"title\">{{ title }}</span>\n        <div class=\"badges ml-1\">\n          <b-badge v-if=\"shown\" variant=\"success\" class=\"shown\" :title=\"$t('assets.currentlyShown')\">\n            <b-icon-check /> {{ $t('assets.shown') }}\n          </b-badge>\n          <b-badge v-if=\"asset.deprecated\" variant=\"warning\" class=\"deprecated\">{{ $t('deprecated') }}</b-badge>\n          <template v-if=\"Array.isArray(asset.roles)\">\n            <b-badge v-for=\"role in sortedRoles\" :key=\"role\" :variant=\"role === 'data' ? 'primary' : 'secondary'\" class=\"role\">{{ displayRole(role) }}</b-badge>\n          </template>\n          <b-badge v-if=\"shortFileFormat\" variant=\"dark\" class=\"format\" :title=\"fileFormat\"><span v-html=\"shortFileFormat\" /></b-badge>\n        </div>\n      </b-button>\n    </b-card-header>\n    <b-collapse :id=\"uid\" v-model=\"expanded\" :accordion=\"type\" role=\"tabpanel\" @input=\"collapseToggled\">\n      <template v-if=\"hasAlternatives\">\n        <b-tabs card>\n          <b-tab :title=\"asset['alternate:name'] || $t('assets.alternate.main')\" active>\n            <AssetAlternative :asset=\"asset\" :shown=\"shown\" hasAlternatives @show=\"show\" />\n          </b-tab>\n          <b-tab v-for=\"(altAsset, key) in alternatives\" :title=\"altAsset['alternate:name'] || key\" :key=\"key\">\n            <AssetAlternative :asset=\"altAsset\" :shown=\"shown\" hasAlternatives :key=\"key\" @show=\"show\" />\n          </b-tab>\n        </b-tabs>\n      </template>\n      <AssetAlternative v-else :asset=\"asset\" :shown=\"shown\" @show=\"show\" />\n    </b-collapse>\n  </b-card>\n</template>\n\n<script>\nimport { BCollapse, BIconCheck, BIconChevronRight, BIconChevronDown, BTabs, BTab } from 'bootstrap-vue';\nimport { formatMediaType } from '@radiantearth/stac-fields/formatters';\nimport { mapState } from 'vuex';\nimport AssetAlternative from './AssetAlternative.vue';\nimport StacFieldsMixin from './StacFieldsMixin';\nimport Utils from '../utils';\nimport { Asset } from 'stac-js';\n\nexport default {\n  name: 'Asset',\n  components: {\n    AssetAlternative,\n    BCollapse,\n    BIconCheck,\n    BIconChevronDown,\n    BIconChevronRight,\n    BTabs,\n    BTab\n  },\n  mixins: [\n    StacFieldsMixin({ formatMediaType })\n  ],\n  props: {\n    asset: {\n      type: Object,\n      required: true\n    },\n    definition: {\n      type: Boolean,\n      default: false\n    },\n    expand: {\n      type: Boolean,\n      default: null\n    },\n    shown: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      expanded: false\n    };\n  },\n  computed: {\n    ...mapState(['stateQueryParameters']),\n    type() {\n      return this.definition ? 'itemdef' : 'asset';\n    },\n    uid() {\n      return `${this.type}-${this.asset.getKey().toLowerCase().replace(/[^\\w]/g, '-')}`;\n    },\n    title() {\n      return this.asset.title || this.asset.getKey();\n    },\n    fileFormat() {\n      if (typeof this.asset.type === \"string\" && this.asset.type.length > 0) {\n        return this.formatMediaType(this.asset.type);\n      }\n      return null;\n    },\n    shortFileFormat() {\n      if (typeof this.asset.type === \"string\" && this.asset.type.length > 0) {\n        return this.formatMediaType(this.asset.type, null, {shorten: true});\n      }\n      return null;\n    },\n    alternatives() {\n      if (!Utils.isObject(this.asset.alternate)) {\n        return {};\n      }\n\n      const inherit = this.asset.toJSON();\n      delete inherit.alternate;\n\n      const alternates = {};\n      for (const key in this.asset.alternate) {\n        const alternate = this.asset.alternate[key];\n        const merged = Object.assign({}, inherit, alternate.toJSON());\n        alternates[key] = new Asset(merged, key, alternate.getContext());\n      }\n      \n      return alternates;\n    },\n    hasAlternatives() {\n      return Utils.size(this.alternatives) > 0;\n    },\n    sortedRoles() {\n      if (!Array.isArray(this.asset.roles)) {\n        return [];\n      }\n      // Sort roles with 'data' first, then alphabetically (case-insensitive)\n      return [...this.asset.roles].sort((a, b) => {\n        if (a === 'data') return -1;\n        if (b === 'data') return 1;\n        return a.toLowerCase().localeCompare(b.toLowerCase(), undefined, { sensitivity: 'base' });\n      });\n    }\n  },\n  created() {\n    if (this.stateQueryParameters[this.type].indexOf(this.uid) > -1) {\n      this.expanded = true;\n      return;\n    }\n\n    if (typeof this.expand === 'boolean') {\n      this.expanded = this.expand;\n    }\n    else {\n      this.expanded = false;\n    }\n  },\n  methods: {\n    displayRole(role) {\n      let key = `assets.role.${role}`;\n      if (this.$te(key)) {\n        return this.$t(key);\n      }\n      return role;\n    },\n    collapseToggled(isVisible) {\n      let event = isVisible ? 'openCollapsible' : 'closeCollapsible';\n      this.$store.commit(event, {type: this.type, uid: this.uid});\n    },\n    show() {\n      this.$emit('show', ...arguments);\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n#stac-browser .asset {\n  .metadata {\n    .card-columns {\n      column-count: 1;\n    }\n    .card {\n      border: 0;\n    }\n    .card-body {\n      padding: 0;\n    }\n  }\n}\n</style>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Asset.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Asset.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Asset.vue?vue&type=template&id=2a7f01f0\"\nimport script from \"./Asset.vue?vue&type=script&lang=js\"\nexport * from \"./Asset.vue?vue&type=script&lang=js\"\nimport style0 from \"./Asset.vue?vue&type=style&index=0&id=2a7f01f0&prod&lang=scss\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <section class=\"assets mb-4\">\n    <h2 v-if=\"displayTitle\">{{ displayTitle }}</h2>\n    <div class=\"accordion\" role=\"tablist\">\n      <Asset\n        v-for=\"asset in assets\" :asset=\"asset\" :expand=\"expand\" :context=\"context\"\n        :definition=\"definition\" :shown=\"shownKeys.includes(asset.getKey())\"\n        :key=\"asset.getKey()\" @show=\"show\"\n      />\n    </div>\n  </section>\n</template>\n\n<script>\nimport Asset from './Asset.vue';\n\nexport default {\n  name: 'Assets',\n  components: {\n    Asset\n  },\n  props: {\n    assets: {\n      type: Array,\n      required: true\n    },\n    shown: {\n      type: Array,\n      default: () => ([])\n    },\n    context: {\n      type: Object,\n      default: null\n    },\n    definition: {\n      type: Boolean,\n      default: false\n    },\n    title: {\n      type: String,\n      default: null\n    }\n  },\n  computed: {\n    shownKeys() {\n      return this.shown\n        .filter(asset => asset.isAsset())\n        .map(asset => asset.getKey());\n    },\n    displayTitle() {\n      if (this.title === null) {\n        let langKey = this.definition ? 'assets.inItems' : 'stacAssets';\n        return this.$tc(langKey, this.assets.length);\n      }\n      else {\n        return this.title;\n      }\n    },\n    expand() {\n      if (this.definition) {\n        return false; // Don't expand assets for Item Asset Definitions\n      }\n      else if (this.assets.length === 1 && this.context && this.context.isItem()) {\n        return true; // Expand asset if it's the only asset available and it is in an Item\n      }\n      return null; // Let asset decide (e.g. depending on roles)\n    }\n  },\n  methods: {\n    show() {\n      this.$emit('showAsset', ...arguments);\n    }\n  }\n};\n</script>\n","import mod from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Assets.vue?vue&type=script&lang=js\"; export default mod; export * from \"-!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40.use[1]!../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Assets.vue?vue&type=script&lang=js\"","import { render, staticRenderFns } from \"./Assets.vue?vue&type=template&id=6868ff82\"\nimport script from \"./Assets.vue?vue&type=script&lang=js\"\nexport * from \"./Assets.vue?vue&type=script&lang=js\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"names":["render","_vm","this","_c","_self","staticClass","displayTitle","_v","_s","_e","attrs","_l","assets","asset","key","getKey","expand","context","definition","shownKeys","includes","on","show","staticRenderFns","directives","name","rawName","value","uid","expression","expanded","title","shown","$t","deprecated","Array","isArray","roles","sortedRoles","role","displayRole","shortFileFormat","fileFormat","domProps","type","collapseToggled","model","callback","$$v","hasAlternatives","alternatives","altAsset","component","tag","auth","description","resolvedAsset","ignore","components","Description","HrefActions","Metadata","mixins","StacFieldsMixin","formatMediaType","props","Object","required","Boolean","default","data","computed","getContext","Asset","resolveStorage","length","AuthUtils","resolveAuth","methods","obj","STACReference","refs","getMetadata","schemes","Utils","size","map","ref","filter","isObject","$emit","arguments","AssetAlternative","BCollapse","BIconCheck","BIconChevronDown","BIconChevronRight","BTabs","BTab","mapState","toLowerCase","replace","shorten","alternate","inherit","toJSON","alternates","merged","assign","sort","a","b","localeCompare","undefined","sensitivity","created","stateQueryParameters","indexOf","$te","isVisible","event","$store","commit","String","isAsset","langKey","$tc","isItem"],"ignoreList":[],"sourceRoot":""}