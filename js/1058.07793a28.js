"use strict";(self["webpackChunk_radiantearth_stac_browser"]=self["webpackChunk_radiantearth_stac_browser"]||[]).push([[1058],{5148:function(t,e,s){s.r(e),s.d(e,{default:function(){return j}});var a=function(){var t=this,e=t._self._c;return e("section",{staticClass:"assets mb-4"},[t.displayTitle?e("h2",[t._v(t._s(t.displayTitle))]):t._e(),e("div",{staticClass:"accordion",attrs:{role:"tablist"}},t._l(t.assets,function(s){return e("Asset",{key:s.getKey(),attrs:{asset:s,expand:t.expand,context:t.context,definition:t.definition,shown:t.shownKeys.includes(s.getKey())},on:{show:t.show}})}),1)])},r=[],n=(s(18111),s(61701),function(){var t=this,e=t._self._c;return e("b-card",{staticClass:"asset expandable-card",attrs:{"no-body":""}},[e("b-card-header",{attrs:{"header-tag":"header",role:"tab"}},[e("b-button",{directives:[{name:"b-toggle",rawName:"v-b-toggle",value:t.uid,expression:"uid"}],attrs:{block:"",variant:"asset",squared:""}},[e("span",{staticClass:"chevron",attrs:{"aria-hidden":"true"}},[t.expanded?e("b-icon-chevron-down"):e("b-icon-chevron-right")],1),e("span",{staticClass:"title"},[t._v(t._s(t.title))]),e("div",{staticClass:"badges ml-1"},[t.shown?e("b-badge",{staticClass:"shown",attrs:{variant:"success",title:t.$t("assets.currentlyShown")}},[e("b-icon-check"),t._v(" "+t._s(t.$t("assets.shown"))+" ")],1):t._e(),t.asset.deprecated?e("b-badge",{staticClass:"deprecated",attrs:{variant:"warning"}},[t._v(t._s(t.$t("deprecated")))]):t._e(),Array.isArray(t.asset.roles)?t._l(t.asset.roles,function(s){return e("b-badge",{key:s,staticClass:"role",attrs:{variant:"data"===s?"primary":"secondary"}},[t._v(t._s(t.displayRole(s)))])}):t._e(),t.shortFileFormat?e("b-badge",{staticClass:"format",attrs:{variant:"dark",title:t.fileFormat}},[e("span",{domProps:{innerHTML:t._s(t.shortFileFormat)}})]):t._e()],2)])],1),e("b-collapse",{attrs:{id:t.uid,accordion:t.type,role:"tabpanel"},on:{input:t.collapseToggled},model:{value:t.expanded,callback:function(e){t.expanded=e},expression:"expanded"}},[t.hasAlternatives?[e("b-tabs",{attrs:{card:""}},[e("b-tab",{attrs:{title:t.asset["alternate:name"]||t.$t("assets.alternate.main"),active:""}},[e("AssetAlternative",{attrs:{asset:t.asset,shown:t.shown,hasAlternatives:""},on:{show:t.show}})],1),t._l(t.alternatives,function(s,a){return e("b-tab",{key:a,attrs:{title:s["alternate:name"]||a}},[e("AssetAlternative",{key:a,attrs:{asset:s,shown:t.shown,hasAlternatives:""},on:{show:t.show}})],1)})],2)]:e("AssetAlternative",{attrs:{asset:t.asset,shown:t.shown},on:{show:t.show}})],2)],1)}),i=[],o=s(48883),l=s(82948),h=s(95050),d=s(63405),c=s(50735),p=s(95353),u=function(){var t=this,e=t._self._c;return e(t.component,{tag:"component"},[e("b-card-title",[e("span",{domProps:{innerHTML:t._s(t.fileFormat)}})]),e("HrefActions",{attrs:{isAsset:"",data:t.asset,shown:t.shown,auth:t.auth},on:{show:t.show}}),t.asset.description?e("b-card-text",{staticClass:"mt-4"},[e("Description",{attrs:{description:t.asset.description,compact:""}})],1):t._e(),e("Metadata",{staticClass:"mt-4",attrs:{data:t.resolvedAsset,context:t.context,ignoreFields:t.ignore,title:"",type:"Asset"}})],1)},y=[],f=s(41526),m=s(38425),b=s(67467),g=s(24274),A=s(2566),w=s(40221),v={name:"AssetAlternative",components:{Description:f["default"],HrefActions:m.A,Metadata:()=>Promise.all([s.e(9710),s.e(537),s.e(4870),s.e(4707)]).then(s.bind(s,44707))},mixins:[(0,b.A)({formatMediaType:c.formatMediaType})],props:{asset:{type:Object,required:!0},hasAlternatives:{type:Boolean,default:!1},shown:{type:Boolean,default:!1}},data(){return{ignore:["href","title","description","type","roles","proj:bbox","proj:geometry","table:storage_options","xarray:open_kwargs","xarray:storage_options","auth:refs","storage:refs","alternate","alternate:name"]}},computed:{...(0,p.aH)(["buildTileUrlTemplate","useTileLayerAsFallback"]),context(){return this.asset.getContext()},resolvedAsset(){if(Array.isArray(this.asset["storage:refs"])){const t=this.resolveStorage(this.asset,this.context),e=new w.Vd(this.asset,this.asset.getKey(),this.context);return e["storage:schemes"]=t,e}return this.asset},component(){return this.hasAlternatives?"div":"b-card-body"},tileRendererType(){return this.buildTileUrlTemplate&&!this.useTileLayerAsFallback?"server":"client"},fileFormat(){return"string"===typeof this.asset.type&&this.asset.type.length>0?this.formatMediaType(this.asset.type):null},auth(){return g.A.resolveAuth(this.asset,this.context)}},methods:{resolveStorage(t,e){if(e instanceof w.O7&&A.Ay.size(t["storage:refs"])>0){const t=e.getMetadata("storage:schemes");if(A.Ay.size(t)>0){const e={};for(const s in t){const a=t[s];A.Ay.isObject(a)&&(e[s]=a)}return e}}return[]},show(){this.$emit("show",...arguments)}}},x=v,_=s(81656),C=(0,_.A)(x,u,y,!1,null,null,null),T=C.exports,k={name:"Asset",components:{AssetAlternative:T,BCollapse:o.K,BIconCheck:l.GSz,BIconChevronDown:l.rc_,BIconChevronRight:l.f4q,BTabs:h.r,BTab:d.a},mixins:[(0,b.A)({formatMediaType:c.formatMediaType})],props:{asset:{type:Object,required:!0},definition:{type:Boolean,default:!1},expand:{type:Boolean,default:null},shown:{type:Boolean,default:!1}},data(){return{expanded:!1}},computed:{...(0,p.aH)(["stateQueryParameters"]),type(){return this.definition?"itemdef":"asset"},uid(){return`${this.type}-${this.asset.getKey().toLowerCase().replace(/[^\w]/g,"-")}`},title(){return this.asset.title||this.asset.getKey()},fileFormat(){return"string"===typeof this.asset.type&&this.asset.type.length>0?this.formatMediaType(this.asset.type):null},shortFileFormat(){return"string"===typeof this.asset.type&&this.asset.type.length>0?this.formatMediaType(this.asset.type,null,{shorten:!0}):null},alternatives(){if(!A.Ay.isObject(this.asset.alternate))return{};const t=this.asset.toJSON();delete t.alternate;const e={};for(const s in this.asset.alternate){const a=this.asset.alternate[s],r=Object.assign({},t,a.toJSON());e[s]=new w.Vd(r,s,a.getContext())}return e},hasAlternatives(){return A.Ay.size(this.alternatives)>0}},created(){this.stateQueryParameters[this.type].indexOf(this.uid)>-1?this.expanded=!0:"boolean"===typeof this.expand?this.expanded=this.expand:this.expanded=!1},methods:{displayRole(t){let e=`assets.role.${t}`;return this.$te(e)?this.$t(e):t},collapseToggled(t){let e=t?"openCollapsible":"closeCollapsible";this.$store.commit(e,{type:this.type,uid:this.uid})},show(){this.$emit("show",...arguments)}}},$=k,F=(0,_.A)($,n,i,!1,null,null,null),B=F.exports,M={name:"Assets",components:{Asset:B},props:{assets:{type:Array,required:!0},shown:{type:Array,default:()=>[]},context:{type:Object,default:null},definition:{type:Boolean,default:!1},title:{type:String,default:null}},computed:{shownKeys(){return this.shown.map(t=>t.getKey())},displayTitle(){if(null===this.title){let t=this.definition?"assets.inItems":"stacAssets";return this.$tc(t,this.assets.length)}return this.title},expand(){return!this.definition&&(!(1!==this.assets.length||!this.stac||!this.stac.isItem())||null)}},methods:{show(){this.$emit("showAsset",...arguments)}}},O=M,K=(0,_.A)(O,a,r,!1,null,null,null),j=K.exports}}]);
//# sourceMappingURL=1058.07793a28.js.map