{"version":3,"sources":["webpack:///./src/components/Asset.vue?91b0","webpack:///./src/views/Item.vue?1214","webpack:///./src/components/Assets.vue?1b19","webpack:///./src/components/Asset.vue?88df","webpack:///./node_modules/stac-layer/src/data.js","webpack:///src/components/Asset.vue","webpack:///./src/components/Asset.vue?ae37","webpack:///./src/components/Asset.vue","webpack:///src/components/Assets.vue","webpack:///./src/components/Assets.vue?665b","webpack:///./src/components/Assets.vue","webpack:///./src/views/Item.vue?5df8","webpack:///src/views/Item.vue","webpack:///./src/views/Item.vue?4d4e","webpack:///./src/views/Item.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","displayTitle","_e","attrs","_l","asset","key","getId","expand","context","definition","shown","includes","on","show","staticRenderFns","directives","name","rawName","value","expression","title","id","Array","isArray","roles","role","uid","model","callback","$$v","expanded","fileFormat","href","buttonText","canShow","description","ignore","MIME_TYPES","COG","GEOTIFF","JPG","PNG","components","BCollapse","BIconBoxArrowUpRight","BIconCheck","BIconChevronDown","BIconChevronRight","BIconDownload","BIconEye","CopyButton","Description","Metadata","props","type","required","default","data","computed","mapState","mapGetters","isThumbnail","protocol","isBrowsable","isGdalVfs","baseUrl","from","browserCanOpen","text","created","methods","component","Asset","assets","ref","tab","selectedAsset","mapClicked","mapChanged","thumbnails","length","shownAssets","showAsset","additionalLinks","properties","keywords","collection","providers","ignoredMetadataFields","AnonymizedNotice","Assets","BTabs","BTab","Catalog","DeprecationNotice","Links","Map","Providers","ReadMore","Thumbnails","mixins","watch","collectionLink","immediate","handler","newLink","url","stac","console"],"mappings":"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","file":"js/item.c6484fdb.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Asset.vue?vue&type=style&index=0&lang=scss&\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Item.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"assets mb-4\"},[(_vm.displayTitle)?_c('h2',[_vm._v(_vm._s(_vm.displayTitle))]):_vm._e(),_c('div',{staticClass:\"accordion\",attrs:{\"role\":\"tablist\"}},_vm._l((_vm.assets),function(asset,key){return _c('Asset',{key:_vm.getId(key),attrs:{\"asset\":asset,\"expand\":_vm.expand,\"context\":_vm.context,\"definition\":_vm.definition,\"shown\":_vm.shown.includes(key),\"id\":key},on:{\"show\":_vm.show}})}),1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b-card',{staticClass:\"asset\",attrs:{\"no-body\":\"\"}},[_c('b-card-header',{staticClass:\"p-0\",attrs:{\"header-tag\":\"header\",\"role\":\"tab\"}},[_c('b-button',{directives:[{name:\"b-toggle\",rawName:\"v-b-toggle\",value:(_vm.uid),expression:\"uid\"}],staticClass:\"p-2 d-flex\",attrs:{\"block\":\"\",\"variant\":\"asset\",\"squared\":\"\"}},[_c('span',{staticClass:\"title\"},[_c('span',{staticClass:\"mr-1\",attrs:{\"aria-hidden\":\"true\"}},[(_vm.expanded)?_c('b-icon-chevron-down'):_c('b-icon-chevron-right')],1),_vm._v(\" \"+_vm._s(_vm.asset.title || _vm.id)+\" \")]),(Array.isArray(_vm.asset.roles))?_c('div',{staticClass:\"badges ml-1\"},[(_vm.shown)?_c('b-badge',{staticClass:\"shown ml-1 mb-1\",attrs:{\"variant\":\"success\",\"title\":\"This is the asset currently shown\"}},[_c('b-icon-eye')],1):_vm._e(),(_vm.asset.deprecated)?_c('b-badge',{staticClass:\"deprecated ml-1 mb-1\",attrs:{\"variant\":\"warning\"}},[_vm._v(\"Deprecated\")]):_vm._e(),_vm._l((_vm.asset.roles),function(role){return _c('b-badge',{key:role,staticClass:\"role ml-1 mb-1\",attrs:{\"variant\":role === 'data' ? 'primary' : 'secondary'}},[_vm._v(_vm._s(role))])})],2):_vm._e()])],1),_c('b-collapse',{attrs:{\"id\":_vm.uid,\"accordion\":\"assets\",\"role\":\"tabpanel\"},model:{value:(_vm.expanded),callback:function ($$v) {_vm.expanded=$$v},expression:\"expanded\"}},[_c('b-card-body',[_c('b-card-title',[_vm._v(_vm._s(_vm.fileFormat))]),(_vm.href)?_c('b-button-group',{staticClass:\"actions\"},[(_vm.isGdalVfs)?_c('CopyButton',{attrs:{\"variant\":\"outline-primary\",\"copyText\":_vm.href}},[_vm._v(\" \"+_vm._s(_vm.buttonText)+\" \")]):_c('b-button',{attrs:{\"href\":_vm.href,\"target\":\"_blank\",\"variant\":\"outline-primary\"}},[(_vm.browserCanOpen)?_c('b-icon-box-arrow-up-right'):_c('b-icon-download'),_vm._v(\" \"+_vm._s(_vm.buttonText)+\" \")],1),(_vm.canShow && _vm.shown)?_c('b-button',{staticClass:\"inactive\",attrs:{\"pressed\":true,\"variant\":\"outline-primary\"}},[_c('b-icon-check'),_vm._v(\" Currently shown \")],1):(_vm.canShow)?_c('b-button',{attrs:{\"variant\":\"outline-primary\"},on:{\"click\":_vm.show}},[_c('b-icon-eye'),_vm._v(\" Show \")],1):_vm._e()],1):_vm._e(),(_vm.asset.description)?_c('b-card-text',{staticClass:\"mt-4\"},[_c('Description',{attrs:{\"description\":_vm.asset.description,\"compact\":true}})],1):_vm._e(),_c('Metadata',{staticClass:\"mt-4\",attrs:{\"data\":_vm.asset,\"context\":_vm.context,\"ignoreFields\":_vm.ignore,\"title\":\"\",\"type\":\"Asset\"}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const DATA_TYPES = {\n  STAC_ITEM: \"STAC Item\",\n  STAC_CATALOG: \"STAC Catalog\",\n  STAC_COLLECTION: \"STAC Collection\",\n  ITEM_COLLECTION: \"Item Collection\",\n  STAC_API_COLLECTIONS: \"STAC API Collections\",\n  STAC_API_ITEMS: \"STAC API Items\",\n  STAC_ASSETS: \"STAC Assets\",\n  STAC_ASSET: \"STAC Asset\"\n};\n\nexport const EVENT_DATA_TYPES = {\n  COLLECTION: \"Collection\",\n  FEATURE: \"Feature\",\n  ASSETS: \"Assets\",\n  ASSET: \"Asset\"\n};\n\nexport const MIME_TYPES = {\n  COG: [\"image/tiff; application=geotiff; profile=cloud-optimized\", \"image/vnd.stac.geotiff; cloud-optimized=true\"],\n  GEOTIFF: [\n    \"application/geotiff\",\n    \"image/tiff; application=geotiff;\",\n    \"image/tiff; application=geotiff; profile=cloud-optimized\",\n    \"image/vnd.stac.geotiff; cloud-optimized=true\"\n  ],\n  JPG: [\"image/jpeg\", \"image/jpg\"],\n  PNG: [\"image/png\"]\n};\n\nexport const GEORASTER_KEYS = [\n  \"maxs\",\n  \"mins\",\n  \"ranges\",\n  \"noDataValue\",\n  \"pixelHeight\",\n  \"pixelWidth\",\n  \"projection\",\n  \"values\",\n  \"width\",\n  \"xmax\",\n  \"xmin\",\n  \"ymax\",\n  \"ymin\",\n  \"palette\"\n];\n","<template>\n  <b-card class=\"asset\" no-body>\n    <b-card-header header-tag=\"header\" role=\"tab\" class=\"p-0\">\n      <b-button block v-b-toggle=\"uid\" variant=\"asset\" squared class=\"p-2 d-flex\">\n        <span class=\"title\">\n          <span class=\"mr-1\" aria-hidden=\"true\">\n            <b-icon-chevron-down v-if=\"expanded\" />\n            <b-icon-chevron-right v-else />\n          </span>\n          {{ asset.title || id }}\n        </span>\n        <div class=\"badges ml-1\" v-if=\"Array.isArray(asset.roles)\">\n          <b-badge v-if=\"shown\" variant=\"success\" class=\"shown ml-1 mb-1\" title=\"This is the asset currently shown\"><b-icon-eye /></b-badge>\n          <b-badge v-if=\"asset.deprecated\" variant=\"warning\" class=\"deprecated ml-1 mb-1\">Deprecated</b-badge>\n          <b-badge v-for=\"role in asset.roles\" :key=\"role\" :variant=\"role === 'data' ? 'primary' : 'secondary'\" class=\"role ml-1 mb-1\">{{ role }}</b-badge>\n        </div>\n      </b-button>\n    </b-card-header>\n    <b-collapse :id=\"uid\" v-model=\"expanded\" accordion=\"assets\" role=\"tabpanel\">\n      <b-card-body>\n        <b-card-title>{{ fileFormat }}</b-card-title>\n        <b-button-group class=\"actions\" v-if=\"href\">\n          <CopyButton v-if=\"isGdalVfs\" variant=\"outline-primary\" :copyText=\"href\">\n            {{ buttonText }}\n          </CopyButton>\n          <b-button v-else :href=\"href\" target=\"_blank\" variant=\"outline-primary\">\n            <b-icon-box-arrow-up-right v-if=\"browserCanOpen\" /> \n            <b-icon-download v-else />\n            {{ buttonText }}\n          </b-button>\n          <b-button v-if=\"canShow && shown\" :pressed=\"true\" variant=\"outline-primary\" class=\"inactive\">\n            <b-icon-check /> Currently shown\n          </b-button>\n          <b-button v-else-if=\"canShow\" @click=\"show\" variant=\"outline-primary\">\n            <b-icon-eye /> Show\n          </b-button>\n        </b-button-group>\n        <b-card-text class=\"mt-4\" v-if=\"asset.description\">\n          <Description :description=\"asset.description\" :compact=\"true\" />\n        </b-card-text>\n        <Metadata class=\"mt-4\" :data=\"asset\" :context=\"context\" :ignoreFields=\"ignore\" title=\"\" type=\"Asset\" />\n      </b-card-body>\n    </b-collapse>\n  </b-card>\n</template>\n\n<script>\nimport { BCollapse, BIconBoxArrowUpRight, BIconCheck, BIconChevronRight, BIconChevronDown, BIconDownload, BIconEye } from 'bootstrap-vue';\nimport { Formatters } from '@radiantearth/stac-fields';\nimport { MIME_TYPES } from 'stac-layer/src/data';\nimport { mapGetters, mapState } from 'vuex';\nimport Description from './Description.vue';\nimport Metadata from './Metadata.vue';\nimport STAC from '../stac';\nimport Utils from '../utils';\n\nexport default {\n  name: 'Asset',\n  components: {\n    BCollapse,\n    BIconBoxArrowUpRight,\n    BIconCheck,\n    BIconChevronDown,\n    BIconChevronRight,\n    BIconDownload,\n    BIconEye,\n    CopyButton: () => import('./CopyButton.vue'),\n    Description,\n    Metadata\n  },\n  props: {\n    asset: {\n      type: Object,\n      required: true\n    },\n    id: {\n      type: String,\n      required: true\n    },\n    context: {\n      type: Object,\n      default: null\n    },\n    definition: {\n      type: Boolean,\n      default: false\n    },\n    expand: {\n      type: Boolean,\n      default: null\n    },\n    shown: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      expanded: false,\n      ignore: [\n        'href', 'title', 'description', 'type', 'roles',\n        'table:storage_options', 'xarray:open_kwargs', 'xarray:storage_options'\n      ]\n    };\n  },\n  computed: {\n    ...mapState(['url']),\n    ...mapGetters(['tileRendererType', 'getRequestUrl']),\n    uid() {\n      return (this.definition ? 'item-def-' : 'asset-') + String(this.id);\n    },\n    isThumbnail() {\n      return Array.isArray(this.asset.roles) && this.asset.roles.includes('thumbnail');\n    },\n    canShow() {\n      // We need to know the type, otherwise we don't even try to show it\n      if (typeof this.asset.type !== 'string') {\n        return false;\n      }\n      // If the tile renderer is a tile server, we can't really know what it supports so we pass all images\n      else if (this.tileRendererType === 'server' && this.asset.type.toLowerCase().startsWith('image/')) {\n        return true;\n      }\n      // Don't pass GDAL VFS URIs to client-side tile renderer: https://github.com/radiantearth/stac-browser/issues/116\n      else if (this.isGdalVfs && this.tileRendererType === 'client') {\n        return false;\n      }\n      // Otherwise, only http(s) links and relative links are supported\n      else if (!this.isBrowsable) {\n        return false;\n      }\n      for(let type in MIME_TYPES) {\n        if (MIME_TYPES[type].includes(this.asset.type)) {\n          return true;\n        }\n      }\n      return false;\n    },\n    fileFormat() {\n      if (this.asset.type) {\n        return Formatters.formatMediaType(this.asset.type);\n      }\n      return null;\n    },\n    protocol() {\n      if (typeof this.href === 'string') {\n        if (this.href) {\n          let match = this.href.match(/^(\\w+):\\/\\//);\n          if (match) {\n            return match[1].toLowerCase();\n          }\n        }\n      }\n      return null;\n    },\n    isBrowsable() {\n      return (this.protocol === 'http' || this.protocol === 'https');\n    },\n    isGdalVfs() {\n      return Utils.isGdalVfsUri(this.asset.href);\n    },\n    href() {\n      if (typeof this.asset.href !== 'string') {\n        return null;\n      }\n      let baseUrl = null;\n      if (this.context instanceof STAC) {\n        baseUrl = this.context.getAbsoluteUrl();\n      }\n      return this.getRequestUrl(this.asset.href, baseUrl);\n    },\n    from() {\n      const s3 = 'Amazon S3';\n      const azure = 'Microsoft Azure';\n      const gc = 'Google Cloud';\n      const ftp = 'FTP';\n      const ali = 'Alibaba Cloud';\n      switch(this.protocol) {\n        case 's3':\n          return s3;\n        case 'abfs':\n        case 'abfss':\n          return azure;\n        case 'gcs':\n          return gc;\n        case 'ftp':\n          return ftp;\n      }\n      if (this.isGdalVfs) {\n        let type = this.asset.href.match(/^\\/vsi([a-z\\d]+)(_streaming)?\\//);\n        if (type) {\n          switch(type[1]) {\n            case 's3':\n              return s3;\n            case 'az':\n            case 'adls':\n              return azure;\n            case 'gs':\n              return gc;\n            case 'oss':\n              return ali;\n          }\n        }\n      }\n      return '';\n    },\n    browserCanOpen() {\n      if (Utils.canBrowserDisplayImage(this.asset)) {\n        return true;\n      }\n      else if (typeof this.asset.type === 'string') {\n        switch(this.asset.type.toLowerCase()) {\n          case 'text/html':\n          case 'application/xhtml+xml':\n          case 'text/plain':\n          case 'application/pdf':\n            return true;\n        }\n      }\n      return false;\n    },\n    buttonText() {\n      if (this.browserCanOpen) {\n        return 'Open';\n      }\n      let text = [this.isGdalVfs ? 'Copy GDAL VFS URL' : 'Download'];\n      if (this.from && !this.isBrowsable) {\n        text.push(this.isGdalVfs ? 'for' : 'from');\n        text.push(this.from);\n      }\n      return text.join(' ');\n    }\n  },\n  created() {\n    if (typeof this.expand === 'boolean') {\n      this.expanded = this.expand;\n    }\n    else {\n      this.expanded = false;\n    }\n  },\n  methods: {\n    show() {\n      let asset = Object.assign({}, this.asset);\n      // Override asset href with absolute URL if not a GDAL VFS\n      if (!this.isGdalVfs) {\n        asset.href = this.href;\n      }\n      this.$emit('show', asset, this.id, this.isThumbnail);\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n#stac-browser .asset {\n  .btn-asset {\n    text-align: left;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 0.5rem 0.8rem;\n\n    .badges {\n      .badge {\n        line-height: 1.2em;\n        height: 1.7em;\n        text-transform: uppercase;\n      }\n    }\n  }\n  .metadata {\n    .card-columns {\n      column-count: 1;\n    }\n    .card {\n      border: 0;\n    }\n    .card-body {\n      padding: 0;\n    }\n  }\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Asset.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Asset.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Asset.vue?vue&type=template&id=6593f30c&\"\nimport script from \"./Asset.vue?vue&type=script&lang=js&\"\nexport * from \"./Asset.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Asset.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\n  <section class=\"assets mb-4\">\n    <h2 v-if=\"displayTitle\">{{ displayTitle }}</h2>\n    <div class=\"accordion\" role=\"tablist\">\n      <Asset\n        v-for=\"(asset, key) in assets\" :asset=\"asset\" :expand=\"expand\" :context=\"context\"\n        :definition=\"definition\" :shown=\"shown.includes(key)\"\n        :id=\"key\" :key=\"getId(key)\" @show=\"show\"\n      />\n    </div>\n  </section>\n</template>\n\n<script>\nimport Asset from './Asset.vue';\nimport Utils from '../utils';\n\nexport default {\n  name: 'Assets',\n  components: {\n    Asset\n  },\n  props: {\n    assets: {\n      type: Object,\n      required: true\n    },\n    shown: {\n      type: Array,\n      default: () => ([])\n    },\n    context: {\n      type: Object,\n      default: null\n    },\n    definition: {\n      type: Boolean,\n      default: false\n    },\n    title: {\n      type: String,\n      default: null\n    }\n  },\n  computed: {\n    displayTitle() {\n      if (this.title === null) {\n        return this.definition ? 'Assets in Items' : 'Assets';\n      }\n      else {\n        return this.title;\n      }\n    },\n    expand() {\n      if (this.definition) {\n        return false; // Don't expand assets for Item Asset Definitions\n      }\n      else if (Utils.size(this.assets) === 1 && this.stac && this.stac.isItem()) {\n        return true; // Expand asset if it's the only asset available and it is in an Item\n      }\n      return null; // Let asset decide (e.g. depending on roles)\n    }\n  },\n  methods: {\n    getId(key) {\n      return (this.definition ? 'item-def-' : 'asset-') + String(key);\n    },\n    show(asset, id, isThumbnail) {\n      this.$emit('showAsset', asset, id, isThumbnail);\n    }\n  }\n};\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Assets.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Assets.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Assets.vue?vue&type=template&id=7a957bd2&\"\nimport script from \"./Assets.vue?vue&type=script&lang=js&\"\nexport * from \"./Assets.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"item\"},[_c('b-row',[_c('b-col',{staticClass:\"left\"},[_c('section',{staticClass:\"mb-4\"},[_c('b-card',{staticClass:\"maps-preview\",attrs:{\"no-body\":\"\"}},[_c('b-tabs',{ref:\"tabs\",attrs:{\"card\":\"\",\"pills\":\"\",\"vertical\":\"\",\"end\":\"\"},model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},[_c('b-tab',{attrs:{\"title\":\"Map\",\"no-body\":\"\"}},[_c('Map',{attrs:{\"stac\":_vm.data,\"stacLayerData\":_vm.selectedAsset},on:{\"mapClicked\":_vm.mapClicked,\"mapChanged\":_vm.mapChanged}})],1),(_vm.thumbnails.length > 0)?_c('b-tab',{attrs:{\"title\":\"Thumbnails\",\"no-body\":\"\"}},[_c('Thumbnails',{attrs:{\"thumbnails\":_vm.thumbnails}})],1):_vm._e()],1)],1)],1),(_vm.hasAssets)?_c('Assets',{attrs:{\"assets\":_vm.assets,\"context\":_vm.data,\"shown\":_vm.shownAssets},on:{\"showAsset\":_vm.showAsset}}):_vm._e(),(_vm.additionalLinks.length > 0)?_c('Links',{attrs:{\"title\":\"Additional resources\",\"links\":_vm.additionalLinks}}):_vm._e()],1),_c('b-col',{staticClass:\"right\"},[_c('section',{staticClass:\"intro\"},[(_vm.data.properties.description)?_c('h2',[_vm._v(\"Description\")]):_vm._e(),(_vm.data.properties.deprecated)?_c('DeprecationNotice',{attrs:{\"data\":_vm.data}}):_vm._e(),(_vm.data.properties['anon:warning'])?_c('AnonymizedNotice',{attrs:{\"warning\":_vm.data.properties['anon:warning']}}):_vm._e(),(_vm.data.properties.description)?_c('ReadMore',{attrs:{\"lines\":10}},[_c('Description',{attrs:{\"description\":_vm.data.properties.description}})],1):_vm._e(),(Array.isArray(_vm.data.properties.keywords) && _vm.data.properties.keywords.length > 0)?_c('Keywords',{attrs:{\"keywords\":_vm.data.properties.keywords}}):_vm._e()],1),(_vm.collection)?_c('section',{staticClass:\"item-collection card-list mb-4\"},[_c('h2',[_vm._v(\"Collection\")]),_c('Catalog',{attrs:{\"catalog\":_vm.collection,\"showThumbnail\":false}})],1):_vm._e(),(_vm.data.properties.providers)?_c('Providers',{attrs:{\"providers\":_vm.data.properties.providers}}):_vm._e(),_c('Metadata',{attrs:{\"data\":_vm.data,\"type\":\"Item\",\"ignoreFields\":_vm.ignoredMetadataFields}})],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"item\">\n    <b-row>\n      <b-col class=\"left\">\n        <section class=\"mb-4\">\n          <b-card no-body class=\"maps-preview\">\n            <b-tabs v-model=\"tab\" ref=\"tabs\" card pills vertical end>\n              <b-tab title=\"Map\" no-body>\n                <Map :stac=\"data\" :stacLayerData=\"selectedAsset\" @mapClicked=\"mapClicked\" @mapChanged=\"mapChanged\" />\n              </b-tab>\n              <b-tab v-if=\"thumbnails.length > 0\" title=\"Thumbnails\" no-body>\n                <Thumbnails :thumbnails=\"thumbnails\" />\n              </b-tab>\n            </b-tabs>\n          </b-card>\n        </section>\n        <Assets v-if=\"hasAssets\" :assets=\"assets\" :context=\"data\" :shown=\"shownAssets\" @showAsset=\"showAsset\" />\n        <Links v-if=\"additionalLinks.length > 0\" title=\"Additional resources\" :links=\"additionalLinks\" />\n      </b-col>\n      <b-col class=\"right\">\n        <section class=\"intro\">\n          <h2 v-if=\"data.properties.description\">Description</h2>\n          <DeprecationNotice v-if=\"data.properties.deprecated\" :data=\"data\" />\n          <AnonymizedNotice v-if=\"data.properties['anon:warning']\" :warning=\"data.properties['anon:warning']\" />\n          <ReadMore v-if=\"data.properties.description\" :lines=\"10\">\n            <Description :description=\"data.properties.description\" />\n          </ReadMore>\n          <Keywords v-if=\"Array.isArray(data.properties.keywords) && data.properties.keywords.length > 0\" :keywords=\"data.properties.keywords\" />\n        </section>\n        <section class=\"item-collection card-list mb-4\" v-if=\"collection\">\n          <h2>Collection</h2>\n          <Catalog :catalog=\"collection\" :showThumbnail=\"false\" />\n        </section>\n        <Providers v-if=\"data.properties.providers\" :providers=\"data.properties.providers\" />\n        <Metadata :data=\"data\" type=\"Item\" :ignoreFields=\"ignoredMetadataFields\" />\n      </b-col>\n    </b-row>\n  </div>\n</template>\n\n<script>\nimport { mapState, mapGetters } from 'vuex';\nimport Assets from '../components/Assets.vue';\nimport Description from '../components/Description.vue';\nimport Links from '../components/Links.vue';\nimport Metadata from '../components/Metadata.vue';\nimport ReadMore from \"vue-read-more-smooth\";\nimport ShowAssetMixin from '../components/ShowAssetMixin';\nimport { BTabs, BTab } from 'bootstrap-vue';\nimport Utils from '../utils';\n\nexport default {\n  name: \"Item\",\n  components: {\n    AnonymizedNotice: () => import('../components/AnonymizedNotice.vue'),\n    Assets,\n    BTabs,\n    BTab,\n    Catalog: () => import('../components/Catalog.vue'),\n    Description,\n    DeprecationNotice: () => import('../components/DeprecationNotice.vue'),\n    Links,\n    Map: () => import('../components/Map.vue'),\n    Metadata,\n    Providers: () => import('../components/Providers.vue'),\n    ReadMore,\n    Thumbnails: () => import('../components/Thumbnails.vue')\n  },\n  mixins: [ShowAssetMixin],\n  data() {\n    return {\n      ignoredMetadataFields: [\n        'title',\n        'description',\n        'providers',\n        // Will be rendered with a custom rendered\n        'deprecated',\n        // Don't show these complex lists of coordinates: https://github.com/radiantearth/stac-browser/issues/141\n        'proj:bbox',\n        'proj:geometry',\n        // Special handling for the warning of the anonymized-location extension\n        'anon:warning'\n      ]\n    };\n  },\n  computed: {\n    ...mapState(['data', 'url']),\n    ...mapGetters(['additionalLinks', 'collection', 'collectionLink'])\n  },\n  watch: {\n    collectionLink: {\n      immediate: true,\n      handler(newLink) {\n        if (Utils.isObject(newLink)) {\n          this.$store.dispatch(\"load\", { url: newLink.href });\n        }\n      }\n    }\n  },\n  methods: {\n    mapClicked(stac) {\n      console.log(stac); // todo\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\">\n@import '~bootstrap/scss/mixins';\n@import \"../theme/variables.scss\";\n\n#stac-browser .item {\n  .left, .right {\n    max-width: 50%;\n    @include media-breakpoint-down(sm) {\n      max-width: 100%;\n      min-width: 100%;\n    }\n  }\n\n  .card-columns .thumbnail {\n    align-self: center;\n  }\n\n  .metadata .card-columns {\n    column-count: 1;\n\n    &:not(.count-1) {\n      @include media-breakpoint-up(xxxl) {\n        column-count: 2;\n      }\n    }\n  }\n}\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Item.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Item.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Item.vue?vue&type=template&id=37059dbd&\"\nimport script from \"./Item.vue?vue&type=script&lang=js&\"\nexport * from \"./Item.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Item.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}