(self["webpackChunk_radiantearth_stac_browser"]=self["webpackChunk_radiantearth_stac_browser"]||[]).push([[5255],{5255:function(e,t,i){"use strict";i.r(t),i.d(t,{default:function(){return mi}});var r=i(98622);const s=new Map;function n(e,t){Array.isArray(e)||(e=[e]),e.forEach(e=>s.set(e,t))}async function o(e){const t=s.get(e.Compression);if(!t)throw new Error(`Unknown compression method identifier: ${e.Compression}`);const i=await t();return new i(e)}n([void 0,1],()=>i.e(5121).then(i.bind(i,35121)).then(e=>e.default)),n(5,()=>i.e(2764).then(i.bind(i,12764)).then(e=>e.default)),n(6,()=>{throw new Error("old style JPEG compression is not supported.")}),n(7,()=>i.e(6457).then(i.bind(i,76457)).then(e=>e.default)),n([8,32946],()=>Promise.all([i.e(9237),i.e(424)]).then(i.bind(i,50424)).then(e=>e.default)),n(32773,()=>i.e(1030).then(i.bind(i,1030)).then(e=>e.default)),n(34887,()=>Promise.all([i.e(9237),i.e(6885)]).then(i.bind(i,56885)).then(async e=>(await e.zstd.init(),e)).then(e=>e.default)),n(50001,()=>i.e(6568).then(i.bind(i,6568)).then(e=>e.default));const a="undefined"!==typeof navigator&&navigator.hardwareConcurrency||2;class l{constructor(e=a,t){this.workers=null,this._awaitingDecoder=null,this.size=e,this.messageId=0,e&&(this._awaitingDecoder=t?Promise.resolve(t):new Promise(e=>{i.e(5719).then(i.bind(i,55719)).then(t=>{e(t.create)})}),this._awaitingDecoder.then(t=>{this._awaitingDecoder=null,this.workers=[];for(let i=0;i<e;i++)this.workers.push({worker:t(),idle:!0})}))}async decode(e,t){return this._awaitingDecoder&&await this._awaitingDecoder,0===this.size?o(e).then(i=>i.decode(e,t)):new Promise(i=>{const r=this.workers.find(e=>e.idle)||this.workers[Math.floor(Math.random()*this.size)];r.idle=!1;const s=this.messageId++,n=e=>{e.data.id===s&&(r.idle=!0,i(e.data.decoded),r.worker.removeEventListener("message",n))};r.worker.addEventListener("message",n),r.worker.postMessage({fileDirectory:e,buffer:t,id:s},[t])})}destroy(){this.workers&&(this.workers.forEach(e=>{e.worker.terminate()}),this.workers=null)}}var h=l;const c="Cannot convert undefined or null to object";function f(e){return(t,...i)=>g(e,t,i)}function u(e,t){return f(w(e,t).get)}const{apply:g,construct:d,defineProperty:p,get:y,getOwnPropertyDescriptor:w,getPrototypeOf:m,has:b,ownKeys:S,set:I,setPrototypeOf:A}=Reflect,{EPSILON:_,MAX_SAFE_INTEGER:T,isFinite:x,isNaN:D}=Number,{iterator:E,species:M,toStringTag:P,for:C}=Symbol,k=Object,{create:F,defineProperty:G,freeze:R,is:O}=k,U=k.prototype,v=(U.__lookupGetter__&&f(U.__lookupGetter__),k.hasOwn||f(U.hasOwnProperty)),L=Array,B=(L.isArray,L.prototype),z=(f(B.join),f(B.push),f(B.toLocaleString),B[E]),N=f(z),{abs:$,trunc:V}=Math,K=ArrayBuffer,j=(K.isView,K.prototype),q=(f(j.slice),u(j,"byteLength"),"undefined"!==typeof SharedArrayBuffer?SharedArrayBuffer:null),H=(q&&u(q.prototype,"byteLength"),m(Uint8Array)),W=(H.from,H.prototype),Y=(W[E],f(W.keys),f(W.values),f(W.entries),f(W.set),f(W.reverse),f(W.fill),f(W.copyWithin),f(W.sort),f(W.slice),f(W.subarray),u(W,"buffer"),u(W,"byteOffset"),u(W,"length"),u(W,P),Uint8Array),X=Uint16Array,Z=Uint32Array,J=Float32Array,Q=m([][E]()),ee=f(Q.next),te=f(function*(){}().next),ie=m(Q),re=DataView.prototype,se=f(re.getUint16),ne=(f(re.setUint16),TypeError),oe=WeakSet,ae=oe.prototype,le=(f(ae.add),f(ae.has),WeakMap),he=le.prototype,ce=f(he.get),fe=(f(he.has),f(he.set)),ue=new le,ge=F(null,{next:{value:function(){const e=ce(ue,this);return ee(e)}},[E]:{value:function(){return this}}});function de(e){if(e[E]===z&&Q.next===ee)return e;const t=F(ge);return fe(ue,t,N(e)),t}const pe=new le,ye=F(ie,{next:{value:function(){const e=ce(pe,this);return te(e)},writable:!0,configurable:!0}});for(const bi of S(Q))"next"!==bi&&G(ye,bi,w(Q,bi));const we=new K(4),me=new J(we),be=new Z(we),Se=new X(512),Ie=new Y(512);for(let bi=0;bi<256;++bi){const e=bi-127;e<-24?(Se[bi]=0,Se[256|bi]=32768,Ie[bi]=24,Ie[256|bi]=24):e<-14?(Se[bi]=1024>>-e-14,Se[256|bi]=1024>>-e-14|32768,Ie[bi]=-e-1,Ie[256|bi]=-e-1):e<=15?(Se[bi]=e+15<<10,Se[256|bi]=e+15<<10|32768,Ie[bi]=13,Ie[256|bi]=13):e<128?(Se[bi]=31744,Se[256|bi]=64512,Ie[bi]=24,Ie[256|bi]=24):(Se[bi]=31744,Se[256|bi]=64512,Ie[bi]=13,Ie[256|bi]=13)}const Ae=new Z(2048);for(let bi=1;bi<1024;++bi){let e=bi<<13,t=0;while(0===(8388608&e))e<<=1,t-=8388608;e&=-8388609,t+=947912704,Ae[bi]=e|t}for(let bi=1024;bi<2048;++bi)Ae[bi]=939524096+(bi-1024<<13);const _e=new Z(64);for(let bi=1;bi<31;++bi)_e[bi]=bi<<23;_e[31]=1199570944,_e[32]=2147483648;for(let bi=33;bi<63;++bi)_e[bi]=2147483648+(bi-32<<23);_e[63]=3347054592;const Te=new X(64);for(let bi=1;bi<64;++bi)32!==bi&&(Te[bi]=1024);function xe(e){const t=e>>10;return be[0]=Ae[Te[t]+(1023&e)]+_e[t],me[0]}function De(e,t,...i){return xe(se(e,t,...de(i)))}var Ee=i(27379),Me=i(60563);function Pe(e,t){const{width:i,height:r}=e,s=new Uint8Array(i*r*3);let n;for(let o=0,a=0;o<e.length;++o,a+=3)n=256-e[o]/t*256,s[a]=n,s[a+1]=n,s[a+2]=n;return s}function Ce(e,t){const{width:i,height:r}=e,s=new Uint8Array(i*r*3);let n;for(let o=0,a=0;o<e.length;++o,a+=3)n=e[o]/t*256,s[a]=n,s[a+1]=n,s[a+2]=n;return s}function ke(e,t){const{width:i,height:r}=e,s=new Uint8Array(i*r*3),n=t.length/3,o=t.length/3*2;for(let a=0,l=0;a<e.length;++a,l+=3){const i=e[a];s[l]=t[i]/65536*256,s[l+1]=t[i+n]/65536*256,s[l+2]=t[i+o]/65536*256}return s}function Fe(e){const{width:t,height:i}=e,r=new Uint8Array(t*i*3);for(let s=0,n=0;s<e.length;s+=4,n+=3){const t=e[s],i=e[s+1],o=e[s+2],a=e[s+3];r[n]=(255-t)/256*255*((255-a)/256),r[n+1]=(255-i)/256*255*((255-a)/256),r[n+2]=(255-o)/256*255*((255-a)/256)}return r}function Ge(e){const{width:t,height:i}=e,r=new Uint8ClampedArray(t*i*3);for(let s=0,n=0;s<e.length;s+=3,n+=3){const t=e[s],i=e[s+1],o=e[s+2];r[n]=t+1.402*(o-128),r[n+1]=t-.34414*(i-128)-.71414*(o-128),r[n+2]=t+1.772*(i-128)}return r}const Re=.95047,Oe=1,Ue=1.08883;function ve(e){const{width:t,height:i}=e,r=new Uint8Array(t*i*3);for(let s=0,n=0;s<e.length;s+=3,n+=3){const t=e[s+0],i=e[s+1]<<24>>24,o=e[s+2]<<24>>24;let a,l,h,c=(t+16)/116,f=i/500+c,u=c-o/200;f=Re*(f*f*f>.008856?f*f*f:(f-16/116)/7.787),c=Oe*(c*c*c>.008856?c*c*c:(c-16/116)/7.787),u=Ue*(u*u*u>.008856?u*u*u:(u-16/116)/7.787),a=3.2406*f+-1.5372*c+-.4986*u,l=-.9689*f+1.8758*c+.0415*u,h=.0557*f+-.204*c+1.057*u,a=a>.0031308?1.055*a**(1/2.4)-.055:12.92*a,l=l>.0031308?1.055*l**(1/2.4)-.055:12.92*l,h=h>.0031308?1.055*h**(1/2.4)-.055:12.92*h,r[n]=255*Math.max(0,Math.min(1,a)),r[n+1]=255*Math.max(0,Math.min(1,l)),r[n+2]=255*Math.max(0,Math.min(1,h))}return r}function Le(e,t,i,r=1){return new(Object.getPrototypeOf(e).constructor)(t*i*r)}function Be(e,t,i,r,s){const n=t/r,o=i/s;return e.map(e=>{const a=Le(e,r,s);for(let l=0;l<s;++l){const s=Math.min(Math.round(o*l),i-1);for(let i=0;i<r;++i){const o=Math.min(Math.round(n*i),t-1),h=e[s*t+o];a[l*r+i]=h}}return a})}function ze(e,t,i){return(1-i)*e+i*t}function Ne(e,t,i,r,s){const n=t/r,o=i/s;return e.map(e=>{const a=Le(e,r,s);for(let l=0;l<s;++l){const s=o*l,h=Math.floor(s),c=Math.min(Math.ceil(s),i-1);for(let i=0;i<r;++i){const o=n*i,f=o%1,u=Math.floor(o),g=Math.min(Math.ceil(o),t-1),d=e[h*t+u],p=e[h*t+g],y=e[c*t+u],w=e[c*t+g],m=ze(ze(d,p,f),ze(y,w,f),s%1);a[l*r+i]=m}}return a})}function $e(e,t,i,r,s,n="nearest"){switch(n.toLowerCase()){case"nearest":return Be(e,t,i,r,s);case"bilinear":case"linear":return Ne(e,t,i,r,s);default:throw new Error(`Unsupported resampling method: '${n}'`)}}function Ve(e,t,i,r,s,n){const o=t/r,a=i/s,l=Le(e,r,s,n);for(let h=0;h<s;++h){const s=Math.min(Math.round(a*h),i-1);for(let i=0;i<r;++i){const a=Math.min(Math.round(o*i),t-1);for(let o=0;o<n;++o){const c=e[s*t*n+a*n+o];l[h*r*n+i*n+o]=c}}}return l}function Ke(e,t,i,r,s,n){const o=t/r,a=i/s,l=Le(e,r,s,n);for(let h=0;h<s;++h){const s=a*h,c=Math.floor(s),f=Math.min(Math.ceil(s),i-1);for(let i=0;i<r;++i){const a=o*i,u=a%1,g=Math.floor(a),d=Math.min(Math.ceil(a),t-1);for(let o=0;o<n;++o){const a=e[c*t*n+g*n+o],p=e[c*t*n+d*n+o],y=e[f*t*n+g*n+o],w=e[f*t*n+d*n+o],m=ze(ze(a,p,u),ze(y,w,u),s%1);l[h*r*n+i*n+o]=m}}}return l}function je(e,t,i,r,s,n,o="nearest"){switch(o.toLowerCase()){case"nearest":return Ve(e,t,i,r,s,n);case"bilinear":case"linear":return Ke(e,t,i,r,s,n);default:throw new Error(`Unsupported resampling method: '${o}'`)}}function qe(e,t,i){let r=0;for(let s=t;s<i;++s)r+=e[s];return r}function He(e,t,i){switch(e){case 1:if(t<=8)return new Uint8Array(i);if(t<=16)return new Uint16Array(i);if(t<=32)return new Uint32Array(i);break;case 2:if(8===t)return new Int8Array(i);if(16===t)return new Int16Array(i);if(32===t)return new Int32Array(i);break;case 3:switch(t){case 16:case 32:return new Float32Array(i);case 64:return new Float64Array(i);default:break}break;default:break}throw Error("Unsupported data format/bitsPerSample")}function We(e,t){return(1!==e&&2!==e||!(t<=32)||t%8!==0)&&(3!==e||16!==t&&32!==t&&64!==t)}function Ye(e,t,i,r,s,n,o){const a=new DataView(e),l=2===i?o*n:o*n*r,h=2===i?1:r,c=He(t,s,l),f=parseInt("1".repeat(s),2);if(1===t){let e;e=1===i?r*s:s;let t=n*e;0!==(7&t)&&(t=t+7&-8);for(let i=0;i<o;++i){const e=i*t;for(let t=0;t<n;++t){const r=e+t*h*s;for(let e=0;e<h;++e){const o=r+e*s,l=(i*n+t)*h+e,u=Math.floor(o/8),g=o%8;if(g+s<=8)c[l]=a.getUint8(u)>>8-s-g&f;else if(g+s<=16)c[l]=a.getUint16(u)>>16-s-g&f;else if(g+s<=24){const e=a.getUint16(u)<<8|a.getUint8(u+2);c[l]=e>>24-s-g&f}else c[l]=a.getUint32(u)>>32-s-g&f}}}}return c.buffer}class Xe{constructor(e,t,i,r,s,n){this.fileDirectory=e,this.geoKeys=t,this.dataView=i,this.littleEndian=r,this.tiles=s?{}:null,this.isTiled=!e.StripOffsets;const o=e.PlanarConfiguration;if(this.planarConfiguration="undefined"===typeof o?1:o,1!==this.planarConfiguration&&2!==this.planarConfiguration)throw new Error("Invalid planar configuration.");this.source=n}getFileDirectory(){return this.fileDirectory}getGeoKeys(){return this.geoKeys}getWidth(){return this.fileDirectory.ImageWidth}getHeight(){return this.fileDirectory.ImageLength}getSamplesPerPixel(){return"undefined"!==typeof this.fileDirectory.SamplesPerPixel?this.fileDirectory.SamplesPerPixel:1}getTileWidth(){return this.isTiled?this.fileDirectory.TileWidth:this.getWidth()}getTileHeight(){return this.isTiled?this.fileDirectory.TileLength:"undefined"!==typeof this.fileDirectory.RowsPerStrip?Math.min(this.fileDirectory.RowsPerStrip,this.getHeight()):this.getHeight()}getBlockWidth(){return this.getTileWidth()}getBlockHeight(e){return this.isTiled||(e+1)*this.getTileHeight()<=this.getHeight()?this.getTileHeight():this.getHeight()-e*this.getTileHeight()}getBytesPerPixel(){let e=0;for(let t=0;t<this.fileDirectory.BitsPerSample.length;++t)e+=this.getSampleByteSize(t);return e}getSampleByteSize(e){if(e>=this.fileDirectory.BitsPerSample.length)throw new RangeError(`Sample index ${e} is out of range.`);return Math.ceil(this.fileDirectory.BitsPerSample[e]/8)}getReaderForSample(e){const t=this.fileDirectory.SampleFormat?this.fileDirectory.SampleFormat[e]:1,i=this.fileDirectory.BitsPerSample[e];switch(t){case 1:if(i<=8)return DataView.prototype.getUint8;if(i<=16)return DataView.prototype.getUint16;if(i<=32)return DataView.prototype.getUint32;break;case 2:if(i<=8)return DataView.prototype.getInt8;if(i<=16)return DataView.prototype.getInt16;if(i<=32)return DataView.prototype.getInt32;break;case 3:switch(i){case 16:return function(e,t){return De(this,e,t)};case 32:return DataView.prototype.getFloat32;case 64:return DataView.prototype.getFloat64;default:break}break;default:break}throw Error("Unsupported data format/bitsPerSample")}getSampleFormat(e=0){return this.fileDirectory.SampleFormat?this.fileDirectory.SampleFormat[e]:1}getBitsPerSample(e=0){return this.fileDirectory.BitsPerSample[e]}getArrayForSample(e,t){const i=this.getSampleFormat(e),r=this.getBitsPerSample(e);return He(i,r,t)}async getTileOrStrip(e,t,i,r,s){const n=Math.ceil(this.getWidth()/this.getTileWidth()),o=Math.ceil(this.getHeight()/this.getTileHeight());let a;const{tiles:l}=this;let h,c;1===this.planarConfiguration?a=t*n+e:2===this.planarConfiguration&&(a=i*n*o+t*n+e),this.isTiled?(h=this.fileDirectory.TileOffsets[a],c=this.fileDirectory.TileByteCounts[a]):(h=this.fileDirectory.StripOffsets[a],c=this.fileDirectory.StripByteCounts[a]);const f=(await this.source.fetch([{offset:h,length:c}],s))[0];let u;return null!==l&&l[a]?u=l[a]:(u=(async()=>{let e=await r.decode(this.fileDirectory,f);const i=this.getSampleFormat(),s=this.getBitsPerSample();return We(i,s)&&(e=Ye(e,i,this.planarConfiguration,this.getSamplesPerPixel(),s,this.getTileWidth(),this.getBlockHeight(t))),e})(),null!==l&&(l[a]=u)),{x:e,y:t,sample:i,data:await u}}async _readRaster(e,t,i,r,s,n,o,a,l){const h=this.getTileWidth(),c=this.getTileHeight(),f=this.getWidth(),u=this.getHeight(),g=Math.max(Math.floor(e[0]/h),0),d=Math.min(Math.ceil(e[2]/h),Math.ceil(f/h)),p=Math.max(Math.floor(e[1]/c),0),y=Math.min(Math.ceil(e[3]/c),Math.ceil(u/c)),w=e[2]-e[0];let m=this.getBytesPerPixel();const b=[],S=[];for(let _=0;_<t.length;++_)1===this.planarConfiguration?b.push(qe(this.fileDirectory.BitsPerSample,0,t[_])/8):b.push(0),S.push(this.getReaderForSample(t[_]));const I=[],{littleEndian:A}=this;for(let _=p;_<y;++_)for(let n=g;n<d;++n){let o;1===this.planarConfiguration&&(o=this.getTileOrStrip(n,_,0,s,l));for(let a=0;a<t.length;++a){const g=a,d=t[a];2===this.planarConfiguration&&(m=this.getSampleByteSize(d),o=this.getTileOrStrip(n,_,d,s,l));const p=o.then(s=>{const n=s.data,o=new DataView(n),a=this.getBlockHeight(s.y),l=s.y*c,d=s.x*h,p=l+a,y=(s.x+1)*h,I=S[g],_=Math.min(a,a-(p-e[3]),u-l),T=Math.min(h,h-(y-e[2]),f-d);for(let c=Math.max(0,e[1]-l);c<_;++c)for(let s=Math.max(0,e[0]-d);s<T;++s){const n=(c*h+s)*m,a=I.call(o,n+b[g],A);let f;r?(f=(c+l-e[1])*w*t.length+(s+d-e[0])*t.length+g,i[f]=a):(f=(c+l-e[1])*w+s+d-e[0],i[g][f]=a)}});I.push(p)}}if(await Promise.all(I),n&&e[2]-e[0]!==n||o&&e[3]-e[1]!==o){let s;return s=r?je(i,e[2]-e[0],e[3]-e[1],n,o,t.length,a):$e(i,e[2]-e[0],e[3]-e[1],n,o,a),s.width=n,s.height=o,s}return i.width=n||e[2]-e[0],i.height=o||e[3]-e[1],i}async readRasters({window:e,samples:t=[],interleave:i,pool:r=null,width:s,height:n,resampleMethod:a,fillValue:l,signal:h}={}){const c=e||[0,0,this.getWidth(),this.getHeight()];if(c[0]>c[2]||c[1]>c[3])throw new Error("Invalid subsets");const f=c[2]-c[0],u=c[3]-c[1],g=f*u,d=this.getSamplesPerPixel();if(t&&t.length){for(let o=0;o<t.length;++o)if(t[o]>=d)return Promise.reject(new RangeError(`Invalid sample index '${t[o]}'.`))}else for(let o=0;o<d;++o)t.push(o);let p;if(i){const e=this.fileDirectory.SampleFormat?Math.max.apply(null,this.fileDirectory.SampleFormat):1,i=Math.max.apply(null,this.fileDirectory.BitsPerSample);p=He(e,i,g*t.length),l&&p.fill(l)}else{p=[];for(let e=0;e<t.length;++e){const i=this.getArrayForSample(t[e],g);Array.isArray(l)&&e<l.length?i.fill(l[e]):l&&!Array.isArray(l)&&i.fill(l),p.push(i)}}const y=r||await o(this.fileDirectory),w=await this._readRaster(c,t,p,i,y,s,n,a,h);return w}async readRGB({window:e,interleave:t=!0,pool:i=null,width:s,height:n,resampleMethod:o,enableAlpha:a=!1,signal:l}={}){const h=e||[0,0,this.getWidth(),this.getHeight()];if(h[0]>h[2]||h[1]>h[3])throw new Error("Invalid subsets");const c=this.fileDirectory.PhotometricInterpretation;if(c===r.ub.RGB){let h=[0,1,2];if(this.fileDirectory.ExtraSamples!==r.AC.Unspecified&&a){h=[];for(let e=0;e<this.fileDirectory.BitsPerSample.length;e+=1)h.push(e)}return this.readRasters({window:e,interleave:t,samples:h,pool:i,width:s,height:n,resampleMethod:o,signal:l})}let f;switch(c){case r.ub.WhiteIsZero:case r.ub.BlackIsZero:case r.ub.Palette:f=[0];break;case r.ub.CMYK:f=[0,1,2,3];break;case r.ub.YCbCr:case r.ub.CIELab:f=[0,1,2];break;default:throw new Error("Invalid or unsupported photometric interpretation.")}const u={window:h,interleave:!0,samples:f,pool:i,width:s,height:n,resampleMethod:o,signal:l},{fileDirectory:g}=this,d=await this.readRasters(u),p=2**this.fileDirectory.BitsPerSample[0];let y;switch(c){case r.ub.WhiteIsZero:y=Pe(d,p);break;case r.ub.BlackIsZero:y=Ce(d,p);break;case r.ub.Palette:y=ke(d,g.ColorMap);break;case r.ub.CMYK:y=Fe(d);break;case r.ub.YCbCr:y=Ge(d);break;case r.ub.CIELab:y=ve(d);break;default:throw new Error("Unsupported photometric interpretation.")}if(!t){const e=new Uint8Array(y.length/3),t=new Uint8Array(y.length/3),i=new Uint8Array(y.length/3);for(let r=0,s=0;r<y.length;r+=3,++s)e[s]=y[r],t[s]=y[r+1],i[s]=y[r+2];y=[e,t,i]}return y.width=d.width,y.height=d.height,y}getTiePoints(){if(!this.fileDirectory.ModelTiepoint)return[];const e=[];for(let t=0;t<this.fileDirectory.ModelTiepoint.length;t+=6)e.push({i:this.fileDirectory.ModelTiepoint[t],j:this.fileDirectory.ModelTiepoint[t+1],k:this.fileDirectory.ModelTiepoint[t+2],x:this.fileDirectory.ModelTiepoint[t+3],y:this.fileDirectory.ModelTiepoint[t+4],z:this.fileDirectory.ModelTiepoint[t+5]});return e}getGDALMetadata(e=null){const t={};if(!this.fileDirectory.GDAL_METADATA)return null;const i=this.fileDirectory.GDAL_METADATA;let r=Me(i,"Item");r=null===e?r.filter(e=>void 0===Ee(e,"sample")):r.filter(t=>Number(Ee(t,"sample"))===e);for(let s=0;s<r.length;++s){const e=r[s];t[Ee(e,"name")]=e.inner}return t}getGDALNoData(){if(!this.fileDirectory.GDAL_NODATA)return null;const e=this.fileDirectory.GDAL_NODATA;return Number(e.substring(0,e.length-1))}getOrigin(){const e=this.fileDirectory.ModelTiepoint,t=this.fileDirectory.ModelTransformation;if(e&&6===e.length)return[e[3],e[4],e[5]];if(t)return[t[3],t[7],t[11]];throw new Error("The image does not have an affine transformation.")}getResolution(e=null){const t=this.fileDirectory.ModelPixelScale,i=this.fileDirectory.ModelTransformation;if(t)return[t[0],-t[1],t[2]];if(i)return 0===i[1]&&0===i[4]?[i[0],-i[5],i[10]]:[Math.sqrt(i[0]*i[0]+i[4]*i[4]),-Math.sqrt(i[1]*i[1]+i[5]*i[5]),i[10]];if(e){const[t,i,r]=e.getResolution();return[t*e.getWidth()/this.getWidth(),i*e.getHeight()/this.getHeight(),r*e.getWidth()/this.getWidth()]}throw new Error("The image does not have an affine transformation.")}pixelIsArea(){return 1===this.geoKeys.GTRasterTypeGeoKey}getBoundingBox(e=!1){const t=this.getHeight(),i=this.getWidth();if(this.fileDirectory.ModelTransformation&&!e){const[e,r,s,n,o,a,l,h]=this.fileDirectory.ModelTransformation,c=[[0,0],[0,t],[i,0],[i,t]],f=c.map(([t,i])=>[n+e*t+r*i,h+o*t+a*i]),u=f.map(e=>e[0]),g=f.map(e=>e[1]);return[Math.min(...u),Math.min(...g),Math.max(...u),Math.max(...g)]}{const e=this.getOrigin(),r=this.getResolution(),s=e[0],n=e[1],o=s+r[0]*i,a=n+r[1]*t;return[Math.min(s,o),Math.min(n,a),Math.max(s,o),Math.max(n,a)]}}}var Ze=Xe;class Je{constructor(e){this._dataView=new DataView(e)}get buffer(){return this._dataView.buffer}getUint64(e,t){const i=this.getUint32(e,t),r=this.getUint32(e+4,t);let s;if(t){if(s=i+2**32*r,!Number.isSafeInteger(s))throw new Error(`${s} exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues`);return s}if(s=2**32*i+r,!Number.isSafeInteger(s))throw new Error(`${s} exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues`);return s}getInt64(e,t){let i=0;const r=(128&this._dataView.getUint8(e+(t?7:0)))>0;let s=!0;for(let n=0;n<8;n++){let o=this._dataView.getUint8(e+(t?n:7-n));r&&(s?0!==o&&(o=255&~(o-1),s=!1):o=255&~o),i+=o*256**n}return r&&(i=-i),i}getUint8(e,t){return this._dataView.getUint8(e,t)}getInt8(e,t){return this._dataView.getInt8(e,t)}getUint16(e,t){return this._dataView.getUint16(e,t)}getInt16(e,t){return this._dataView.getInt16(e,t)}getUint32(e,t){return this._dataView.getUint32(e,t)}getInt32(e,t){return this._dataView.getInt32(e,t)}getFloat16(e,t){return De(this._dataView,e,t)}getFloat32(e,t){return this._dataView.getFloat32(e,t)}getFloat64(e,t){return this._dataView.getFloat64(e,t)}}class Qe{constructor(e,t,i,r){this._dataView=new DataView(e),this._sliceOffset=t,this._littleEndian=i,this._bigTiff=r}get sliceOffset(){return this._sliceOffset}get sliceTop(){return this._sliceOffset+this.buffer.byteLength}get littleEndian(){return this._littleEndian}get bigTiff(){return this._bigTiff}get buffer(){return this._dataView.buffer}covers(e,t){return this.sliceOffset<=e&&this.sliceTop>=e+t}readUint8(e){return this._dataView.getUint8(e-this._sliceOffset,this._littleEndian)}readInt8(e){return this._dataView.getInt8(e-this._sliceOffset,this._littleEndian)}readUint16(e){return this._dataView.getUint16(e-this._sliceOffset,this._littleEndian)}readInt16(e){return this._dataView.getInt16(e-this._sliceOffset,this._littleEndian)}readUint32(e){return this._dataView.getUint32(e-this._sliceOffset,this._littleEndian)}readInt32(e){return this._dataView.getInt32(e-this._sliceOffset,this._littleEndian)}readFloat32(e){return this._dataView.getFloat32(e-this._sliceOffset,this._littleEndian)}readFloat64(e){return this._dataView.getFloat64(e-this._sliceOffset,this._littleEndian)}readUint64(e){const t=this.readUint32(e),i=this.readUint32(e+4);let r;if(this._littleEndian){if(r=t+2**32*i,!Number.isSafeInteger(r))throw new Error(`${r} exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues`);return r}if(r=2**32*t+i,!Number.isSafeInteger(r))throw new Error(`${r} exceeds MAX_SAFE_INTEGER. Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues`);return r}readInt64(e){let t=0;const i=(128&this._dataView.getUint8(e+(this._littleEndian?7:0)))>0;let r=!0;for(let s=0;s<8;s++){let n=this._dataView.getUint8(e+(this._littleEndian?s:7-s));i&&(r?0!==n&&(n=255&~(n-1),r=!1):n=255&~n),t+=n*256**s}return i&&(t=-t),t}readOffset(e){return this._bigTiff?this.readUint64(e):this.readUint32(e)}}const et="\r\n\r\n";function tt(e){if("undefined"!==typeof Object.fromEntries)return Object.fromEntries(e);const t={};for(const[i,r]of e)t[i.toLowerCase()]=r;return t}function it(e){const t=e.split("\r\n").map(e=>{const t=e.split(":").map(e=>e.trim());return t[0]=t[0].toLowerCase(),t});return tt(t)}function rt(e){const[t,...i]=e.split(";").map(e=>e.trim()),r=i.map(e=>e.split("="));return{type:t,params:tt(r)}}function st(e){let t,i,r;return e&&([,t,i,r]=e.match(/bytes (\d+)-(\d+)\/(\d+)/),t=parseInt(t,10),i=parseInt(i,10),r=parseInt(r,10)),{start:t,end:i,total:r}}function nt(e,t){let i=null;const r=new TextDecoder("ascii"),s=[],n=`--${t}`,o=`${n}--`;for(let a=0;a<10;++a){const t=r.decode(new Uint8Array(e,a,n.length));t===n&&(i=a)}if(null===i)throw new Error("Could not find initial boundary");while(i<e.byteLength){const t=r.decode(new Uint8Array(e,i,Math.min(n.length+1024,e.byteLength-i)));if(0===t.length||t.startsWith(o))break;if(!t.startsWith(n))throw new Error("Part does not start with boundary");const a=t.substr(n.length+2);if(0===a.length)break;const l=a.indexOf(et),h=it(a.substr(0,l)),{start:c,end:f,total:u}=st(h["content-range"]),g=i+n.length+l+et.length,d=parseInt(f,10)+1-parseInt(c,10);s.push({headers:h,data:e.slice(g,g+d),offset:c,length:d,fileSize:u}),i=g+d+4}return s}class ot{async fetch(e,t=void 0){return Promise.all(e.map(e=>this.fetchSlice(e,t)))}async fetchSlice(e){throw new Error(`fetching of slice ${e} not possible, not implemented`)}get fileSize(){return null}async close(){}}class at extends Map{constructor(e={}){if(super(),!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");if("number"===typeof e.maxAge&&0===e.maxAge)throw new TypeError("`maxAge` must be a number greater than 0");this.maxSize=e.maxSize,this.maxAge=e.maxAge||Number.POSITIVE_INFINITY,this.onEviction=e.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_emitEvictions(e){if("function"===typeof this.onEviction)for(const[t,i]of e)this.onEviction(t,i.value)}_deleteIfExpired(e,t){return"number"===typeof t.expiry&&t.expiry<=Date.now()&&("function"===typeof this.onEviction&&this.onEviction(e,t.value),this.delete(e))}_getOrDeleteIfExpired(e,t){const i=this._deleteIfExpired(e,t);if(!1===i)return t.value}_getItemValue(e,t){return t.expiry?this._getOrDeleteIfExpired(e,t):t.value}_peek(e,t){const i=t.get(e);return this._getItemValue(e,i)}_set(e,t){this.cache.set(e,t),this._size++,this._size>=this.maxSize&&(this._size=0,this._emitEvictions(this.oldCache),this.oldCache=this.cache,this.cache=new Map)}_moveToRecent(e,t){this.oldCache.delete(e),this._set(e,t)}*_entriesAscending(){for(const e of this.oldCache){const[t,i]=e;if(!this.cache.has(t)){const r=this._deleteIfExpired(t,i);!1===r&&(yield e)}}for(const e of this.cache){const[t,i]=e,r=this._deleteIfExpired(t,i);!1===r&&(yield e)}}get(e){if(this.cache.has(e)){const t=this.cache.get(e);return this._getItemValue(e,t)}if(this.oldCache.has(e)){const t=this.oldCache.get(e);if(!1===this._deleteIfExpired(e,t))return this._moveToRecent(e,t),t.value}}set(e,t,{maxAge:i=this.maxAge}={}){const r="number"===typeof i&&i!==Number.POSITIVE_INFINITY?Date.now()+i:void 0;return this.cache.has(e)?this.cache.set(e,{value:t,expiry:r}):this._set(e,{value:t,expiry:r}),this}has(e){return this.cache.has(e)?!this._deleteIfExpired(e,this.cache.get(e)):!!this.oldCache.has(e)&&!this._deleteIfExpired(e,this.oldCache.get(e))}peek(e){return this.cache.has(e)?this._peek(e,this.cache):this.oldCache.has(e)?this._peek(e,this.oldCache):void 0}delete(e){const t=this.cache.delete(e);return t&&this._size--,this.oldCache.delete(e)||t}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}resize(e){if(!(e&&e>0))throw new TypeError("`maxSize` must be a number greater than 0");const t=[...this._entriesAscending()],i=t.length-e;i<0?(this.cache=new Map(t),this.oldCache=new Map,this._size=t.length):(i>0&&this._emitEvictions(t.slice(0,i)),this.oldCache=new Map(t.slice(i)),this.cache=new Map,this._size=0),this.maxSize=e}*keys(){for(const[e]of this)yield e}*values(){for(const[,e]of this)yield e}*[Symbol.iterator](){for(const e of this.cache){const[t,i]=e,r=this._deleteIfExpired(t,i);!1===r&&(yield[t,i.value])}for(const e of this.oldCache){const[t,i]=e;if(!this.cache.has(t)){const e=this._deleteIfExpired(t,i);!1===e&&(yield[t,i.value])}}}*entriesDescending(){let e=[...this.cache];for(let t=e.length-1;t>=0;--t){const i=e[t],[r,s]=i,n=this._deleteIfExpired(r,s);!1===n&&(yield[r,s.value])}e=[...this.oldCache];for(let t=e.length-1;t>=0;--t){const i=e[t],[r,s]=i;if(!this.cache.has(r)){const e=this._deleteIfExpired(r,s);!1===e&&(yield[r,s.value])}}}*entriesAscending(){for(const[e,t]of this._entriesAscending())yield[e,t.value]}get size(){if(!this._size)return this.oldCache.size;let e=0;for(const t of this.oldCache.keys())this.cache.has(t)||e++;return Math.min(this._size+e,this.maxSize)}entries(){return this.entriesAscending()}forEach(e,t=this){for(const[i,r]of this.entriesAscending())e.call(t,r,i,this)}get[Symbol.toStringTag](){return JSON.stringify([...this.entriesAscending()])}}async function lt(e){return new Promise(t=>setTimeout(t,e))}function ht(e,t){const i=Array.isArray(e)?e:Array.from(e),r=Array.isArray(t)?t:Array.from(t);return i.map((e,t)=>[e,r[t]])}class ct extends Error{constructor(e){super(e),Error.captureStackTrace&&Error.captureStackTrace(this,ct),this.name="AbortError"}}class ft extends Error{constructor(e,t){super(t),this.errors=e,this.message=t,this.name="AggregateError"}}const ut=ft;class gt{constructor(e,t,i=null){this.offset=e,this.length=t,this.data=i}get top(){return this.offset+this.length}}class dt{constructor(e,t,i){this.offset=e,this.length=t,this.blockIds=i}}class pt extends ot{constructor(e,{blockSize:t=65536,cacheSize:i=100}={}){super(),this.source=e,this.blockSize=t,this.blockCache=new at({maxSize:i,onEviction:(e,t)=>{this.evictedBlocks.set(e,t)}}),this.evictedBlocks=new Map,this.blockRequests=new Map,this.blockIdsToFetch=new Set,this.abortedBlockIds=new Set}get fileSize(){return this.source.fileSize}async fetch(e,t){const i=[],r=[],s=[];this.evictedBlocks.clear();for(const{offset:f,length:u}of e){let e=f+u;const{fileSize:t}=this;null!==t&&(e=Math.min(e,t));const n=Math.floor(f/this.blockSize)*this.blockSize;for(let o=n;o<e;o+=this.blockSize){const e=Math.floor(o/this.blockSize);this.blockCache.has(e)||this.blockRequests.has(e)||(this.blockIdsToFetch.add(e),r.push(e)),this.blockRequests.has(e)&&i.push(this.blockRequests.get(e)),s.push(e)}}await lt(),this.fetchBlocks(t);const n=[];for(const f of r)this.blockRequests.has(f)&&n.push(this.blockRequests.get(f));await Promise.allSettled(i),await Promise.allSettled(n);const o=[],a=s.filter(e=>this.abortedBlockIds.has(e)||!this.blockCache.has(e));if(a.forEach(e=>this.blockIdsToFetch.add(e)),a.length>0&&t&&!t.aborted){this.fetchBlocks(null);for(const e of a){const t=this.blockRequests.get(e);if(!t)throw new Error(`Block ${e} is not in the block requests`);o.push(t)}await Promise.allSettled(o)}if(t&&t.aborted)throw new ct("Request was aborted");const l=s.map(e=>this.blockCache.get(e)||this.evictedBlocks.get(e)),h=l.filter(e=>!e);if(h.length)throw new ut(h,"Request failed");const c=new Map(ht(s,l));return this.readSliceData(e,c)}fetchBlocks(e){if(this.blockIdsToFetch.size>0){const t=this.groupBlocks(this.blockIdsToFetch),i=this.source.fetch(t,e);for(let r=0;r<t.length;++r){const s=t[r];for(const t of s.blockIds)this.blockRequests.set(t,(async()=>{try{const e=(await i)[r],s=t*this.blockSize,n=s-e.offset,o=Math.min(n+this.blockSize,e.data.byteLength),a=e.data.slice(n,o),l=new gt(s,a.byteLength,a,t);this.blockCache.set(t,l),this.abortedBlockIds.delete(t)}catch(s){if("AbortError"!==s.name)throw s;s.signal=e,this.blockCache.delete(t),this.abortedBlockIds.add(t)}finally{this.blockRequests.delete(t)}})())}this.blockIdsToFetch.clear()}}groupBlocks(e){const t=Array.from(e).sort((e,t)=>e-t);if(0===t.length)return[];let i=[],r=null;const s=[];for(const n of t)null===r||r+1===n?(i.push(n),r=n):(s.push(new dt(i[0]*this.blockSize,i.length*this.blockSize,i)),i=[n],r=n);return s.push(new dt(i[0]*this.blockSize,i.length*this.blockSize,i)),s}readSliceData(e,t){return e.map(e=>{let i=e.offset+e.length;null!==this.fileSize&&(i=Math.min(this.fileSize,i));const r=Math.floor(e.offset/this.blockSize),s=Math.floor(i/this.blockSize),n=new ArrayBuffer(e.length),o=new Uint8Array(n);for(let a=r;a<=s;++a){const r=t.get(a),s=r.offset-e.offset,n=r.top-i;let l,h=0,c=0;s<0?h=-s:s>0&&(c=s),l=n<0?r.length-h:i-r.offset-h;const f=new Uint8Array(r.data,h,l);o.set(f,c)}return n})}}class yt{get ok(){return this.status>=200&&this.status<=299}get status(){throw new Error("not implemented")}getHeader(e){throw new Error("not implemented")}async getData(){throw new Error("not implemented")}}class wt{constructor(e){this.url=e}async request({headers:e,signal:t}={}){throw new Error("request is not implemented")}}class mt extends yt{constructor(e){super(),this.response=e}get status(){return this.response.status}getHeader(e){return this.response.headers.get(e)}async getData(){const e=this.response.arrayBuffer?await this.response.arrayBuffer():(await this.response.buffer()).buffer;return e}}class bt extends wt{constructor(e,t){super(e),this.credentials=t}async request({headers:e,signal:t}={}){const i=await fetch(this.url,{headers:e,credentials:this.credentials,signal:t});return new mt(i)}}class St extends yt{constructor(e,t){super(),this.xhr=e,this.data=t}get status(){return this.xhr.status}getHeader(e){return this.xhr.getResponseHeader(e)}async getData(){return this.data}}class It extends wt{constructRequest(e,t){return new Promise((i,r)=>{const s=new XMLHttpRequest;s.open("GET",this.url),s.responseType="arraybuffer";for(const[t,n]of Object.entries(e))s.setRequestHeader(t,n);s.onload=()=>{const e=s.response;i(new St(s,e))},s.onerror=r,s.onabort=()=>r(new ct("Request aborted")),s.send(),t&&(t.aborted&&s.abort(),t.addEventListener("abort",()=>s.abort()))})}async request({headers:e,signal:t}={}){const i=await this.constructRequest(e,t);return i}}var At=i(28625),_t=i(56504),Tt=i(6580),xt=i(48287)["hp"];class Dt extends yt{constructor(e,t){super(),this.response=e,this.dataPromise=t}get status(){return this.response.statusCode}getHeader(e){return this.response.headers[e]}async getData(){const e=await this.dataPromise;return e}}class Et extends wt{constructor(e){super(e),this.parsedUrl=Tt.parse(this.url),this.httpApi="http:"===this.parsedUrl.protocol?At:_t}constructRequest(e,t){return new Promise((i,r)=>{const s=this.httpApi.get({...this.parsedUrl,headers:e},e=>{const t=new Promise(t=>{const i=[];e.on("data",e=>{i.push(e)}),e.on("end",()=>{const e=xt.concat(i).buffer;t(e)}),e.on("error",r)});i(new Dt(e,t))});s.on("error",r),t&&(t.aborted&&s.destroy(new ct("Request aborted")),t.addEventListener("abort",()=>s.destroy(new ct("Request aborted"))))})}async request({headers:e,signal:t}={}){const i=await this.constructRequest(e,t);return i}}class Mt extends ot{constructor(e,t,i,r){super(),this.client=e,this.headers=t,this.maxRanges=i,this.allowFullFile=r,this._fileSize=null}async fetch(e,t){return this.maxRanges>=e.length?this.fetchSlices(e,t):(this.maxRanges>0&&e.length,Promise.all(e.map(e=>this.fetchSlice(e,t))))}async fetchSlices(e,t){const i=await this.client.request({headers:{...this.headers,Range:`bytes=${e.map(({offset:e,length:t})=>`${e}-${e+t}`).join(",")}`},signal:t});if(i.ok){if(206===i.status){const{type:r,params:s}=rt(i.getHeader("content-type"));if("multipart/byteranges"===r){const e=nt(await i.getData(),s.boundary);return this._fileSize=e[0].fileSize||null,e}const n=await i.getData(),{start:o,end:a,total:l}=st(i.getHeader("content-range"));this._fileSize=l||null;const h=[{data:n,offset:o,length:a-o}];if(e.length>1){const i=await Promise.all(e.slice(1).map(e=>this.fetchSlice(e,t)));return h.concat(i)}return h}{if(!this.allowFullFile)throw new Error("Server responded with full file");const e=await i.getData();return this._fileSize=e.byteLength,[{data:e,offset:0,length:e.byteLength}]}}throw new Error("Error fetching data.")}async fetchSlice(e,t){const{offset:i,length:r}=e,s=await this.client.request({headers:{...this.headers,Range:`bytes=${i}-${i+r}`},signal:t});if(s.ok){if(206===s.status){const e=await s.getData(),{total:t}=st(s.getHeader("content-range"));return this._fileSize=t||null,{data:e,offset:i,length:r}}{if(!this.allowFullFile)throw new Error("Server responded with full file");const e=await s.getData();return this._fileSize=e.byteLength,{data:e,offset:0,length:e.byteLength}}}throw new Error("Error fetching data.")}get fileSize(){return this._fileSize}}function Pt(e,{blockSize:t,cacheSize:i}){return null===t?e:new pt(e,{blockSize:t,cacheSize:i})}function Ct(e,{headers:t={},credentials:i,maxRanges:r=0,allowFullFile:s=!1,...n}={}){const o=new bt(e,i),a=new Mt(o,t,r,s);return Pt(a,n)}function kt(e,{headers:t={},maxRanges:i=0,allowFullFile:r=!1,...s}={}){const n=new It(e),o=new Mt(n,t,i,r);return Pt(o,s)}function Ft(e,{headers:t={},maxRanges:i=0,allowFullFile:r=!1,...s}={}){const n=new Et(e),o=new Mt(n,t,i,r);return Pt(o,s)}function Gt(e,{forceXHR:t=!1,...i}={}){return"function"!==typeof fetch||t?"undefined"!==typeof XMLHttpRequest?kt(e,i):Ft(e,i):Ct(e,i)}class Rt extends ot{constructor(e){super(),this.file=e}async fetchSlice(e,t){return new Promise((i,r)=>{const s=this.file.slice(e.offset,e.offset+e.length),n=new FileReader;n.onload=e=>i(e.target.result),n.onerror=r,n.onabort=r,n.readAsArrayBuffer(s),t&&t.addEventListener("abort",()=>n.abort())})}}function Ot(e){return new Rt(e)}function Ut(e){switch(e){case r.s$.BYTE:case r.s$.ASCII:case r.s$.SBYTE:case r.s$.UNDEFINED:return 1;case r.s$.SHORT:case r.s$.SSHORT:return 2;case r.s$.LONG:case r.s$.SLONG:case r.s$.FLOAT:case r.s$.IFD:return 4;case r.s$.RATIONAL:case r.s$.SRATIONAL:case r.s$.DOUBLE:case r.s$.LONG8:case r.s$.SLONG8:case r.s$.IFD8:return 8;default:throw new RangeError(`Invalid field type: ${e}`)}}function vt(e){const t=e.GeoKeyDirectory;if(!t)return null;const i={};for(let s=4;s<=4*t[3];s+=4){const n=r.Hm[t[s]],o=t[s+1]?r.$[t[s+1]]:null,a=t[s+2],l=t[s+3];let h=null;if(o){if(h=e[o],"undefined"===typeof h||null===h)throw new Error(`Could not get value of geoKey '${n}'.`);"string"===typeof h?h=h.substring(l,l+a-1):h.subarray&&(h=h.subarray(l,l+a),1===a&&(h=h[0]))}else h=l;i[n]=h}return i}function Lt(e,t,i,s){let n=null,o=null;const a=Ut(t);switch(t){case r.s$.BYTE:case r.s$.ASCII:case r.s$.UNDEFINED:n=new Uint8Array(i),o=e.readUint8;break;case r.s$.SBYTE:n=new Int8Array(i),o=e.readInt8;break;case r.s$.SHORT:n=new Uint16Array(i),o=e.readUint16;break;case r.s$.SSHORT:n=new Int16Array(i),o=e.readInt16;break;case r.s$.LONG:case r.s$.IFD:n=new Uint32Array(i),o=e.readUint32;break;case r.s$.SLONG:n=new Int32Array(i),o=e.readInt32;break;case r.s$.LONG8:case r.s$.IFD8:n=new Array(i),o=e.readUint64;break;case r.s$.SLONG8:n=new Array(i),o=e.readInt64;break;case r.s$.RATIONAL:n=new Uint32Array(2*i),o=e.readUint32;break;case r.s$.SRATIONAL:n=new Int32Array(2*i),o=e.readInt32;break;case r.s$.FLOAT:n=new Float32Array(i),o=e.readFloat32;break;case r.s$.DOUBLE:n=new Float64Array(i),o=e.readFloat64;break;default:throw new RangeError(`Invalid field type: ${t}`)}if(t!==r.s$.RATIONAL&&t!==r.s$.SRATIONAL)for(let r=0;r<i;++r)n[r]=o.call(e,s+r*a);else for(let r=0;r<i;r+=2)n[r]=o.call(e,s+r*a),n[r+1]=o.call(e,s+(r*a+4));return t===r.s$.ASCII?new TextDecoder("utf-8").decode(n):n}class Bt{constructor(e,t,i){this.fileDirectory=e,this.geoKeyDirectory=t,this.nextIFDByteOffset=i}}class zt extends Error{constructor(e){super(`No image at index ${e}`),this.index=e}}class Nt{async readRasters(e={}){const{window:t,width:i,height:r}=e;let{resX:s,resY:n,bbox:o}=e;const a=await this.getImage();let l=a;const h=await this.getImageCount(),c=a.getBoundingBox();if(t&&o)throw new Error('Both "bbox" and "window" passed.');if(i||r){if(t){const[e,i]=a.getOrigin(),[r,s]=a.getResolution();o=[e+t[0]*r,i+t[1]*s,e+t[2]*r,i+t[3]*s]}const e=o||c;if(i){if(s)throw new Error("Both width and resX passed");s=(e[2]-e[0])/i}if(r){if(n)throw new Error("Both width and resY passed");n=(e[3]-e[1])/r}}if(s||n){const e=[];for(let t=0;t<h;++t){const i=await this.getImage(t),{SubfileType:r,NewSubfileType:s}=i.fileDirectory;(0===t||2===r||1&s)&&e.push(i)}e.sort((e,t)=>e.getWidth()-t.getWidth());for(let t=0;t<e.length;++t){const i=e[t],r=(c[2]-c[0])/i.getWidth(),o=(c[3]-c[1])/i.getHeight();if(l=i,s&&s>r||n&&n>o)break}}let f=t;if(o){const[e,t]=a.getOrigin(),[i,r]=l.getResolution(a);f=[Math.round((o[0]-e)/i),Math.round((o[1]-t)/r),Math.round((o[2]-e)/i),Math.round((o[3]-t)/r)],f=[Math.min(f[0],f[2]),Math.min(f[1],f[3]),Math.max(f[0],f[2]),Math.max(f[1],f[3])]}return l.readRasters({...e,window:f})}}class $t extends Nt{constructor(e,t,i,r,s={}){super(),this.source=e,this.littleEndian=t,this.bigTiff=i,this.firstIFDOffset=r,this.cache=s.cache||!1,this.ifdRequests=[],this.ghostValues=null}async getSlice(e,t){const i=this.bigTiff?4048:1024;return new Qe((await this.source.fetch([{offset:e,length:"undefined"!==typeof t?t:i}]))[0],e,this.littleEndian,this.bigTiff)}async parseFileDirectoryAt(e){const t=this.bigTiff?20:12,i=this.bigTiff?8:2;let s=await this.getSlice(e);const n=this.bigTiff?s.readUint64(e):s.readUint16(e),o=n*t+(this.bigTiff?16:6);s.covers(e,o)||(s=await this.getSlice(e,o));const a={};let l=e+(this.bigTiff?8:2);for(let f=0;f<n;l+=t,++f){const e=s.readUint16(l),t=s.readUint16(l+2),i=this.bigTiff?s.readUint64(l+4):s.readUint32(l+4);let n,o;const h=Ut(t),c=l+(this.bigTiff?12:8);if(h*i<=(this.bigTiff?8:4))n=Lt(s,t,i,c);else{const e=s.readOffset(c),r=Ut(t)*i;if(s.covers(e,r))n=Lt(s,t,i,e);else{const s=await this.getSlice(e,r);n=Lt(s,t,i,e)}}o=1===i&&-1===r.NZ.indexOf(e)&&t!==r.s$.RATIONAL&&t!==r.s$.SRATIONAL?n[0]:n,a[r.$[e]]=o}const h=vt(a),c=s.readOffset(e+i+t*n);return new Bt(a,h,c)}async requestIFD(e){if(this.ifdRequests[e])return this.ifdRequests[e];if(0===e)return this.ifdRequests[e]=this.parseFileDirectoryAt(this.firstIFDOffset),this.ifdRequests[e];if(!this.ifdRequests[e-1])try{this.ifdRequests[e-1]=this.requestIFD(e-1)}catch(t){if(t instanceof zt)throw new zt(e);throw t}return this.ifdRequests[e]=(async()=>{const t=await this.ifdRequests[e-1];if(0===t.nextIFDByteOffset)throw new zt(e);return this.parseFileDirectoryAt(t.nextIFDByteOffset)})(),this.ifdRequests[e]}async getImage(e=0){const t=await this.requestIFD(e);return new Ze(t.fileDirectory,t.geoKeyDirectory,this.dataView,this.littleEndian,this.cache,this.source)}async getImageCount(){let e=0,t=!0;while(t)try{await this.requestIFD(e),++e}catch(i){if(!(i instanceof zt))throw i;t=!1}return e}async getGhostValues(){const e=this.bigTiff?16:8;if(this.ghostValues)return this.ghostValues;const t="GDAL_STRUCTURAL_METADATA_SIZE=",i=t.length+100;let s=await this.getSlice(e,i);if(t===Lt(s,r.s$.ASCII,t.length,e)){const t=Lt(s,r.s$.ASCII,i,e),n=t.split("\n")[0],o=Number(n.split("=")[1].split(" ")[0])+n.length;o>i&&(s=await this.getSlice(e,o));const a=Lt(s,r.s$.ASCII,o,e);this.ghostValues={},a.split("\n").filter(e=>e.length>0).map(e=>e.split("=")).forEach(([e,t])=>{this.ghostValues[e]=t})}return this.ghostValues}static async fromSource(e,t,i){const r=(await e.fetch([{offset:0,length:1024}],i))[0],s=new Je(r),n=s.getUint16(0,0);let o;if(18761===n)o=!0;else{if(19789!==n)throw new TypeError("Invalid byte order value.");o=!1}const a=s.getUint16(2,o);let l;if(42===a)l=!1;else{if(43!==a)throw new TypeError("Invalid magic number.");{l=!0;const e=s.getUint16(4,o);if(8!==e)throw new Error("Unsupported offset byte-size.")}}const h=l?s.getUint64(8,o):s.getUint32(4,o);return new $t(e,o,l,h,t)}close(){return"function"===typeof this.source.close&&this.source.close()}}class Vt extends Nt{constructor(e,t){super(),this.mainFile=e,this.overviewFiles=t,this.imageFiles=[e].concat(t),this.fileDirectoriesPerFile=null,this.fileDirectoriesPerFileParsing=null,this.imageCount=null}async parseFileDirectoriesPerFile(){const e=[this.mainFile.parseFileDirectoryAt(this.mainFile.firstIFDOffset)].concat(this.overviewFiles.map(e=>e.parseFileDirectoryAt(e.firstIFDOffset)));return this.fileDirectoriesPerFile=await Promise.all(e),this.fileDirectoriesPerFile}async getImage(e=0){await this.getImageCount(),await this.parseFileDirectoriesPerFile();let t=0,i=0;for(let r=0;r<this.imageFiles.length;r++){const s=this.imageFiles[r];for(let n=0;n<this.imageCounts[r];n++){if(e===t){const e=await s.requestIFD(i);return new Ze(e.fileDirectory,e.geoKeyDirectory,s.dataView,s.littleEndian,s.cache,s.source)}t++,i++}i=0}throw new RangeError("Invalid image index")}async getImageCount(){if(null!==this.imageCount)return this.imageCount;const e=[this.mainFile.getImageCount()].concat(this.overviewFiles.map(e=>e.getImageCount()));return this.imageCounts=await Promise.all(e),this.imageCount=this.imageCounts.reduce((e,t)=>e+t,0),this.imageCount}}async function Kt(e,t={},i){return $t.fromSource(Gt(e,t),i)}async function jt(e,t){return $t.fromSource(Ot(e),t)}async function qt(e,t=[],i={},r){const s=await $t.fromSource(Gt(e,i),r),n=await Promise.all(t.map(e=>$t.fromSource(Gt(e,i))));return new Vt(s,n)}var Ht=i(54422),Wt=i(70915),Yt=i(61597),Xt=i(8100),Zt=i(38599),Jt=i(56758),Qt=i(9703),ei=i(22615);function ti(e){const t=e.fileDirectory,i=t.NewSubfileType||0;return 4===(4&i)}function ii(e,t){if(!e)return!1;if(!0===e)return!0;if(3!==t.getSamplesPerPixel())return!1;const i=t.fileDirectory.PhotometricInterpretation,s=r.ub;return i===s.CMYK||i===s.YCbCr||i===s.CIELab||i===s.ICCLab}const ri="STATISTICS_MAXIMUM",si="STATISTICS_MINIMUM",ni=256;let oi;function ai(){return oi||(oi=new h),oi}function li(e){try{return e.getBoundingBox(!0)}catch{return[0,0,e.getWidth(),e.getHeight()]}}function hi(e){try{return e.getOrigin().slice(0,2)}catch{return[0,e.getHeight()]}}function ci(e,t){try{return e.getResolution(t)}catch{return[t.getWidth()/e.getWidth(),t.getHeight()/e.getHeight()]}}function fi(e){const t=e.geoKeys;if(!t)return null;if(t.ProjectedCSTypeGeoKey&&32767!==t.ProjectedCSTypeGeoKey){const e="EPSG:"+t.ProjectedCSTypeGeoKey;let i=(0,Zt.Jt)(e);if(!i){const r=(0,Xt.q)(t.ProjLinearUnitsGeoKey);r&&(i=new Zt.MF({code:e,units:r}))}return i}if(t.GeographicTypeGeoKey&&32767!==t.GeographicTypeGeoKey){const e="EPSG:"+t.GeographicTypeGeoKey;let i=(0,Zt.Jt)(e);if(!i){const r=(0,Xt.q)(t.GeogAngularUnitsGeoKey);r&&(i=new Zt.MF({code:e,units:r}))}return i}return null}function ui(e){return e.getImageCount().then(function(t){const i=new Array(t);for(let r=0;r<t;++r)i[r]=e.getImage(r);return Promise.all(i)})}function gi(e,t){let i;return i=e.blob?jt(e.blob):e.overviews?qt(e.url,e.overviews,t):Kt(e.url,t),i.then(ui)}function di(e,t,i,r,s){if(Array.isArray(e)){const n=e.length;if(!Array.isArray(t)||n!=t.length){const e=new Error(r);throw s(e),e}for(let o=0;o<n;++o)di(e[o],t[o],i,r,s);return}if(Math.abs(e-t)>i*e)throw new Error(r)}function pi(e){return e instanceof Int8Array?-128:e instanceof Int16Array?-32768:e instanceof Int32Array?-2147483648:e instanceof Float32Array?12e-39:0}function yi(e){return e instanceof Int8Array?127:e instanceof Uint8Array||e instanceof Uint8ClampedArray?255:e instanceof Int16Array?32767:e instanceof Uint16Array?65535:e instanceof Int32Array?2147483647:e instanceof Uint32Array?4294967295:e instanceof Float32Array?34e37:255}class wi extends ei["default"]{constructor(e){super({state:"loading",tileGrid:null,projection:e.projection||null,transition:e.transition,interpolate:!1!==e.interpolate,wrapX:e.wrapX}),this.sourceInfo_=e.sources;const t=this.sourceInfo_.length;this.sourceOptions_=e.sourceOptions,this.sourceImagery_=new Array(t),this.sourceMasks_=new Array(t),this.resolutionFactors_=new Array(t),this.samplesPerPixel_,this.nodataValues_,this.metadata_,this.normalize_=!1!==e.normalize,this.addAlpha_=!1,this.error_=null,this.convertToRGB_=e.convertToRGB||!1,this.setKey(this.sourceInfo_.map(e=>e.url).join(","));const i=this,r=new Array(t);for(let s=0;s<t;++s)r[s]=gi(this.sourceInfo_[s],this.sourceOptions_);Promise.all(r).then(function(e){i.configure_(e)}).catch(function(e){(0,Ht.z3)(e),i.error_=e,i.setState("error")})}getError(){return this.error_}determineProjection(e){const t=e[0];for(let i=t.length-1;i>=0;--i){const e=t[i],r=fi(e);if(r){this.projection=r;break}}}determineTransformMatrix(e){const t=e[0];for(let i=t.length-1;i>=0;--i){const e=t[i],r=e.fileDirectory.ModelTransformation;if(r){const[e,t,i,s,n,o,a,l]=r,h=(0,Qt.lw)((0,Qt.lw)([1/Math.sqrt(e*e+n*n),0,0,-1/Math.sqrt(t*t+o*o),s,l],[e,n,t,o,0,0]),[1,0,0,1,-s,-l]);this.transformMatrix=h,this.addAlpha_=!0;break}}}configure_(e){let t,i,r,s,n;const o=new Array(e.length),a=new Array(e.length),l=new Array(e.length);let h=0;const c=e.length;for(let p=0;p<c;++p){const c=[],f=[];e[p].forEach(e=>{ti(e)?f.push(e):c.push(e)});const u=c.length;if(f.length>0&&f.length!==u)throw new Error(`Expected one mask per image found ${f.length} masks and ${u} images`);let g,d;const y=new Array(u),w=new Array(u),m=new Array(u);a[p]=new Array(u),l[p]=new Array(u);for(let e=0;e<u;++e){const t=c[e],i=t.getGDALNoData();l[p][e]=t.getGDALMetadata(0),a[p][e]=i;const r=this.sourceInfo_[p].bands;o[p]=r?r.length:t.getSamplesPerPixel();const s=u-(e+1);g||(g=li(t)),d||(d=hi(t));const n=ci(t,c[0]);m[s]=n[0];const h=[t.getTileWidth(),t.getTileHeight()];h[0]!==h[1]&&h[1]<ni&&(h[0]=ni,h[1]=ni),y[s]=h;const f=n[0]/Math.abs(n[1]);w[s]=[h[0],h[1]/f]}if(t?(0,Wt._N)(t,g,t):t=g,i){const e=`Origin mismatch for source ${p}, got [${d}] but expected [${i}]`;di(i,d,0,e,this.viewRejector)}else i=d;if(n){n.length-h>m.length&&(h=n.length-m.length);const e=n[n.length-1]/m[m.length-1];this.resolutionFactors_[p]=e;const t=m.map(t=>t*e),i=`Resolution mismatch for source ${p}, got [${t}] but expected [${n}]`;di(n.slice(h,n.length),t,.02,i,this.viewRejector)}else n=m,this.resolutionFactors_[p]=1;r?di(r.slice(h,r.length),w,.01,`Tile size mismatch for source ${p}`,this.viewRejector):r=w,s?di(s.slice(h,s.length),y,0,`Tile size mismatch for source ${p}`,this.viewRejector):s=y,this.sourceImagery_[p]=c.reverse(),this.sourceMasks_[p]=f.reverse()}for(let p=0,y=this.sourceImagery_.length;p<y;++p){const e=this.sourceImagery_[p];while(e.length<n.length)e.unshift(void 0)}this.getProjection()||this.determineProjection(e),this.determineTransformMatrix(e),this.samplesPerPixel_=o,this.nodataValues_=a,this.metadata_=l;e:for(let p=0;p<c;++p){if(void 0!==this.sourceInfo_[p].nodata){this.addAlpha_=!0;break}if(this.sourceMasks_[p].length){this.addAlpha_=!0;break}const e=a[p],t=this.sourceInfo_[p].bands;if(t){for(let i=0;i<t.length;++i)if(null!==e[t[i]-1]){this.addAlpha_=!0;break e}}else for(let i=0;i<e.length;++i)if(null!==e[i]){this.addAlpha_=!0;break e}}let f=this.addAlpha_?1:0;for(let p=0;p<c;++p)f+=o[p];this.bandCount=f;const u=new Jt.A({extent:t,minZoom:h,origin:i,resolutions:n,tileSizes:r});this.tileGrid=u,this.setTileSizes(s),this.setLoader(this.loadTile_.bind(this)),this.setState("ready");const g=1;2===n.length?n=[n[0],n[1],n[1]/2]:1===n.length&&(n=[2*n[0],n[0],n[0]/2]);let d=t;if(this.transformMatrix){const e=(0,Qt.T9)((0,Qt.vt)(),this.transformMatrix.slice()),i=(0,Zt.HU)(t=>(0,Qt.Bb)(e,t));d=(0,Wt.NW)(t,i)}this.viewResolver({showFullExtent:!0,projection:this.projection,resolutions:n,center:(0,Zt.te)((0,Wt.q1)(d),this.projection),extent:(0,Zt.JR)(d,this.projection),zoom:g})}loadTile_(e,t,i,r){const s=this.getTileSize(e),n=this.sourceImagery_.length,o=new Array(2*n),a=this.nodataValues_,l=this.sourceInfo_,h=ai();for(let c=0;c<n;++c){const f=l[c],u=this.resolutionFactors_[c],g=[Math.round(t*(s[0]*u)),Math.round(i*(s[1]*u)),Math.round((t+1)*(s[0]*u)),Math.round((i+1)*(s[1]*u))],d=this.sourceImagery_[c][e];let p,y;f.bands&&(p=f.bands.map(function(e){return e-1})),y="nodata"in f&&null!==f.nodata?f.nodata:p?p.map(function(e){return a[c][e]}):a[c];const w={window:g,width:s[0],height:s[1],samples:p,fillValue:y,pool:h,interleave:!1,signal:r.signal};ii(this.convertToRGB_,d)?o[c]=d.readRGB(w):o[c]=d.readRasters(w);const m=n+c,b=this.sourceMasks_[c][e];b?o[m]=b.readRasters({window:g,width:s[0],height:s[1],samples:[0],pool:h,interleave:!1}):o[m]=Promise.resolve(null)}return Promise.all(o).then(this.composeTile_.bind(this,s)).catch(function(e){throw(0,Ht.z3)(e),e})}composeTile_(e,t){const i=this.metadata_,r=this.sourceInfo_,s=this.sourceImagery_.length,n=this.bandCount,o=this.samplesPerPixel_,a=this.nodataValues_,l=this.normalize_,h=this.addAlpha_,c=e[0]*e[1],f=c*n;let u;u=l?new Uint8Array(f):new Float32Array(f);let g=0;for(let d=0;d<c;++d){let e=h;for(let n=0;n<s;++n){const c=r[n];let f,p,y=c.min,w=c.max;if(l){const e=i[n][0];void 0===y&&(y=e&&si in e?parseFloat(e[si]):pi(t[n][0])),void 0===w&&(w=e&&ri in e?parseFloat(e[ri]):yi(t[n][0])),f=255/(w-y),p=-y*f}for(let i=0;i<o[n];++i){const r=t[n][i][d];let s;if(s=l?(0,Yt.qE)(f*r+p,0,255):r,h){let t=c.nodata;if(void 0===t){let e;e=c.bands?c.bands[i]-1:i,t=a[n][e]}const o=isNaN(t);(!o&&r!==t||o&&!isNaN(r))&&(e=!1,u[g]=s)}else u[g]=s;g++}if(!e){const i=s+n,r=t[i];r&&!r[0][d]&&(e=!0)}}h&&(e||(u[g]=255),g++)}return u}}wi.prototype.getView;var mi=wi},6580:function(){},26675:function(e){function t(e,t){const i=new RegExp(t,"g"),r=e.match(i);return r?r.length:0}e.exports=t,e.exports["default"]=t},27379:function(e){function t(e,t,i){const r=i&&i.debug||!1;r&&console.log("[xml-utils] getting "+t+" in "+e);const s="object"===typeof e?e.outer:e,n=s.slice(0,s.indexOf(">")+1),o=['"',"'"];for(let a=0;a<o.length;a++){const e=o[a],i=t+"\\="+e+"([^"+e+"]*)"+e;r&&console.log("[xml-utils] pattern:",i);const s=new RegExp(i),l=s.exec(n);if(r&&console.log("[xml-utils] match:",l),l)return l[1]}}e.exports=t,e.exports["default"]=t},28625:function(){},43614:function(e){function t(e,t,i){const r=new RegExp(t),s=r.exec(e.slice(i));return s?i+s.index:-1}e.exports=t,e.exports["default"]=t},48694:function(e){function t(e,t,i){const r=new RegExp(t),s=r.exec(e.slice(i));return s?i+s.index+s[0].length-1:-1}e.exports=t,e.exports["default"]=t},56504:function(){},58556:function(e,t,i){const r=i(43614),s=i(48694),n=i(26675);function o(e,t,i){const o=i&&i.debug||!1,a=!(i&&!1===typeof i.nested),l=i&&i.startIndex||0;o&&console.log("[xml-utils] starting findTagByName with",t," and ",i);const h=r(e,`<${t}[ \n>/]`,l);if(o&&console.log("[xml-utils] start:",h),-1===h)return;const c=e.slice(h+t.length);let f=s(c,"^[^<]*[ /]>",0);const u=-1!==f&&"/"===c[f-1];if(o&&console.log("[xml-utils] selfClosing:",u),!1===u)if(a){let e=0,i=1,r=0;while(-1!==(f=s(c,"[ /]"+t+">",e))){const s=c.substring(e,f+1);if(i+=n(s,"<"+t+"[ \n\t>]"),r+=n(s,"</"+t+">"),r>=i)break;e=f}}else f=s(c,"[ /]"+t+">",0);const g=h+t.length+f+1;if(o&&console.log("[xml-utils] end:",g),-1===g)return;const d=e.slice(h,g);let p;return p=u?null:d.slice(d.indexOf(">")+1,d.lastIndexOf("<")),{inner:p,outer:d,start:h,end:g}}e.exports=o,e.exports["default"]=o},60563:function(e,t,i){const r=i(58556);function s(e,t,i){const s=[],n=i&&i.debug||!1,o=!i||"boolean"!==typeof i.nested||i.nested;let a,l=i&&i.startIndex||0;while(a=r(e,t,{debug:n,startIndex:l}))l=o?a.start+1+t.length:a.end,s.push(a);return n&&console.log("findTagsByName found",s.length,"tags"),s}e.exports=s,e.exports["default"]=s},98622:function(e,t,i){"use strict";i.d(t,{$:function(){return r},AC:function(){return h},Hm:function(){return u},NZ:function(){return n},S3:function(){return f},TZ:function(){return c},s$:function(){return a},ub:function(){return l}});const r={315:"Artist",258:"BitsPerSample",265:"CellLength",264:"CellWidth",320:"ColorMap",259:"Compression",33432:"Copyright",306:"DateTime",338:"ExtraSamples",266:"FillOrder",289:"FreeByteCounts",288:"FreeOffsets",291:"GrayResponseCurve",290:"GrayResponseUnit",316:"HostComputer",270:"ImageDescription",257:"ImageLength",256:"ImageWidth",271:"Make",281:"MaxSampleValue",280:"MinSampleValue",272:"Model",254:"NewSubfileType",274:"Orientation",262:"PhotometricInterpretation",284:"PlanarConfiguration",296:"ResolutionUnit",278:"RowsPerStrip",277:"SamplesPerPixel",305:"Software",279:"StripByteCounts",273:"StripOffsets",255:"SubfileType",263:"Threshholding",282:"XResolution",283:"YResolution",326:"BadFaxLines",327:"CleanFaxData",343:"ClipPath",328:"ConsecutiveBadFaxLines",433:"Decode",434:"DefaultImageColor",269:"DocumentName",336:"DotRange",321:"HalftoneHints",346:"Indexed",347:"JPEGTables",285:"PageName",297:"PageNumber",317:"Predictor",319:"PrimaryChromaticities",532:"ReferenceBlackWhite",339:"SampleFormat",340:"SMinSampleValue",341:"SMaxSampleValue",559:"StripRowCounts",330:"SubIFDs",292:"T4Options",293:"T6Options",325:"TileByteCounts",323:"TileLength",324:"TileOffsets",322:"TileWidth",301:"TransferFunction",318:"WhitePoint",344:"XClipPathUnits",286:"XPosition",529:"YCbCrCoefficients",531:"YCbCrPositioning",530:"YCbCrSubSampling",345:"YClipPathUnits",287:"YPosition",37378:"ApertureValue",40961:"ColorSpace",36868:"DateTimeDigitized",36867:"DateTimeOriginal",34665:"Exif IFD",36864:"ExifVersion",33434:"ExposureTime",41728:"FileSource",37385:"Flash",40960:"FlashpixVersion",33437:"FNumber",42016:"ImageUniqueID",37384:"LightSource",37500:"MakerNote",37377:"ShutterSpeedValue",37510:"UserComment",33723:"IPTC",34675:"ICC Profile",700:"XMP",42112:"GDAL_METADATA",42113:"GDAL_NODATA",34377:"Photoshop",33550:"ModelPixelScale",33922:"ModelTiepoint",34264:"ModelTransformation",34735:"GeoKeyDirectory",34736:"GeoDoubleParams",34737:"GeoAsciiParams",50674:"LercParameters"},s={};for(const d in r)r.hasOwnProperty(d)&&(s[r[d]]=parseInt(d,10));const n=[s.BitsPerSample,s.ExtraSamples,s.SampleFormat,s.StripByteCounts,s.StripOffsets,s.StripRowCounts,s.TileByteCounts,s.TileOffsets,s.SubIFDs],o={1:"BYTE",2:"ASCII",3:"SHORT",4:"LONG",5:"RATIONAL",6:"SBYTE",7:"UNDEFINED",8:"SSHORT",9:"SLONG",10:"SRATIONAL",11:"FLOAT",12:"DOUBLE",13:"IFD",16:"LONG8",17:"SLONG8",18:"IFD8"},a={};for(const d in o)o.hasOwnProperty(d)&&(a[o[d]]=parseInt(d,10));const l={WhiteIsZero:0,BlackIsZero:1,RGB:2,Palette:3,TransparencyMask:4,CMYK:5,YCbCr:6,CIELab:8,ICCLab:9},h={Unspecified:0,Assocalpha:1,Unassalpha:2},c={Version:0,AddCompression:1},f={None:0,Deflate:1,Zstandard:2},u={1024:"GTModelTypeGeoKey",1025:"GTRasterTypeGeoKey",1026:"GTCitationGeoKey",2048:"GeographicTypeGeoKey",2049:"GeogCitationGeoKey",2050:"GeogGeodeticDatumGeoKey",2051:"GeogPrimeMeridianGeoKey",2052:"GeogLinearUnitsGeoKey",2053:"GeogLinearUnitSizeGeoKey",2054:"GeogAngularUnitsGeoKey",2055:"GeogAngularUnitSizeGeoKey",2056:"GeogEllipsoidGeoKey",2057:"GeogSemiMajorAxisGeoKey",2058:"GeogSemiMinorAxisGeoKey",2059:"GeogInvFlatteningGeoKey",2060:"GeogAzimuthUnitsGeoKey",2061:"GeogPrimeMeridianLongGeoKey",2062:"GeogTOWGS84GeoKey",3072:"ProjectedCSTypeGeoKey",3073:"PCSCitationGeoKey",3074:"ProjectionGeoKey",3075:"ProjCoordTransGeoKey",3076:"ProjLinearUnitsGeoKey",3077:"ProjLinearUnitSizeGeoKey",3078:"ProjStdParallel1GeoKey",3079:"ProjStdParallel2GeoKey",3080:"ProjNatOriginLongGeoKey",3081:"ProjNatOriginLatGeoKey",3082:"ProjFalseEastingGeoKey",3083:"ProjFalseNorthingGeoKey",3084:"ProjFalseOriginLongGeoKey",3085:"ProjFalseOriginLatGeoKey",3086:"ProjFalseOriginEastingGeoKey",3087:"ProjFalseOriginNorthingGeoKey",3088:"ProjCenterLongGeoKey",3089:"ProjCenterLatGeoKey",3090:"ProjCenterEastingGeoKey",3091:"ProjCenterNorthingGeoKey",3092:"ProjScaleAtNatOriginGeoKey",3093:"ProjScaleAtCenterGeoKey",3094:"ProjAzimuthAngleGeoKey",3095:"ProjStraightVertPoleLongGeoKey",3096:"ProjRectifiedGridAngleGeoKey",4096:"VerticalCSTypeGeoKey",4097:"VerticalCitationGeoKey",4098:"VerticalDatumGeoKey",4099:"VerticalUnitsGeoKey"},g={};for(const d in u)u.hasOwnProperty(d)&&(g[u[d]]=parseInt(d,10))}}]);
//# sourceMappingURL=5255.e5c2b5a3.js.map