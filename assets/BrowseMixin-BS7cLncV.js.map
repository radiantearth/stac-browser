{"version":3,"file":"BrowseMixin-BS7cLncV.js","sources":["../../src/views/BrowseMixin.js"],"sourcesContent":["import ErrorAlert from '../components/ErrorAlert.vue';\nimport Loading from '../components/Loading.vue';\nimport { getErrorCode, getErrorMessage } from '../store/utils';\nimport URI from 'urijs';\nimport { defineComponent } from 'vue';\nimport { mapState, mapGetters } from 'vuex';\n\nexport default defineComponent({\n  components: {\n    ErrorAlert,\n    Loading\n  },\n  props: {\n    path: {\n      type: String,\n      required: true\n    }\n  },\n  computed: {\n    ...mapState([\"allowExternalAccess\", \"catalogUrl\", \"loading\", \"url\"]),\n    ...mapGetters([\"fromBrowserPath\", \"error\"]),\n    errorId() {\n      return getErrorCode(this.error);\n    },\n    errorDescription() {\n      return getErrorMessage(this.error);\n    },\n    isExternal() {\n      return URI(this.path).is(\"absolute\");\n    }\n  },\n  watch: {\n    path: {\n      immediate: true,\n      async handler(path, oldPath) {\n        if (path === oldPath) {\n          return;\n        }\n        else if (!this.allowExternalAccess && this.isExternal) {\n          return;\n        }\n\n        let url = this.fromBrowserPath(path || '/');\n        this.$store.dispatch(\"load\", { url, show: true });\n      }\n    }\n  }\n});\n"],"names":["BrowseMixin","defineComponent","ErrorAlert","Loading","mapState","mapGetters","getErrorCode","getErrorMessage","URI","path","oldPath","url"],"mappings":"kKAOA,MAAAA,EAAeC,EAAgB,CAC7B,WAAY,CACV,WAAAC,EACA,QAAAC,CACJ,EACE,MAAO,CACL,KAAM,CACJ,KAAM,OACN,SAAU,EAChB,CACA,EACE,SAAU,CACR,GAAGC,EAAS,CAAC,sBAAuB,aAAc,UAAW,KAAK,CAAC,EACnE,GAAGC,EAAW,CAAC,kBAAmB,OAAO,CAAC,EAC1C,SAAU,CACR,OAAOC,EAAa,KAAK,KAAK,CAChC,EACA,kBAAmB,CACjB,OAAOC,EAAgB,KAAK,KAAK,CACnC,EACA,YAAa,CACX,OAAOC,EAAI,KAAK,IAAI,EAAE,GAAG,UAAU,CACrC,CACJ,EACE,MAAO,CACL,KAAM,CACJ,UAAW,GACX,MAAM,QAAQC,EAAMC,EAAS,CAC3B,GAAID,IAASC,EACX,OAEG,GAAI,CAAC,KAAK,qBAAuB,KAAK,WACzC,OAGF,IAAIC,EAAM,KAAK,gBAAgBF,GAAQ,GAAG,EAC1C,KAAK,OAAO,SAAS,OAAQ,CAAE,IAAAE,EAAK,KAAM,GAAM,CAClD,CACN,CACA,CACA,CAAC"}