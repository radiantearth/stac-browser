{"version":3,"file":"helper-DO3U350M.js","sources":["../../node_modules/@radiantearth/stac-fields/helper.js"],"sourcesContent":["const I18N = require('./I18N');\n\nconst _ = {\n\n\te(str) {\n\t\tif (typeof str !== 'string') {\n\t\t\tstr = String(str);\n\t\t}\n\t\treturn str.replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\").replace(/\"/g, \"&quot;\").replace(/'/g, '&apos;');\n\t},\n\n\tt(value, vars = null) {\n\t\tif (typeof I18N.translate === 'function') {\n\t\t\treturn I18N.translate(value, vars);\n\t\t}\n\t\telse {\n\t\t\treturn I18N.format(value, vars);\n\t\t}\n\t},\n\t\n\ttoNothing(label = null) {\n\t\tif (label === null) {\n\t\t\tlabel = _.t('n/a');\n\t\t}\n\t\treturn `<i class=\"null\">${label}</i>`;\n\t},\n\n\ttoList(list, sort = false, formatter = null, ordered = null) {\n\t\tlet tag = ordered === true ? 'ol' : 'ul';\n\t\tif (!Array.isArray(list)) {\n\t\t\tlist = [list];\n\t\t}\n\t\tif (sort) {\n\t\t\tlist = list.slice(0);\n\t\t\tif (typeof sort === 'function') {\n\t\t\t\tlist.sort(sort);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tlist.sort();\n\t\t\t}\n\t\t\tif (ordered === null) {\n\t\t\t\ttag = 'ol';\n\t\t\t}\n\t\t}\n\t\tif (typeof formatter === 'function') {\n\t\t\tlist = list.map(formatter);\n\t\t}\n\t\tif (list.length === 0) {\n\t\t\treturn _.toNothing();\n\t\t}\n\t\telse if (list.length === 1) {\n\t\t\treturn list[0];\n\t\t}\n\t\telse {\n\t\t\treturn `<${tag}><li>${list.join(\"</li><li>\")}</li></${tag}>`;\n\t\t}\n\t},\n\n\ttoLink(url, title = \"\", rel = \"\", target = \"_blank\") {\n\t\tif (!title) {\n\t\t\tif (url.length > 50) {\n\t\t\t\ttitle = url.replace(/^\\w+:\\/\\/([^\\/]+)((\\/[^\\/\\?]+)*\\/([^\\/\\?]+)(\\?.*)?)?$/i, function(...x) {\n\t\t\t\t\tif (x[4]) {\n\t\t\t\t\t\treturn x[1] + '​/[…]/​' + x[4]; // There are invisible zero-width whitespaces after and before the slashes. It allows breaking the link in the browser. Be careful when editing.\n\t\t\t\t\t}\n\t\t\t\t\treturn x[1];\n\t\t\t\t});\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttitle = url.replace(/^\\w+:\\/\\//i, '');\n\t\t\t}\n\t\t}\n\t\treturn `<a href=\"${_.e(url)}\" rel=\"${_.e(rel)}\" target=\"${_.e(target)}\">${_.e(title)}</a>`;\n\t},\n\n\ttoObject(obj, formatter = null, keyFormatter = null, keyOrder = [], filter = null, path = []) {\n\t\tlet html = '<dl>';\n\t\tlet keys = Array.isArray(keyOrder) && keyOrder.length >= 2 ? keyOrder : Object.keys(obj);\n\t\tfor(let key of keys) {\n\t\t\tif (!(key in obj) || (typeof filter === 'function' && path.length > 0 && !filter(path[0], path.concat([key]))) ) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tlet label;\n\t\t\tif (typeof keyFormatter === 'function') {\n\t\t\t\tlabel = keyFormatter(key, obj);\n\t\t\t}\n\t\t\telse {\n\t\t\t\tlabel = _.formatKey(key, true);\n\t\t\t}\n\t\t\tlet value = obj[key];\n\t\t\tif (typeof formatter === 'function') {\n\t\t\t\tvalue = formatter(value, key, obj);\n\t\t\t}\n\t\t\thtml += `<dt>${label}</dt><dd>${value}</dd>`;\n\t\t}\n\t\thtml += `</dl>`;\n\t\treturn html;\n\t},\n\n\tabbrev(short, long) {\n\t\treturn `<abbr title=\"${_.e(long)}\">${_.e(short)}</abbr>`;\n\t},\n\n\tisObject(obj) {\n\t\treturn (typeof obj === 'object' && obj === Object(obj) && !Array.isArray(obj));\n\t},\n\n\tformatKey(key, prefix = false) {\n\t\tif (key.includes('/')) {\n\t\t\t// Slashes are strong indicators for URIs or media types, don't format\n\t\t\treturn _.e(_.t(key));\n\t\t}\n\t\tif (prefix === false) {\n\t\t\tkey = key.replace(/^[\\w-]+:/i, '');\n\t\t}\n\t\tlet formatted = key.split(/[:_\\-\\s]/g).map(part => part.substr(0, 1).toUpperCase() + part.substr(1)).join(' ');\n\t\treturn _.e(_.t(formatted));\n\t},\n\n\thexToUint8(hexString) {\n\t\tif(hexString.length === 0 || hexString.length % 2 !== 0){\n\t\t\tthrow new Error(`The string \"${hexString}\" is not valid hex.`);\n\t\t}\n\t\treturn new Uint8Array(hexString.match(/.{1,2}/g).map(byte => parseInt(byte, 16)));\n\t},\n\n\tuint8ToHex(bytes) {\n\t\treturn bytes.reduce((str, byte) => str + byte.toString(16).padStart(2, '0'), '');\n\t},\n\n\tkeysFromListOfObjects(objectList) {\n\t\treturn objectList.reduce(\n\t\t\t(arr, o) => Object.keys(o).reduce(\n\t\t\t\t(a, k) => {\n\t\t\t\t\tif (a.indexOf(k) == -1) {\n\t\t\t\t\t\ta.push(k);\n\t\t\t\t\t}\n\t\t\t\t\treturn a;\n\t\t\t\t},\n\t\t\t\tarr\n\t\t\t),\n\t\t\t[]\n\t\t);\n\t},\n\n\tunit(value, unit = '') {\n\t\tif (typeof unit === 'string' && unit.length > 0) {\n\t\t\tunit = _.t(unit);\n\t\t\treturn `${value}&nbsp;<span class=\"unit\">${unit}</unit>`;\n\t\t}\n\t\treturn value;\n\t}\n\n};\n\nmodule.exports = _;"],"names":["I18N","require$$0","_","str","value","vars","label","list","sort","formatter","ordered","tag","url","title","rel","target","x","obj","keyFormatter","keyOrder","filter","path","html","keys","key","short","long","prefix","formatted","part","hexString","byte","bytes","objectList","arr","o","a","k","unit","helper"],"mappings":"8EAAA,MAAMA,EAAOC,EAAA,EAEPC,EAAI,CAET,EAAEC,EAAK,CACN,OAAI,OAAOA,GAAQ,WAClBA,EAAM,OAAOA,CAAG,GAEVA,EAAI,QAAQ,KAAM,MAAM,EAAE,QAAQ,KAAM,MAAM,EAAE,QAAQ,KAAM,QAAQ,EAAE,QAAQ,KAAM,QAAQ,CACvG,EAEC,EAAEC,EAAOC,EAAO,KAAM,CACrB,OAAI,OAAOL,EAAK,WAAc,WACtBA,EAAK,UAAUI,EAAOC,CAAI,EAG1BL,EAAK,OAAOI,EAAOC,CAAI,CAEjC,EAEC,UAAUC,EAAQ,KAAM,CACvB,OAAIA,IAAU,OACbA,EAAQJ,EAAE,EAAE,KAAK,GAEX,mBAAmBI,CAAK,MACjC,EAEC,OAAOC,EAAMC,EAAO,GAAOC,EAAY,KAAMC,EAAU,KAAM,CAC5D,IAAIC,EAAMD,IAAY,GAAO,KAAO,KAmBpC,OAlBK,MAAM,QAAQH,CAAI,IACtBA,EAAO,CAACA,CAAI,GAETC,IACHD,EAAOA,EAAK,MAAM,CAAC,EACf,OAAOC,GAAS,WACnBD,EAAK,KAAKC,CAAI,EAGdD,EAAK,KAAI,EAENG,IAAY,OACfC,EAAM,OAGJ,OAAOF,GAAc,aACxBF,EAAOA,EAAK,IAAIE,CAAS,GAEtBF,EAAK,SAAW,EACZL,EAAE,UAAS,EAEVK,EAAK,SAAW,EACjBA,EAAK,CAAC,EAGN,IAAII,CAAG,QAAQJ,EAAK,KAAK,WAAW,CAAC,UAAUI,CAAG,GAE5D,EAEC,OAAOC,EAAKC,EAAQ,GAAIC,EAAM,GAAIC,EAAS,SAAU,CACpD,OAAKF,IACAD,EAAI,OAAS,GAChBC,EAAQD,EAAI,QAAQ,yDAA0D,YAAYI,EAAG,CAC5F,OAAIA,EAAE,CAAC,EACCA,EAAE,CAAC,EAAI,UAAYA,EAAE,CAAC,EAEvBA,EAAE,CAAC,CACf,CAAK,EAGDH,EAAQD,EAAI,QAAQ,aAAc,EAAE,GAG/B,YAAYV,EAAE,EAAEU,CAAG,CAAC,UAAUV,EAAE,EAAEY,CAAG,CAAC,aAAaZ,EAAE,EAAEa,CAAM,CAAC,KAAKb,EAAE,EAAEW,CAAK,CAAC,MACtF,EAEC,SAASI,EAAKR,EAAY,KAAMS,EAAe,KAAMC,EAAW,CAAA,EAAIC,EAAS,KAAMC,EAAO,CAAA,EAAI,CAC7F,IAAIC,EAAO,OACPC,EAAO,MAAM,QAAQJ,CAAQ,GAAKA,EAAS,QAAU,EAAIA,EAAW,OAAO,KAAKF,CAAG,EACvF,QAAQO,KAAOD,EAAM,CACpB,GAAI,EAAEC,KAAOP,IAAS,OAAOG,GAAW,YAAcC,EAAK,OAAS,GAAK,CAACD,EAAOC,EAAK,CAAC,EAAGA,EAAK,OAAO,CAACG,CAAG,CAAC,CAAC,EAC3G,SAED,IAAIlB,EACA,OAAOY,GAAiB,WAC3BZ,EAAQY,EAAaM,EAAKP,CAAG,EAG7BX,EAAQJ,EAAE,UAAUsB,EAAK,EAAI,EAE9B,IAAIpB,EAAQa,EAAIO,CAAG,EACf,OAAOf,GAAc,aACxBL,EAAQK,EAAUL,EAAOoB,EAAKP,CAAG,GAElCK,GAAQ,OAAOhB,CAAK,YAAYF,CAAK,OACxC,CACE,OAAAkB,GAAQ,QACDA,CACT,EAEC,OAAOG,EAAOC,EAAM,CACnB,MAAO,gBAAgBxB,EAAE,EAAEwB,CAAI,CAAC,KAAKxB,EAAE,EAAEuB,CAAK,CAAC,SACjD,EAEC,SAASR,EAAK,CACb,OAAQ,OAAOA,GAAQ,UAAYA,IAAQ,OAAOA,CAAG,GAAK,CAAC,MAAM,QAAQA,CAAG,CAC9E,EAEC,UAAUO,EAAKG,EAAS,GAAO,CAC9B,GAAIH,EAAI,SAAS,GAAG,EAEnB,OAAOtB,EAAE,EAAEA,EAAE,EAAEsB,CAAG,CAAC,EAEhBG,IAAW,KACdH,EAAMA,EAAI,QAAQ,YAAa,EAAE,GAElC,IAAII,EAAYJ,EAAI,MAAM,WAAW,EAAE,IAAIK,GAAQA,EAAK,OAAO,EAAG,CAAC,EAAE,YAAW,EAAKA,EAAK,OAAO,CAAC,CAAC,EAAE,KAAK,GAAG,EAC7G,OAAO3B,EAAE,EAAEA,EAAE,EAAE0B,CAAS,CAAC,CAC3B,EAEC,WAAWE,EAAW,CACrB,GAAGA,EAAU,SAAW,GAAKA,EAAU,OAAS,IAAM,EACrD,MAAM,IAAI,MAAM,eAAeA,CAAS,qBAAqB,EAE9D,OAAO,IAAI,WAAWA,EAAU,MAAM,SAAS,EAAE,IAAIC,GAAQ,SAASA,EAAM,EAAE,CAAC,CAAC,CAClF,EAEC,WAAWC,EAAO,CACjB,OAAOA,EAAM,OAAO,CAAC7B,EAAK4B,IAAS5B,EAAM4B,EAAK,SAAS,EAAE,EAAE,SAAS,EAAG,GAAG,EAAG,EAAE,CACjF,EAEC,sBAAsBE,EAAY,CACjC,OAAOA,EAAW,OACjB,CAACC,EAAKC,IAAM,OAAO,KAAKA,CAAC,EAAE,OAC1B,CAACC,EAAGC,KACCD,EAAE,QAAQC,CAAC,GAAK,IACnBD,EAAE,KAAKC,CAAC,EAEFD,GAERF,GAED,CAAA,EAEH,EAEC,KAAK9B,EAAOkC,EAAO,GAAI,CACtB,OAAI,OAAOA,GAAS,UAAYA,EAAK,OAAS,GAC7CA,EAAOpC,EAAE,EAAEoC,CAAI,EACR,GAAGlC,CAAK,4BAA4BkC,CAAI,WAEzClC,CACT,GAIA,OAAAmC,EAAiBrC","x_google_ignoreList":[0]}