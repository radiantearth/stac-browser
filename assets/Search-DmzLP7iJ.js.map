{"version":3,"mappings":"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","names":["_sfc_main","defineComponent","defineAsyncComponent","__vitePreload","n","BTabs","BTab","ErrorAlert","Loading","SearchFilter","mapState","mapGetters","Utils","CollectionCollection","ItemCollection","list","type","obj","selfLink","url","stac","createSTAC","processSTAC","error","STAC","title","getDisplayTitle","collection","data","link","key","response","stacRequest","getErrorMessage","getErrorCode","filters","reset","_hoisted_1","_hoisted_3","_openBlock","_createElementBlock","_ctx","_createBlock","_component_b_row","_createVNode","_component_b_col","_component_b_tabs","$event","_component_b_tab","_component_SearchFilter","_component_Loading","_component_ErrorAlert","_component_b_alert","_Fragment","_hoisted_2","_component_MapView","_component_Catalogs","_withCtx","slot","_component_b_button_group","_component_b_button","_component_b_icon_check_square","_component_b_icon_square","_createElementVNode","_toDisplayString","_component_StacLink","_component_Items"],"ignoreList":[],"sources":["../../src/views/Search.vue"],"sourcesContent":["<template>\n  <main class=\"search d-flex flex-column\">\n    <Loading v-if=\"!parent\" stretch />\n    <ErrorAlert v-else-if=\"!searchLink\" :description=\"$t('search.notSupported')\" />\n    <b-row v-else>\n      <b-col class=\"left\">\n        <b-tabs v-model=\"activeSearch\">\n          <b-tab v-if=\"collectionSearch\" :title=\"$t('search.tabs.collections')\" id=\"search-collections-tab\">\n            <SearchFilter\n              :parent=\"parent\" title=\"\" :value=\"collectionFilters\" type=\"Collections\"\n              @input=\"setFilters\"\n            />\n          </b-tab>\n          <b-tab v-if=\"itemSearch\" :title=\"$t('search.tabs.items')\" id=\"search-items-tab\">\n            <SearchFilter\n              :parent=\"parent\" title=\"\" :value=\"itemFilters\" type=\"Global\"\n              @input=\"setFilters\"\n            />\n          </b-tab>\n        </b-tabs>\n      </b-col>\n      <b-col class=\"right\">\n        <Loading v-if=\"loading\" fill top />\n        <ErrorAlert v-else-if=\"error\" :description=\"error\" :id=\"errorId\" />\n        <b-alert v-else-if=\"data === null\" variant=\"info\" show>{{ $t('search.modifyCriteria') }}</b-alert>\n        <b-alert v-else-if=\"results.length === 0 && noFurtherItems\" variant=\"info\" show>{{ $t('search.noFurtherItemsFound') }}</b-alert>\n        <b-alert v-else-if=\"results.length === 0\" variant=\"warning\" show>{{ $t('search.noItemsFound') }}</b-alert>\n        <template v-else>\n          <div id=\"search-map\" v-if=\"resultCollection\">\n            <MapView :stac=\"parent\" :children=\"resultCollection\" onfocusOnly popover />\n          </div>\n          <Catalogs\n            v-if=\"isCollectionSearch\" :catalogs=\"results\" collectionsOnly\n            :pagination=\"pagination\" :loading=\"loading\" @paginate=\"loadResults\"\n            :count=\"totalCount\" :apiFilters=\"collectionFilters\"\n          >\n            <template #catalogFooter=\"slot\">\n              <b-button-group v-if=\"itemSearch || canFilterItems(slot.data)\" vertical size=\"sm\">\n                <b-button v-if=\"itemSearch\" variant=\"outline-primary\" :pressed=\"selectedCollections[slot.data.id]\" @click=\"selectForItemSearch(slot.data)\">\n                  <b-icon-check-square v-if=\"selectedCollections[slot.data.id]\" />\n                  <b-icon-square v-else />\n                  <span class=\"ms-2\">{{ $t('search.selectForItemSearch') }}</span>\n                </b-button>\n                <StacLink :button=\"{variant: 'outline-primary', disabled: !canFilterItems(slot.data)}\" :data=\"slot.data\" :title=\"$t('search.filterCollection')\" :state=\"{itemFilterOpen: 1}\" />\n              </b-button-group>\n            </template>\n          </Catalogs>\n          <Items\n            v-else\n            :stac=\"parent\" :items=\"results\" :api=\"true\" :allowFilter=\"false\"\n            :pagination=\"pagination\" :loading=\"loading\" @paginate=\"loadResults\"\n            :count=\"totalCount\" :apiFilters=\"itemFilters\"\n          />\n        </template>\n      </b-col>\n    </b-row>\n    <b-alert v-if=\"selectedCollectionCount > 0\" show variant=\"dark\" class=\"selected-collections-action\">\n      <b-button @click=\"openItemSearch\" variant=\"primary\" size=\"lg\">\n        {{ $t('search.useInItemSearch', selectedCollectionCount, {count: selectedCollectionCount}) }}\n      </b-button>\n    </b-alert>\n  </main>\n</template>\n\n<script>\nimport Utils from '../utils';\nimport SearchFilter from '../components/SearchFilter.vue';\nimport Loading from '../components/Loading.vue';\nimport ErrorAlert from '../components/ErrorAlert.vue';\nimport { getDisplayTitle, createSTAC, CollectionCollection, ItemCollection } from '../models/stac';\nimport { STAC } from 'stac-js';\nimport { defineComponent, defineAsyncComponent } from 'vue';\nimport { getErrorCode, getErrorMessage, processSTAC, stacRequest } from '../store/utils';\nimport { mapGetters, mapState } from \"vuex\";\nimport { BTab, BTabs } from 'bootstrap-vue-next';\n\nexport default defineComponent({\n  name: \"Search\",\n  components: {\n    Catalogs: defineAsyncComponent(() => import('../components/Catalogs.vue')),\n    BTabs,\n    BTab,\n    ErrorAlert,\n    Loading,\n    SearchFilter,\n    Items: defineAsyncComponent(() => import('../components/Items.vue')),\n    MapView: defineAsyncComponent(() => import('../components/MapView.vue')),\n    StacLink: defineAsyncComponent(() => import('../components/StacLink.vue'))\n  },\n  props: {\n    loadParent: {\n      type: String,\n      default: null\n    }\n  },\n  data() {\n    return {\n      parent: null,\n      error: null,\n      errorId: null,\n      link: null,\n      loading: false,\n      data: null,\n      itemFilters: {},\n      collectionFilters: {},\n      activeSearch: undefined,\n      selectedCollections: {}\n    };\n  },\n  computed: {\n    ...mapState(['catalogUrl', 'catalogTitle', 'searchResultsPerPage', 'itemsPerPage', 'collectionsPerPage']),\n    ...mapGetters(['canSearchItems', 'canSearchCollections', 'getStac', 'root', 'collectionLink', 'parentLink', 'fromBrowserPath', 'toBrowserPath']),\n    selectedCollectionCount() {\n      return Utils.size(this.selectedCollections);\n    },\n    totalCount() {\n      if (typeof this.data.numberMatched === 'number') {\n        return this.data.numberMatched;\n      }\n      return null;\n    },\n    searchLink() {\n      return this.isCollectionSearch ? this.collectionSearch : this.itemSearch;\n    },\n    collectionSearch() {\n      return this.canSearchCollections && this.parent && this.parent.getApiCollectionsLink();\n    },\n    itemSearch() {\n      return this.canSearchItems && this.parent && this.parent.getSearchLink();\n    },\n    resultCollection() {\n      if (this.isCollectionSearch) {\n        return new CollectionCollection({\n          collections: this.results,\n          links: []\n        });\n      }\n      else {\n        return new ItemCollection({\n          type: 'FeatureCollection',\n          features: this.results,\n          links: []\n        });\n      }\n    },\n    results() {\n      if (Utils.size(this.data) === 0) {\n        return [];\n      }\n      let list = this.isCollectionSearch ? this.data.collections : this.data.features;\n      let type = this.isCollectionSearch ? 'Collection' : 'Feature';\n      if (!Array.isArray(list)) {\n        return [];\n      }\n      // todo: use itemcollection class\n      return list\n        .map(obj => {\n          try {\n            if (!Utils.isObject(obj) || obj.type !== type) {\n              return null;\n            }\n            let selfLink = Utils.getLinkWithRel(obj.links, 'self');\n            let url;\n            if (selfLink?.href) {\n              url = Utils.toAbsolute(selfLink.href, this.link.href);\n            }\n            let stac = createSTAC(obj, url, this.toBrowserPath(url));\n            stac = processSTAC(this.$store.state, stac);\n            return stac;\n          } catch (error) {\n            console.error(error);\n            return null;\n          }\n        })\n        .filter(obj => obj instanceof STAC);\n    },\n    pagination() {\n      return Utils.getPaginationLinks(this.data);\n    },\n    filters() {\n      return this.isCollectionSearch ? this.collectionFilters : this.itemFilters;\n    },\n    isCollectionSearch() {\n      return this.collectionSearch && this.activeSearch === 'search-collections-tab';\n    },\n    pageDescription() {\n      let title = getDisplayTitle([this.collectionLink, this.parentLink, this.root], this.catalogTitle);\n      return this.$t('search.metaDescription', {title});\n    },\n    noFurtherItems() {\n      // Ideally this would be dertmined by the prev link, but it's not required\n      // so we check whether our current link has a next rel type which indicates\n      // that it's a subsequent page. On the first pages the link rel type would be\n      // \"search\" (or \"prev\" or \"first\"). This only works for forward navigation.\n      return this.link && this.link.rel === 'next';\n    }\n  },\n  watch:{\n    activeSearch() {\n      this.data = null;\n    },\n    searchLink: {\n      immediate: true,\n      handler() {\n        if (this.searchLink) {\n          this.showPage();\n        }\n      }\n    }\n  },\n  async created() {\n    let url = this.catalogUrl;\n    if (this.loadParent) {\n      url = this.fromBrowserPath(this.loadParent);\n      this.parent = this.getStac(url);\n    }\n    else {\n      this.parent = this.root;\n    }\n    if (!this.parent) {\n      await this.$store.dispatch('load', { url });\n      if (!this.root) {\n        await this.$store.dispatch(\"config\", { catalogUrl: url });\n      }\n      this.parent = this.getStac(url);\n      this.showPage();\n    }\n  },\n  methods: {\n    openItemSearch() {\n      this.itemFilters.collections = Object.keys(this.selectedCollections);\n      this.activeSearch = 'search-items-tab';\n      this.selectedCollections = {};\n    },\n    selectForItemSearch(collection) {\n      if (this.selectedCollections[collection.id]) {\n        delete this.selectedCollections[collection.id];\n      }\n      else {\n        this.selectedCollections[collection.id] = true;\n      }\n    },\n    canFilterItems(data) {\n      if (data instanceof STAC) {\n        return Boolean(data.getApiItemsLink());\n      }\n      return false;\n    },\n    async loadResults(link) {\n      this.error = null;\n      this.errorId = null;\n      this.loading = true;\n      try {\n        this.link = Utils.addFiltersToLink(link, this.filters, this.searchResultsPerPage);\n\n        let key = this.isCollectionSearch ? 'collections' : 'features';\n        let response = await stacRequest(this.$store, this.link);\n        if (response) {\n          this.showPage(response.config.url);\n        }\n        if (!Utils.isObject(response.data) || !Array.isArray(response.data[key])) {\n          this.data = {};\n          this.error = this.$t(this.isCollectionSearch ? 'errors.invalidStacCollections' : 'errors.invalidStacItems');\n        }\n        else {\n          this.data = response.data;\n        }\n      } catch (error) {\n        this.data = {};\n        this.error = getErrorMessage(error);\n        this.errorId = getErrorCode(error);\n      } finally {\n        this.loading = false;\n      }\n    },\n    async setFilters(filters, reset = false) {\n      if (this.isCollectionSearch) {\n        this.collectionFilters = filters;\n      }\n      else {\n        this.itemFilters = filters;\n      }\n      if (reset) {\n        this.data = null;\n      }\n      else {\n        await this.loadResults(this.searchLink);\n      }\n    },\n    showPage(url) {\n      this.$store.commit('showPage', {\n        url,\n        page: () => ({\n          title: this.$t('search.title'),\n          description: this.pageDescription,\n        })\n      });\n    }\n  }\n});\n</script>\n\n<style lang=\"scss\">\n@import 'bootstrap/scss/mixins';\n@import \"../theme/variables.scss\";\n\n#stac-browser {\n  .search .left .tabs .tab-content .filter .card {\n    border-top: 0;\n    border-top-left-radius: 0;\n    border-top-right-radius: 0;\n  }\n}\n\n#search-map {\n  margin-bottom: $block-margin;\n}\n\n#stac-browser .search {\n  .selected-collections-action {\n    position: fixed;\n    bottom: 0;\n    right: 0;\n    z-index: 5000;\n    margin: 1rem;\n    box-shadow: 2px 2px 4px 0px rgba(0, 0, 0, 0.25);\n  }\n\n  .left {\n    min-width: 420px;\n    flex-basis: 40%;\n  }\n  .right {\n    min-width: 250px;\n    flex-basis: 60%;\n    position: relative !important;\n  }\n}\n</style>\n"],"file":"Search-DmzLP7iJ.js"}