import{d as $,e as V,i as w,n as i,B as f,C as r,s as a,c as n,c3 as C,t as O,c4 as b,h as L,g as P,j as E,aJ as H,x as J,c5 as K,I as z,ax as q,p as x,q as h,v as B,G as k,H as I,A as R,P as U,aA as W,am as Q,a9 as X}from"./index-B3F0456b.js";import{a as Y,u as Z}from"./useStateClass-BGbSLWFN-eI-Q6wqs.js";const ee=["value","disabled","selected"],j=$({__name:"BFormSelectOption",props:{disabled:{type:Boolean,default:!1},value:{default:void 0}},setup(u){const d=V(u,"BFormSelectOption"),e=w(C,null),s=n(()=>e?e.modelValue.value===d.value:!1);return(p,l)=>(i(),f("option",{value:a(d).value,disabled:a(d).disabled,selected:s.value},[r(p.$slots,"default")],8,ee))}}),A=(u,c)=>{const d=l=>typeof l=="object"&&l!==null&&"options"in l,e=l=>{const t=O(c);if(typeof l=="string")return{value:l,text:l};if(typeof l=="number")return{value:l,text:`${l}`};if(l instanceof Date)return{value:l,text:l.toLocaleString()};const F=b(l,t.valueField),m=b(l,t.textField),S=b(l,t.disabledField),_=t.optionsField?b(l,t.optionsField):void 0;return _!==void 0?{label:b(l,t.labelField)||m,options:_}:{...typeof l=="object"?l:void 0,value:F,text:m,disabled:S}},s=l=>l.map(t=>e(t));return{normalizedOptions:n(()=>s(O(u))),isComplex:d}},le=["label"],ae=$({__name:"BFormSelectOptionGroup",props:{disabledField:{default:"disabled"},label:{default:void 0},options:{default:()=>[]},textField:{default:"text"},valueField:{default:"value"}},setup(u){const d=V(u,"BFormSelectOptionGroup"),{normalizedOptions:e}=A(()=>d.options,d);return(s,p)=>(i(),f("optgroup",{label:a(d).label},[r(s.$slots,"first"),(i(!0),f(z,null,q(a(e),(l,t)=>(i(),x(j,B({key:t,disabled:l.disabled,value:l.value},{ref_for:!0},s.$attrs),{default:h(()=>[r(s.$slots,"option",B({ref_for:!0},l),()=>[k(I(l.text),1)])]),_:2},1040,["disabled","value"]))),128)),r(s.$slots,"default")],8,le))}}),te=["id","name","form","multiple","size","disabled","required","aria-required","aria-invalid"],oe=$({__name:"BFormSelect",props:U({ariaInvalid:{type:[Boolean,String],default:void 0},autofocus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},disabledField:{default:"disabled"},form:{default:void 0},id:{default:void 0},labelField:{default:"label"},multiple:{type:Boolean,default:!1},name:{default:void 0},options:{default:()=>[]},optionsField:{default:"options"},plain:{type:Boolean,default:!1},required:{type:Boolean,default:!1},selectSize:{default:0},size:{default:"md"},state:{type:[Boolean,null],default:null},textField:{default:"text"},valueField:{default:"value"}},{modelValue:{default:""},modelModifiers:{}}),emits:["update:modelValue"],setup(u,{expose:c}){const e=V(u,"BFormSelect"),s=L(u,"modelValue"),p=P(()=>e.id,"input"),l=W(()=>e.selectSize),t=Z(()=>e.state),F=E("_input"),{focused:m}=H(F,{initialValue:e.autofocus}),S=n(()=>[t.value,{"form-control":e.plain,[`form-control-${e.size}`]:e.size!=="md"&&e.plain,"form-select":!e.plain,[`form-select-${e.size}`]:e.size!=="md"&&!e.plain}]),_=n(()=>l.value||e.plain?l.value:void 0),D=Y(()=>e.ariaInvalid,()=>e.state),{normalizedOptions:M,isComplex:G}=A(()=>e.options,e),N=n(()=>M.value),y=n({get:()=>s.value,set:v=>{s.value=v}});return Q(C,{modelValue:X(y)}),c({blur:()=>{m.value=!1},element:F,focus:()=>{m.value=!0}}),(v,g)=>J((i(),f("select",{id:a(p),ref:"_input","onUpdate:modelValue":g[0]||(g[0]=o=>y.value=o),class:R(S.value),name:a(e).name,form:a(e).form||void 0,multiple:a(e).multiple||void 0,size:_.value,disabled:a(e).disabled,required:a(e).required||void 0,"aria-required":a(e).required||void 0,"aria-invalid":a(D)},[r(v.$slots,"first"),(i(!0),f(z,null,q(N.value,(o,T)=>(i(),f(z,{key:T},[a(G)(o)?(i(),x(ae,{key:0,label:o.label,options:o.options,"value-field":a(e).valueField,"text-field":a(e).textField,"disabled-field":a(e).disabledField},null,8,["label","options","value-field","text-field","disabled-field"])):(i(),x(j,{key:1,value:o.value,disabled:o.disabled},{default:h(()=>[r(v.$slots,"option",B({ref_for:!0},o),()=>[k(I(o.text),1)])]),_:2},1032,["value","disabled"]))],64))),128)),r(v.$slots,"default")],10,te)),[[K,y.value]])}});export{j as _,ae as a,oe as b,A as u};
//# sourceMappingURL=BFormSelect.vue_vue_type_script_setup_true_lang-djrVhugk-C6-PzWAZ.js.map
