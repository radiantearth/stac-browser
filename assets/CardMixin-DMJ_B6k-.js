import{d as s}from"./utils-BXWzvTjY.js";import{S as d,f as o}from"./formatters-CAYh_mzR.js";import{bs as h,bp as n}from"./index-4V-ffF_e.js";const c={mixins:[d({formatMediaType:o.formatMediaType})],computed:{fileFormats(){if(!this.data)return[];let a=[];return(this.data.isItem()||this.data.isCollection())&&s.isObject(this.data.assets)&&(a=a.concat(Object.values(this.data.assets))),this.data.isCollection()&&s.isObject(this.data.item_assets)&&(a=a.concat(Object.values(this.data.item_assets))),a.filter(t=>Array.isArray(t.roles)&&t.roles.includes("data")&&typeof t.type=="string").map(t=>this.formatMediaType(t.type,null,{shorten:!0})).filter((t,e,i)=>i.indexOf(t)===e).sort((t,e)=>t.localeCompare(e,void 0,{sensitivity:"base"}))}}},p={props:{showThumbnail:{type:Boolean,default:!0}},computed:{...h(["cardViewMode","crossOriginMedia","defaultThumbnailSize"]),isList(){return this.data&&!this.data.isItem()&&this.cardViewMode==="list"},hasImage(){return this.showThumbnail&&this.thumbnail},thumbnail(){if(this.data){let a=this.data.getThumbnails(!0,"thumbnail");if(a.length>0){let t=a[0],e,i;const r=t.getMetadata("proj:shape");return Array.isArray(r)&&r.length===2?[i,e]=r:Array.isArray(this.defaultThumbnailSize)&&this.defaultThumbnailSize.length===2&&([i,e]=this.defaultThumbnailSize),{src:t.getAbsoluteUrl(),alt:t.title,crossorigin:this.crossOriginMedia,width:e,height:i,placement:this.isList?"end":"top"}}}return null},keywords(){return this.data?this.data.getMetadata("keywords")||[]:[]},isDeprecated(){return this.data instanceof n&&!!this.data.getMetadata("deprecated")},hasDescription(){return this.data instanceof n&&s.hasText(this.data.getMetadata("description"))},summarizeDescription(){return this.hasDescription?s.summarizeMd(this.data.getMetadata("description"),300):""}}};export{p as C,c as F};
//# sourceMappingURL=CardMixin-DMJ_B6k-.js.map
