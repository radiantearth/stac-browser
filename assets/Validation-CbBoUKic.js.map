{"version":3,"file":"Validation-CbBoUKic.js","sources":["../../src/components/Validation.vue"],"sourcesContent":["<template>\n  <div class=\"valid\">\n    <b-spinner v-if=\"working\" :label=\"$t('source.validating')\" small />\n    <b-button v-else-if=\"valid === true\" variant=\"success\" :size=\"size\" :to=\"validationLink\"><b-icon-check /> {{ $t('checkbox.true') }}</b-button>\n    <b-button v-else-if=\"valid === false\" variant=\"danger\" :size=\"size\" :to=\"validationLink\"><b-icon-x /> {{ $t('checkbox.false') }}</b-button>\n    <template v-else>{{ $t('source.validationNA') }}</template>\n  </div>\n</template>\n\n<script>\nimport { STAC } from 'stac-js';\nimport validateSTAC from 'stac-node-validator';\n\nexport default {\n  name: \"Validation\",\n  props: {\n    data: {\n      type: Object,\n      default: null\n    },\n    size: {\n      type: String,\n      default: \"sm\"\n    }\n  },\n  data() {\n    return {\n      working: true,\n      valid: null\n    };\n  },\n  computed: {\n    validationLink() {\n      if (this.data instanceof STAC) {\n        return '/validation' + this.data.getBrowserPath();\n      }\n      else {\n        return null;\n      }\n    }\n  },\n  async created() {\n    await this.validate();\n  },\n  methods: {\n    async validate() {\n      this.working = true;\n      this.valid = null;\n      try {\n        if (this.data instanceof STAC) {\n          const stac = this.data._original || this.data.toJSON();\n          const report = await validateSTAC(stac, {});\n          this.valid = report.valid;\n        }\n      } catch (error) {\n        console.error(error);\n      } finally {\n        this.working = false;\n      }\n    }\n  }\n};\n</script>\n\n\n"],"names":["_sfc_main","STAC","stac","report","validateSTAC","error","_hoisted_1","_openBlock","_createElementBlock","$data","_createBlock","_component_b_spinner","_ctx","_component_b_button","$props","$options","_createVNode","_component_b_icon_check","_createTextVNode","_component_b_icon_x","_Fragment"],"mappings":"ktBAaKA,EAAU,CACb,KAAM,aACN,MAAO,CACL,KAAM,CACJ,KAAM,OACN,QAAS,MAEX,KAAM,CACJ,KAAM,OACN,QAAS,IACX,GAEF,MAAO,CACL,MAAO,CACL,QAAS,GACT,MAAO,KAEX,EACA,SAAU,CACR,gBAAiB,CACf,OAAI,KAAK,gBAAgBC,EAChB,cAAgB,KAAK,KAAK,eAAc,EAGxC,IAEX,GAEF,MAAM,SAAU,CACd,MAAM,KAAK,SAAQ,CACrB,EACA,QAAS,CACP,MAAM,UAAW,CACf,KAAK,QAAU,GACf,KAAK,MAAQ,KACb,GAAI,CACF,GAAI,KAAK,gBAAgBA,EAAM,CAC7B,MAAMC,EAAO,KAAK,KAAK,WAAa,KAAK,KAAK,OAAM,EAC9CC,EAAS,MAAMC,EAAaF,EAAM,CAAA,CAAE,EAC1C,KAAK,MAAQC,EAAO,KACtB,CACF,OAASE,EAAO,CACd,QAAQ,MAAMA,CAAK,CACrB,QAAA,CACE,KAAK,QAAU,EACjB,CACF,CACF,CACF,EA5DOC,EAAA,CAAA,MAAM,OAAO,gDAAlB,OAAAC,EAAA,EAAAC,EAKM,MALNF,EAKM,CAJaG,EAAA,aAAjBC,EAAmEC,EAAA,OAAxC,MAAOC,EAAA,GAAE,mBAAA,EAAuB,MAAA,uBACtCH,EAAA,QAAK,QAA1BC,EAA8IG,EAAA,OAAzG,QAAQ,UAAW,KAAMC,EAAA,KAAO,GAAIC,EAAA,2BAAgB,IAAgB,CAAhBC,EAAgBC,CAAA,EAAAC,EAAA,MAAIN,EAAA,GAAE,eAAA,CAAA,EAAA,CAAA,2BAC1FH,EAAA,QAAK,QAA1BC,EAA2IG,EAAA,OAArG,QAAQ,SAAU,KAAMC,EAAA,KAAO,GAAIC,EAAA,2BAAgB,IAAY,CAAZC,EAAYG,CAAA,EAAAD,EAAA,MAAIN,EAAA,GAAE,gBAAA,CAAA,EAAA,CAAA,gCAC3GJ,EAA2DY,EAAA,CAAA,IAAA,CAAA,EAAA,KAAvCR,EAAA,GAAE,qBAAA,CAAA,EAAA,CAAA"}