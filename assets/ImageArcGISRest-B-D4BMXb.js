import{am as n}from"./GeoJSON-BlyzYhKz.js";import h,{defaultImageLoadFunction as d}from"./Image-0ePVgDVk.js";import{createLoader as m}from"./arcgisRest-CShpgHQf.js";import"./index-4V-ffF_e.js";import"./utils-BXWzvTjY.js";import"./_commonjsHelpers-CE1G-McA.js";import"./I18N-DlIXJTel.js";import"./BFormRadioGroup.vue_vue_type_script_setup_true_lang-DaMHx4U3-CVtNDUBO.js";import"./useStateClass-BGbSLWFN-lMazZNQ7.js";import"./ConditionalWrapper.vue_vue_type_script_lang-IX_NpHH--B1-KiooU.js";import"./common-0gNrjJbx.js";import"./resolution-CU8ppKQ3.js";import"./common-9rOs42pz.js";import"./uri-BxyrIhx_.js";import"./tilecoord-DYaQ6NdW.js";class x extends h{constructor(i){i=i||{},super({attributions:i.attributions,interpolate:i.interpolate,projection:i.projection,resolutions:i.resolutions}),this.crossOrigin_=i.crossOrigin!==void 0?i.crossOrigin:null,this.hidpi_=i.hidpi!==void 0?i.hidpi:!0,this.url_=i.url,this.imageLoadFunction_=i.imageLoadFunction!==void 0?i.imageLoadFunction:d,this.params_=Object.assign({},i.params),this.imageSize_=[0,0],this.renderedRevision_=0,this.ratio_=i.ratio!==void 0?i.ratio:1.5,this.loaderProjection_=null}getParams(){return this.params_}getImageInternal(i,e,a,r){return this.url_===void 0?null:((!this.loader||this.loaderProjection_!==r)&&(this.loaderProjection_=r,this.loader=m({crossOrigin:this.crossOrigin_,params:this.params_,projection:r,hidpi:this.hidpi_,url:this.url_,ratio:this.ratio_,load:(t,s)=>(this.image.setImage(t),this.imageLoadFunction_(this.image,s),n(t))})),super.getImageInternal(i,e,a,r))}getImageLoadFunction(){return this.imageLoadFunction_}getUrl(){return this.url_}setImageLoadFunction(i){this.imageLoadFunction_=i,this.changed()}setUrl(i){i!=this.url_&&(this.url_=i,this.loader=null,this.changed())}setParams(i){this.params_=Object.assign({},i),this.changed()}updateParams(i){Object.assign(this.params_,i),this.changed()}changed(){this.image=null,super.changed()}}export{x as default};
//# sourceMappingURL=ImageArcGISRest-B-D4BMXb.js.map
