{"version":3,"file":"OSM-BPysIq8A.js","sources":["../../node_modules/ol/source/OSM.js"],"sourcesContent":["/**\n * @module ol/source/OSM\n */\n\nimport {WORKER_OFFSCREEN_CANVAS} from '../has.js';\nimport {defaultTileLoadFunction} from './TileImage.js';\nimport XYZ from './XYZ.js';\n\n/**\n * The attribution containing a link to the OpenStreetMap Copyright and License\n * page.\n * @const\n * @type {string}\n * @api\n */\nexport const ATTRIBUTION =\n  '&#169; ' +\n  '<a href=\"https://www.openstreetmap.org/copyright\" target=\"_blank\">OpenStreetMap</a> ' +\n  'contributors.';\n\n/**\n * @typedef {Object} Options\n * @property {import(\"./Source.js\").AttributionLike} [attributions] Attributions.\n * @property {number} [cacheSize] Deprecated.  Use the cacheSize option on the layer instead.\n * @property {null|string} [crossOrigin='anonymous'] The `crossOrigin` attribute for loaded images.  Note that\n * you must provide a `crossOrigin` value if you want to access pixel data with the Canvas renderer.\n * See https://developer.mozilla.org/en-US/docs/Web/HTML/CORS_enabled_image for more detail.\n * @property {boolean} [interpolate=true] Use interpolated values when resampling.  By default,\n * linear interpolation is used when resampling.  Set to false to use the nearest neighbor instead.\n * @property {number} [maxZoom=19] Max zoom.\n * @property {number} [reprojectionErrorThreshold=0.5] Maximum allowed reprojection error (in pixels).\n * Higher values can increase reprojection performance, but decrease precision.\n * @property {import(\"../Tile.js\").LoadFunction} [tileLoadFunction] Optional function to load a tile given a URL. The default is\n * ```js\n * function(imageTile, src) {\n *   imageTile.getImage().src = src;\n * };\n * ```\n * @property {number} [transition=250] Duration of the opacity transition for rendering.\n * To disable the opacity transition, pass `transition: 0`.\n * @property {string} [url='https://tile.openstreetmap.org/{z}/{x}/{y}.png'] URL template.\n * Must include `{x}`, `{y}` or `{-y}`, and `{z}` placeholders.\n * @property {boolean} [wrapX=true] Whether to wrap the world horizontally.\n * @property {number|import(\"../array.js\").NearestDirectionFunction} [zDirection=0]\n * Choose whether to use tiles with a higher or lower zoom level when between integer\n * zoom levels. See {@link module:ol/tilegrid/TileGrid~TileGrid#getZForResolution}.\n */\n\n/**\n * @classdesc\n * Layer source for the OpenStreetMap tile server.\n * @api\n */\nclass OSM extends XYZ {\n  /**\n   * @param {Options} [options] Open Street Map options.\n   */\n  constructor(options) {\n    options = options || {};\n\n    let attributions;\n    if (options.attributions !== undefined) {\n      attributions = options.attributions;\n    } else {\n      attributions = [ATTRIBUTION];\n    }\n\n    const crossOrigin =\n      options.crossOrigin !== undefined ? options.crossOrigin : 'anonymous';\n\n    const url =\n      options.url !== undefined\n        ? options.url\n        : 'https://tile.openstreetmap.org/{z}/{x}/{y}.png';\n\n    super({\n      attributions: attributions,\n      attributionsCollapsible: false,\n      cacheSize: options.cacheSize,\n      crossOrigin: crossOrigin,\n      interpolate: options.interpolate,\n      maxZoom: options.maxZoom !== undefined ? options.maxZoom : 19,\n      reprojectionErrorThreshold: options.reprojectionErrorThreshold,\n      tileLoadFunction:\n        /**\n         * @param {import(\"../ImageTile.js\").default} tile Image tile\n         * @param {string} src Image src\n         */\n        (tile, src) => {\n          const image = tile.getImage();\n          // FIXME referrer policy for worker fetch requests\n          if (!WORKER_OFFSCREEN_CANVAS && image instanceof HTMLImageElement) {\n            image.referrerPolicy = 'origin-when-cross-origin';\n          }\n          (options.tileLoadFunction || defaultTileLoadFunction)(tile, src);\n        },\n      transition: options.transition,\n      url: url,\n      wrapX: options.wrapX,\n      zDirection: options.zDirection,\n    });\n  }\n}\n\nexport default OSM;\n"],"names":["ATTRIBUTION","OSM","XYZ","options","attributions","crossOrigin","url","tile","src","image","WORKER_OFFSCREEN_CANVAS","defaultTileLoadFunction"],"mappings":"kyBAeY,MAACA,EACX,2GAqCF,MAAMC,UAAYC,CAAI,CAIpB,YAAYC,EAAS,CACnBA,EAAUA,GAAW,CAAA,EAErB,IAAIC,EACAD,EAAQ,eAAiB,OAC3BC,EAAeD,EAAQ,aAEvBC,EAAe,CAACJ,CAAW,EAG7B,MAAMK,EACJF,EAAQ,cAAgB,OAAYA,EAAQ,YAAc,YAEtDG,EACJH,EAAQ,MAAQ,OACZA,EAAQ,IACR,iDAEN,MAAM,CACJ,aAAcC,EACd,wBAAyB,GACzB,UAAWD,EAAQ,UACnB,YAAaE,EACb,YAAaF,EAAQ,YACrB,QAASA,EAAQ,UAAY,OAAYA,EAAQ,QAAU,GAC3D,2BAA4BA,EAAQ,2BACpC,iBAKE,CAACI,EAAMC,IAAQ,CACb,MAAMC,EAAQF,EAAK,SAAQ,EAEvB,CAACG,GAA2BD,aAAiB,mBAC/CA,EAAM,eAAiB,6BAExBN,EAAQ,kBAAoBQ,GAAyBJ,EAAMC,CAAG,CACjE,EACF,WAAYL,EAAQ,WACpB,IAAKG,EACL,MAAOH,EAAQ,MACf,WAAYA,EAAQ,UAC1B,CAAK,CACH,CACF","x_google_ignoreList":[0]}