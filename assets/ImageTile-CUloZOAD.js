import{e as f,p,r as g}from"./uri-DARa-_b7.js";import y from"./DataTile-BS4Ko2oL.js";import"./GeoJSON-CU4rcIn-.js";import"./index-C2OSS7vO.js";import"./utils-UTZ1_q7B.js";import"./_commonjsHelpers-CE1G-McA.js";import"./I18N-DlIXJTel.js";import"./BFormRadioGroup.vue_vue_type_script_setup_true_lang-DaMHx4U3-CeRnVsH2.js";import"./useStateClass-BGbSLWFN-B4NMF7T0.js";import"./ConditionalWrapper.vue_vue_type_script_lang-IX_NpHH--CnflwMIL.js";import"./tilecoord-D1yGc-j0.js";import"./DataTile-DbS72gjE.js";import"./Tile-B62W3_SB.js";import"./common-G2CN9UYP.js";import"./mat4-CeypvY8Z.js";import"./Tile-CYOedJoP.js";import"./TileGrid-CWohgRiX.js";import"./TileRange-2Tc-Ry00.js";import"./TileEventType-CTN_nmJ7.js";const k=new Error("Image failed to load");function c(e,r,t,i,a){return new Promise((o,d)=>{const n=new Image;n.crossOrigin=a.crossOrigin??null,n.addEventListener("load",()=>o(n)),n.addEventListener("error",()=>d(k)),n.src=g(e,r,t,i,a.maxY)})}function m(e){return function(r,t,i,a){const o=p(e,r,t,i);return c(o,r,t,i,a)}}function w(e){return function(r,t,i,a){const o=e(r,t,i,a);return c(o,r,t,i,a)}}function l(e){let r;if(Array.isArray(e))r=m(e);else if(typeof e=="string"){const t=f(e);r=m(t)}else if(typeof e=="function")r=w(e);else throw new Error("The url option must be a single template, an array of templates, or a function for getting a URL");return r}let s=0;function u(e){return Array.isArray(e)?e.join(`
`):typeof e=="string"?e:(++s,"url-function-key-"+s)}class v extends y{constructor(r){r=r||{};let t=r.loader,i;r.url&&(t=l(r.url),i=u(r.url));const a=t?r.state:"loading",o=r.wrapX===void 0?!0:r.wrapX;super({loader:t,key:i,attributions:r.attributions,attributionsCollapsible:r.attributionsCollapsible,maxZoom:r.maxZoom,minZoom:r.minZoom,tileSize:r.tileSize,gutter:r.gutter,maxResolution:r.maxResolution,projection:r.projection,tileGrid:r.tileGrid,state:a,wrapX:o,transition:r.transition,interpolate:r.interpolate!==!1,crossOrigin:r.crossOrigin,zDirection:r.zDirection})}setUrl(r){const t=l(r);this.setLoader(t),this.setKey(u(r)),this.getState()!=="ready"&&this.setState("ready")}}export{v as default};
//# sourceMappingURL=ImageTile-CUloZOAD.js.map
