{"version":3,"file":"CopyButton-COmgd0rG.js","sources":["../../node_modules/v-clipboard/dist/v-clipboard.es.js","../../src/components/CopyButton.vue"],"sourcesContent":["var g = Object.defineProperty;\nvar m = (t, e, r) => e in t ? g(t, e, { enumerable: !0, configurable: !0, writable: !0, value: r }) : t[e] = r;\nvar d = (t, e, r) => (m(t, typeof e != \"symbol\" ? e + \"\" : e, r), r);\nclass f {\n  constructor() {\n    d(this, \"seed\", 0);\n    d(this, \"data\", /* @__PURE__ */ new Map());\n  }\n  id() {\n    return Date.now().toString(26) + this.seed++;\n  }\n  add(e, r = this.id()) {\n    return this.data.set(r, e), r;\n  }\n  get(e) {\n    return this.data.get(e);\n  }\n  delete(e) {\n    this.delete(e);\n  }\n}\nconst y = \"Failed to copy value to clipboard. Unknown type.\", C = {\n  asString(t) {\n    if (t == null)\n      return console.warn(\"Clipboard input is empty\"), \"\";\n    if (typeof t != \"string\")\n      try {\n        return JSON.stringify(t);\n      } catch (e) {\n        return console.warn(y, e), \"\";\n      }\n    return t;\n  }\n}, w = \"position:fixed; pointer-events:none; z-index:-9999; opacity:0;\", x = {\n  createTextarea(t) {\n    const e = document.createElement(\"textarea\");\n    return e.addEventListener(\"focusin\", (r) => {\n      r.stopPropagation();\n    }), e.value = t, e.setAttribute(\"readonly\", \"\"), e.style.cssText = w, e;\n  }\n}, c = {\n  async requestClipboardPermission() {\n    return navigator.permissions.query({\n      name: \"clipboard-write\"\n    });\n  },\n  async writeClipboard(t) {\n    return (await c.requestClipboardPermission()).state === \"granted\" ? (await navigator.clipboard.writeText(t), !0) : !1;\n  },\n  writeClipboardExecCommand(t) {\n    const e = x.createTextarea(t);\n    if (document.body.appendChild(e), navigator.userAgent.match(/ipad|ipod|iphone/i)) {\n      e.contentEditable = \"true\", e.readOnly = !0;\n      const n = document.createRange();\n      n.selectNodeContents(e);\n      const o = window.getSelection();\n      o && (o.removeAllRanges(), o.addRange(n), e.setSelectionRange(0, 999999));\n    } else\n      e.select();\n    const r = document.execCommand(\"copy\");\n    return document.body.removeChild(e), r;\n  },\n  async copy(t) {\n    const e = typeof t == \"function\" ? t() : t, r = C.asString(e);\n    if (c.writeClipboardExecCommand(r))\n      return !0;\n    await c.writeClipboard(r);\n  }\n}, i = new f(), E = {\n  install(t) {\n    const e = t.version[0] === \"3\" ? t.config.globalProperties : t.prototype;\n    e.$clipboard = c.copy, t.directive(\"clipboard\", {\n      beforeMount(r, n) {\n        const o = n.arg, a = n.value, s = typeof a == \"function\";\n        if (o === \"error\" && s) {\n          r.dataset.clipboardError = i.add(a);\n          return;\n        }\n        if (o === \"error\" && s) {\n          r.dataset.clipboardSuccess = i.add(a);\n          return;\n        }\n        const l = async (p) => {\n          var u;\n          const b = await c.copy(a) ? r.dataset.clipboardSuccess : r.dataset.clipboardError;\n          (u = i.get(b)) == null || u({ value: a, event: p });\n        };\n        r.dataset.clipboardClick = i.add(l), r.addEventListener(\"click\", l);\n      },\n      unmounted(r) {\n        const {\n          clipboardSuccessHandler: n,\n          clipboardErrorHandler: o,\n          clipboardClickHandler: a\n        } = r.dataset;\n        if (n && i.delete(n), o && i.delete(o), a) {\n          const s = i.get(a);\n          s && (r.removeEventListener(\"click\", s), i.delete(a));\n        }\n      },\n      get bind() {\n        return this.beforeMount;\n      },\n      get unbind() {\n        return this.unmounted;\n      }\n    });\n  }\n};\nexport {\n  c as Clipboard,\n  E as default\n};\n//# sourceMappingURL=v-clipboard.es.js.map\n","<template>\n  <b-button class=\"copy-button\" @click.prevent.stop=\"copy\" :variant=\"copyColor\" :title=\"$t('copy')\" v-bind=\"buttonProps\">\n    <component :is=\"copyIcon\" />\n    <slot />\n  </b-button>\n</template>\n\n<script>\nimport { Clipboard } from \"v-clipboard\";\nimport BIconClipboard from '~icons/bi/clipboard';\nimport BIconClipboardCheck from '~icons/bi/clipboard-check';\nimport BIconClipboardX from '~icons/bi/clipboard-x';\n\nexport default {\n    name: \"CopyButton\",\n    components: {\n        BIconClipboard,\n        BIconClipboardCheck,\n        BIconClipboardX\n    },\n    props: {\n        copyText: {\n            type: String,\n            required: true\n        },\n        variant: {\n            type: String,\n            default: \"primary\"\n        },\n        buttonProps: {\n            type: Object,\n            default: () => ({})\n        }\n    },\n    data() {\n        return {\n            status: null\n        };\n    },\n    computed: {\n        copyColor() {\n            let variant = this.variant;\n            if (this.status === true) {\n                variant = 'success';\n            }\n            else if (this.status === false) {\n                variant = 'danger';\n            }\n            if (this.variant.startsWith('outline-')) {\n                variant = 'outline-' + variant;\n            }\n            return variant;\n        },\n        copyIcon() {\n            if (this.status === true) {\n                return BIconClipboardCheck;\n            }\n            else if (this.status === false) {\n                return BIconClipboardX;\n            }\n            else {\n                return BIconClipboard;\n            }\n        }\n    },\n    methods: {\n        async copy() {\n            try {\n                // We need to store the focus and restore it again as the clipboard \n                // may steal the focus\n                let focus = document.activeElement;\n                await Clipboard.copy(this.copyText);\n                focus.focus();\n                this.status = true;\n            } catch(error) {\n                console.error(error);\n                this.status = false;\n            }\n            setTimeout(() => this.status = null, 2500);\n        }\n    }\n};\n</script>\n"],"names":["g","m","r","d","f","y","C","w","x","c","n","_sfc_main","BIconClipboard","BIconClipboardCheck","BIconClipboardX","variant","focus","Clipboard","error","_openBlock","_createBlock","_component_b_button","_mergeProps","$options","_ctx","$props","_resolveDynamicComponent","_renderSlot"],"mappings":"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","x_google_ignoreList":[0]}