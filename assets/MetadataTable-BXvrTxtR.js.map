{"version":3,"mappings":";uwBAwBA,MAAKA,EAAU,CACb,KAAM,gBACN,WAAY,CACV,UAAWC,EAAqB,IAAIC,EAAA,IAAE,OAAO,yBAAiB,qCAAC,SAC/DC,GAEF,OAAQ,CACNC,EACAC,EAAgB,QAAEC,QAAK,CAAG,GAE5B,SAAU,CACR,UAAW,CACT,MAAO,CACL,sBAAuB,KAAK,GAAG,yBAAyB,EACxD,aAAc,KAAK,GAAG,iBAAiB,EACvC,iBAAkB,KAAK,GAAG,gBAAgB,EAC1C,kBAAmB,KAAK,GAAG,iBAAiB,EAC5C,mBAAoB,KAAK,GAAG,kBAAkB,EAElD,EACA,UAAW,CACT,GAAIC,EAAM,SAAS,KAAK,KAAK,EAAG,CAC9B,IAAIC,EAAQ,GACZ,QAAQC,KAAO,KAAK,MAClBD,EAAM,KAAK,CACT,IAAKC,EACL,GAAG,KAAK,MAAMA,CAAG,CACnB,CAAC,EAEH,OAAOD,CACT,KAEE,QAAO,KAAK,KAEhB,EACA,WAAY,CACV,IAAIE,EAAS,GACb,QAAQD,KAAO,KAAK,UAAW,CAC7B,IAAIE,EAAM,KAAK,MAAMF,CAAG,EACxBC,EAAO,KAAK,CACV,IAAAD,EACA,MAAOE,EAAI,MACX,SAAUA,EAAI,SACd,UAAW,KAAK,WAAW,KAAK,IAAI,EACpC,QAASA,EAAI,OACf,CAAC,CACH,CACA,OAAIJ,EAAM,SAAS,KAAK,KAAK,GAC3BG,EAAO,QAAQ,CACb,IAAK,MACL,SAAU,GACV,YAAa,EACf,CAAC,EAEIA,CACT,GAEF,QAAS,CACP,SAASE,EAAO,CACd,OAAOL,EAAM,SAASK,CAAK,CAC7B,EACA,WAAWA,EAAOH,EAAKI,EAAM,CAC3B,IAAIC,EAAO,KAAK,MAAML,CAAG,EAEzB,OAAI,OAAOK,EAAK,QAAY,MAAgB,OAAOF,EAAU,KAAeA,IAAU,QACpFA,EAAQE,EAAK,SAER,KAAK,OAAOF,EAAOH,EAAK,IAAKI,EAAMC,CAAI,CAChD,CACF,CACF,gGA7FE,OAAAC,EAAA,EAAAC,EAYUC,EAZVC,EAYU,CAXR,MAAM,iBAAkB,MAAOC,EAAA,SAAW,OAAQA,EAAA,UAAW,QAAQ,QACrE,cAAW,SAAM,mBAAc,YACvBA,EAAA,QAAQ,GAEL,SAAMC,EAAEC,GAAI,CACrBC,EAA4B,QAAtB,UAAQD,EAAK,mBAEV,SAAMD,EAAEC,GAAI,CACJA,EAAK,MAAM,mBAAuBF,EAAA,SAASE,EAAK,WAAW,OAA5EL,EAA0GO,EAAA,OAA1B,KAAMF,EAAK,oCAC3FG,EAAmC,cAAtB,UAAQH,EAAK","names":["_sfc_main","defineAsyncComponent","__vitePreload","BTable","EntryMixin","StacFieldsMixin","format","Utils","items","key","fields","col","value","item","spec","_openBlock","_createBlock","_component_b_table","_mergeProps","$options","_withCtx","data","_createElementVNode","_component_Histogram","_createElementBlock"],"ignoreList":[],"sources":["../../src/components/metadata/MetadataTable.vue"],"sourcesContent":["<template>\n  <b-table\n    class=\"metadata-table\" :items=\"tblItems\" :fields=\"tblFields\" variant=\"light\"\n    responsive small sticky-header striped\n    v-bind=\"tblTexts\"\n  >\n    <template #head()=\"data\">\n      <span v-html=\"data.label\" />\n    </template>\n    <template #cell()=\"data\">\n      <Histogram v-if=\"data.field.key === 'histogram' && isObject(data.unformatted)\" :data=\"data.unformatted\" />\n      <span v-else v-html=\"data.value\" />\n    </template>\n  </b-table>\n</template>\n\n<script>\nimport EntryMixin from './EntryMixin';\nimport StacFieldsMixin from '../StacFieldsMixin';\nimport Utils from '../../utils';\nimport { format } from '@radiantearth/stac-fields';\nimport { defineAsyncComponent } from 'vue';\nimport { BTable } from 'bootstrap-vue-next';\n\nexport default {\n  name: 'MetadataTable',\n  components: {\n    Histogram: defineAsyncComponent(() => import('./Histogram.vue')),\n    BTable\n  },\n  mixins: [\n    EntryMixin,\n    StacFieldsMixin({ format })\n  ],\n  computed: {\n    tblTexts() {\n      return {\n        'empty-filtered-text': this.$t('table.emptyFilteredText'),\n        'empty-text': this.$t('table.emptyText'),\n        'label-sort-asc': this.$t('table.sort.asc'),\n        'label-sort-desc': this.$t('table.sort.desc'),\n        'label-sort-clear': this.$t('table.sort.clear')\n      };\n    },\n    tblItems() {\n      if (Utils.isObject(this.value)) {\n        let items = [];\n        for(let key in this.value) {\n          items.push({\n            _id: key,\n            ...this.value[key]\n          });\n        }\n        return items;\n      }\n      else {\n        return this.value;\n      }\n    },\n    tblFields() {\n      let fields = [];\n      for(let key of this.itemOrder) {\n        let col = this.items[key];\n        fields.push({\n          key,\n          label: col.label,\n          sortable: col.sortable,\n          formatter: this.formatCell.bind(this),\n          default: col.default\n        });\n      }\n      if (Utils.isObject(this.value)) {\n        fields.unshift({\n          key: '_id',\n          sortable: true,\n          isRowHeader: true\n        });\n      }\n      return fields;\n    }\n  },\n  methods: {\n    isObject(value) {\n      return Utils.isObject(value);\n    },\n    formatCell(value, key, item) {\n      let spec = this.items[key];\n      // ToDo: Set context (third param)?\n      if (typeof spec.default !== 'undefined' && (typeof value === 'undefined' || value === null)) {\n        value = spec.default;\n      }\n      return this.format(value, key, NaN, item, spec);\n    }\n  }\n};\n</script>\n\n<style>\n#stac-browser .metadata-table .table thead th {\n  vertical-align: middle;\n}\n\n/*\n  Fix an issue in vue-bootstrap v2.22.0:\n  https://github.com/bootstrap-vue/bootstrap-vue/issues/6961 */\n.b-table-sticky-header > .table.b-table > thead > tr > th {\n  position: sticky !important;\n}\n</style>\n"],"file":"MetadataTable-BXvrTxtR.js"}