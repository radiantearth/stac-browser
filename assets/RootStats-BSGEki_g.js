const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/StatsChart-DlDu0V8h.js","assets/helper-CaHhXSPV.js","assets/helper-DO3U350M.js","assets/I18N-DlIXJTel.js","assets/_commonjsHelpers-CE1G-McA.js","assets/interface-B5vJloJq.js","assets/formatters-CAYh_mzR.js","assets/index-4V-ffF_e.js","assets/utils-BXWzvTjY.js","assets/index-BchvTk2E.css","assets/datatypes-XrFOh23H.js","assets/index-BG71dN6f.js"])))=>i.map(i=>d[i]);
import{bk as S,bl as O,n as o,B as i,p,K as c,G as a,I as y,y as d,H as f,ax as $,q as U,L as T,br as w,bs as x,bt as K,bu as B}from"./index-4V-ffF_e.js";import{_ as G}from"./BBadge.vue_vue_type_script_setup_true_lang-D9DEOOtU-DT4U9cv3.js";import{h}from"./helper-CaHhXSPV.js";import{U as V}from"./Url-DphOvpIq.js";import{d as b}from"./utils-BXWzvTjY.js";import"./I18N-DlIXJTel.js";import"./_commonjsHelpers-CE1G-McA.js";import"./ConditionalWrapper.vue_vue_type_script_lang-IX_NpHH--B1-KiooU.js";import"./helper-DO3U350M.js";import"./BFormGroup.vue_vue_type_script_setup_true_lang-RIWLdYTY-Da2FjZq1.js";import"./useStateClass-BGbSLWFN-lMazZNQ7.js";import"./BInputGroupText.vue_vue_type_script_setup_true_lang-BBN5F0A4-MNK1xO_v.js";import"./BFormInput.vue_vue_type_script_setup_true_lang-DRDhfD8d-BfQIOFib.js";import"./debounce-BHqBzJ1a-C7d6vPFW.js";const j={name:"RootStats",components:{StatsChart:K(()=>B(()=>import("./StatsChart-DlDu0V8h.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]))),Url:V},computed:{...x(["conformsTo"]),...w(["root"]),rootUrl(){return this.root?this.root.getAbsoluteUrl():null},hasConformances(){return Array.isArray(this.conformsTo)&&this.conformsTo.length>0},conformances(){if(!this.hasConformances)return null;let e={OGC:{},STAC:{},Other:{}};for(let t of this.conformsTo){let l=this.parseConformance(t);e[l.type][t]=l}for(let t in e)b.size(e[t])===0&&delete e[t];return e},stats(){if(!this.root)return null;let e={"stats:catalogs":{label:this.$t("stacCatalog",2)},"stats:collections":{label:this.$t("stacCollection",2)},"stats:items":{label:this.$t("stacItem",2)}};for(let t in e)if(b.isObject(this.root[t])){let l=Object.assign(e[t],this.root[t]);b.size(l.versions)===1&&(l.version=Object.keys(l.versions)[0],delete l.versions)}else delete e[t];return b.size(e)>0?e:null}},methods:{parseConformance(e){let t=e,l="Other",C=null;if(e.startsWith("http://www.opengis.net/spec/")){l="OGC";let n=e.match(/^http:\/\/www\.opengis\.net\/spec\/([^/]+)\/([^/]+)\/conf\/(.+)$/);if(n){let[,r,k,u]=n;C=k;let m=r.split("-");m.length===3&&m[0]==="ogcapi"?r=`OGC API - ${h.formatKey(m[1])} - Part ${m[2]}`:r==="cql2"?r="CQL2":r=h.formatKey(r),u=h.formatKey(u),t=`${r} - ${u}`}}else if(e.startsWith("https://api.stacspec.org/")){l="STAC";let n=e.match(/^https?:\/\/api\.stacspec\.org\/([^/]+)\/([^/#]+)(?:#(.+))?$/);n&&(C=n[1],t=h.formatKey(n[2]),n[3]&&(t+=" - "+h.formatKey(n[3])))}return{type:l,title:t,version:C}}}},E={class:"root-stats"},I=["title"],L={class:"charts"};function N(e,t,l,C,n,r){const k=O("Url"),u=G,m=O("StatsChart");return o(),i("div",E,[r.rootUrl?(o(),p(k,{key:0,id:"stacUrl",url:r.rootUrl,label:e.$t("source.locatedAt")},null,8,["url","label"])):c("",!0),t[7]||(t[7]=a()),r.hasConformances?(o(),i(y,{key:1},[d("h4",null,f(e.$t("source.conformanceClasses")),1),t[1]||(t[1]=a()),(o(!0),i(y,null,$(r.conformances,(s,v)=>(o(),i("dl",{key:v},[d("dt",null,f(v),1),t[0]||(t[0]=a()),d("dd",null,[d("ul",null,[(o(!0),i(y,null,$(s,(_,A)=>(o(),i("li",{key:A,title:A},[a(f(_.title)+" ",1),_.version?(o(),p(u,{key:0,pill:"",variant:"secondary",class:"ms-1"},{default:U(()=>[a(f(_.version),1)]),_:2},1024)):c("",!0)],8,I))),128))])])]))),128))],64)):c("",!0),t[8]||(t[8]=a()),r.stats?(o(),i(y,{key:2},[d("h4",null,f(e.$t("source.statistics")),1),t[6]||(t[6]=a()),(o(!0),i(y,null,$(r.stats,(s,v)=>(o(),i("dl",{key:v},[d("dt",null,[a(f(s.label)+" ",1),T(u,{pill:"",variant:"primary",class:"ms-1"},{default:U(()=>[a(f(s.count),1)]),_:2},1024),t[2]||(t[2]=a()),s.version?(o(),p(u,{key:0,pill:"",variant:"secondary",class:"ms-1"},{default:U(()=>[a(f(s.version),1)]),_:2},1024)):c("",!0)]),t[5]||(t[5]=a()),d("dd",L,[s.extensions?(o(),p(m,{key:0,type:"extensions",data:s.extensions,count:s.count},null,8,["data","count"])):c("",!0),t[3]||(t[3]=a()),s.assets?(o(),p(m,{key:1,type:"assets",data:s.assets,count:s.count},null,8,["data","count"])):c("",!0),t[4]||(t[4]=a()),!s.version&&s.versions?(o(),p(m,{key:2,type:"versions",data:s.versions,count:s.count},null,8,["data","count"])):c("",!0)])]))),128))],64)):c("",!0)])}const Z=S(j,[["render",N]]);export{Z as default};
//# sourceMappingURL=RootStats-BSGEki_g.js.map
