const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AssetAlternative-CStAa6Nw.js","assets/index-B0VyZQTY.js","assets/utils-UTZ1_q7B.js","assets/_commonjsHelpers-CE1G-McA.js","assets/I18N-DlIXJTel.js","assets/index-tJa7Rfc7.css","assets/formatters-C3IBT5LR.js","assets/helper-DO3U350M.js","assets/datatypes-XrFOh23H.js","assets/Description-DgOsyiqu.js","assets/Description-BJNSZaWm.css","assets/HrefActions-BX94-xmc.js","assets/BListGroupItem.vue_vue_type_script_setup_true_lang-J0Ydbiva-GxnUZ8a0.js","assets/HrefActions-DeDG8trG.css"])))=>i.map(i=>d[i]);
import{bk as F,bl as u,n,p as r,q as i,G as o,L as h,B as v,I as g,ax as A,y as p,H as _,K as c,cL as L,bs as V,bt as M,bu as O}from"./index-B0VyZQTY.js";import{_ as N}from"./BBadge.vue_vue_type_script_setup_true_lang-D9DEOOtU-DVVMGpSB.js";import{_ as R}from"./check-Ct0PTzIf.js";import{_ as j,a as E}from"./chevron-down-DT9ZRwwt.js";import{S as P,f as H}from"./formatters-C3IBT5LR.js";import{j as x}from"./utils-UTZ1_q7B.js";import{_ as I}from"./BAccordion.vue_vue_type_script_setup_true_lang-Ccx3zW5a-BGWfil0A.js";import{_ as K,a as U}from"./BTabs.vue_vue_type_script_setup_true_lang-CU4B0ph2-D-g6ur4Q.js";import"./_commonjsHelpers-CE1G-McA.js";import"./I18N-DlIXJTel.js";import"./ConditionalWrapper.vue_vue_type_script_lang-IX_NpHH--DU1wqtdx.js";import"./helper-DO3U350M.js";import"./datatypes-XrFOh23H.js";import"./BCollapse.vue_vue_type_script_setup_true_lang-BUisG8-R-Cum3YWdY.js";const q={name:"Asset",components:{AssetAlternative:M(()=>O(()=>import("./AssetAlternative-CStAa6Nw.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13]))),BTab:U,BTabs:K,BAccordionItem:I},mixins:[P({formatMediaType:H.formatMediaType})],props:{asset:{type:Object,required:!0},definition:{type:Boolean,default:!1},expand:{type:Boolean,default:null},shown:{type:Boolean,default:!1}},emits:["show"],data(){return{expanded:!1}},computed:{...V(["stateQueryParameters"]),type(){return this.definition?"itemdef":"asset"},uid(){return`${this.type}-${this.asset.getKey().toLowerCase().replace(/[^\w]/g,"-")}`},title(){return this.asset.title||this.asset.getKey()},fileFormat(){return typeof this.asset.type=="string"&&this.asset.type.length>0?this.formatMediaType(this.asset.type):null},shortFileFormat(){return typeof this.asset.type=="string"&&this.asset.type.length>0?this.formatMediaType(this.asset.type,null,{shorten:!0}):null},alternatives(){if(!x.isObject(this.asset.alternate))return{};const t=this.asset.toJSON();delete t.alternate;const e={};for(const s in this.asset.alternate){const f=this.asset.alternate[s],d=Object.assign({},t,f.toJSON());e[s]=new L(d,s,f.getContext())}return e},hasAlternatives(){return x.size(this.alternatives)>0},sortedRoles(){return Array.isArray(this.asset.roles)?[...this.asset.roles].sort((t,e)=>t==="data"?-1:e==="data"?1:t.toLowerCase().localeCompare(e.toLowerCase(),void 0,{sensitivity:"base"})):[]}},created(){if(this.stateQueryParameters[this.type].indexOf(this.uid)>-1){this.expanded=!0;return}typeof this.expand=="boolean"?this.expanded=this.expand:this.expanded=!1},methods:{displayRole(t){let e=`assets.role.${t}`;return this.$te(e)?this.$t(e):t},collapseToggled(t){let e=t?"openCollapsible":"closeCollapsible";this.$store.commit(e,{type:this.type,uid:this.uid})},show(){this.$emit("show",...arguments)}}},z={class:"chevron","aria-hidden":"true"},D={class:"title"},J={class:"badges ms-1"},Q=["innerHTML"];function G(t,e,s,f,d,a){const k=j,S=E,T=R,m=N,y=u("AssetAlternative"),w=u("b-tab"),B=u("b-tabs"),C=u("b-accordion-item");return n(),r(C,{id:a.uid,class:"asset expandable-card",modelValue:d.expanded,"onUpdate:modelValue":[e[0]||(e[0]=l=>d.expanded=l),a.collapseToggled]},{title:i(()=>[p("span",z,[d.expanded?(n(),r(k,{key:0})):(n(),r(S,{key:1}))]),e[4]||(e[4]=o()),p("span",D,_(a.title),1),e[5]||(e[5]=o()),p("div",J,[s.shown?(n(),r(m,{key:0,variant:"success",class:"shown",title:t.$t("assets.currentlyShown")},{default:i(()=>[h(T),o(" "+_(t.$t("assets.shown")),1)]),_:1},8,["title"])):c("",!0),e[1]||(e[1]=o()),s.asset.deprecated?(n(),r(m,{key:1,variant:"warning",class:"deprecated"},{default:i(()=>[o(_(t.$t("deprecated")),1)]),_:1})):c("",!0),e[2]||(e[2]=o()),Array.isArray(s.asset.roles)?(n(!0),v(g,{key:2},A(a.sortedRoles,l=>(n(),r(m,{key:l,variant:l==="data"?"primary":"secondary",class:"role"},{default:i(()=>[o(_(a.displayRole(l)),1)]),_:2},1032,["variant"]))),128)):c("",!0),e[3]||(e[3]=o()),a.shortFileFormat?(n(),r(m,{key:3,variant:"dark",class:"format",title:a.fileFormat},{default:i(()=>[p("span",{innerHTML:a.shortFileFormat},null,8,Q)]),_:1},8,["title"])):c("",!0)])]),default:i(()=>[e[7]||(e[7]=o()),a.hasAlternatives?(n(),r(B,{key:0,"content-class":"mt-3",lazy:""},{default:i(()=>[h(w,{title:s.asset["alternate:name"]||t.$t("assets.alternate.main"),active:""},{default:i(()=>[h(y,{asset:s.asset,shown:s.shown,hasAlternatives:"",onShow:a.show},null,8,["asset","shown","onShow"])]),_:1},8,["title"]),e[6]||(e[6]=o()),(n(!0),v(g,null,A(a.alternatives,(l,b)=>(n(),r(w,{title:l["alternate:name"]||b,key:b},{default:i(()=>[h(y,{asset:l,shown:s.shown,hasAlternatives:"",onShow:a.show},null,8,["asset","shown","onShow"])]),_:2},1032,["title"]))),128))]),_:1})):(n(),r(y,{key:1,asset:s.asset,shown:s.shown,onShow:a.show},null,8,["asset","shown","onShow"]))]),_:1},8,["id","modelValue","onUpdate:modelValue"])}const de=F(q,[["render",G]]);export{de as default};
//# sourceMappingURL=Asset-DFQRWMfz.js.map
