{"version":3,"file":"interface-oGS8rL8M.js","sources":["../../node_modules/@radiantearth/stac-fields/interface.js"],"sourcesContent":["const Registry = require('./registry');\nconst _ = require('./helper');\nconst I18N = require('./I18N');\nconst DataTypes = require('./datatypes');\nconst Formatters = require('./formatters');\n\nfunction formatGrouped(context, data, type, filter, coreKey) {\n\t// Group fields into extensions\n\tlet groups = {};\n\tfor(let field in data) {\n\t\tlet value;\n\t\ttry {\n\t\t\tlet parts = field.split(/:(.*)/);\n\t\t\tif (parts.length === 1) {\n\t\t\t\tparts.unshift(coreKey);\n\t\t\t}\n\t\t\tlet ext = parts[0];\n\t\t\tif (typeof filter === 'function' && !filter(field, [field])) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvalue = data[field];\n\t\t\tlet spec = Registry.getSpecification(field, type);\n\n\t\t\t// Move to another extension (e.g. if no prefix is provided)\n\t\t\tif (spec.ext) {\n\t\t\t\text = spec.ext;\n\t\t\t}\n\n\t\t\t// Special handling for summaries that contain a list with keys (e.g. cube:dimensions, gee:schema)\n\t\t\t// There's usually just a single object included, so get that as value\n\t\t\tlet isSummarizedListWithKeys = false;\n\t\t\tif (type === 'summaries' && spec.listWithKeys && Array.isArray(value) && value.length > 0) {\n\t\t\t\tvalue = value[0];\n\t\t\t\tisSummarizedListWithKeys = true;\n\t\t\t}\n\n\t\t\t// Fill items with missing properties\n\t\t\tlet items = null;\n\t\t\tlet itemOrder = [];\n\t\t\tif (_.isObject(spec.items)) {\n\t\t\t\tlet temp = value;\n\t\t\t\t// Ignore keys for lists that are stored as object (e.g. cube:dimensions)\n\t\t\t\tif (spec.listWithKeys) {\n\t\t\t\t\ttemp = Object.values(temp);\n\t\t\t\t}\n\n\t\t\t\tlet itemFieldNames = [];\n\t\t\t\tif (Array.isArray(temp)) {\n\t\t\t\t\titemFieldNames = _.keysFromListOfObjects(temp);\n\t\t\t\t}\n\t\t\t\telse if (_.isObject(temp)) {\n\t\t\t\t\titemFieldNames = Object.keys(temp);\n\t\t\t\t}\n\n\t\t\t\titems = {};\n\t\t\t\t// Remove fields from list that are not available in the data\n\t\t\t\titemOrder = spec.itemOrder.filter(fieldName => itemFieldNames.includes(fieldName));\n\n\t\t\t\titemFieldNames.forEach(key => {\n\t\t\t\t\tif (typeof spec.items[key] === 'undefined') {\n\t\t\t\t\t\t// Add fields that are not specified in fields.json\n\t\t\t\t\t\titems[key] = {\n\t\t\t\t\t\t\tlabel: _.formatKey(key),\n\t\t\t\t\t\t\texplain: key\n\t\t\t\t\t\t};\n\t\t\t\t\t\t// Place non-specified fields at the end\n\t\t\t\t\t\titemOrder.push(key);\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\t// Clone field spec from fields.json\n\t\t\t\t\t\titems[key] = Object.assign({}, spec.items[key]);\n\t\t\t\t\t\titems[key].label = label(key, spec.items[key]);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\n\t\t\t// Format values\n\t\t\tlet formatted;\n\n\t\t\t// Handle summaries\n\t\t\tif (type === 'summaries') {\n\t\t\t\tif (!isSummarizedListWithKeys && _.isObject(value)) {\n\t\t\t\t\tif (typeof value.minimum !== 'undefined' && typeof value.maximum !== 'undefined') {\n\t\t\t\t\t\tconst formatSummaryValue = x => format(x, field, context, data, spec, filter, [field]);\n\t\t\t\t\t\tif (value.minimum === value.maximum) {\n\t\t\t\t\t\t\tformatted = formatSummaryValue(value.minimum);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (value.minimum === null) {\n\t\t\t\t\t\t\tformatted = `< ${formatSummaryValue(value.maximum)}`;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (value.maximum === null) {\n\t\t\t\t\t\t\tformatted = `> ${formatSummaryValue(value.minimum)}`;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tformatted = `${formatSummaryValue(value.minimum)} â€“ ${formatSummaryValue(value.maximum)}`;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\telse {\n\t\t\t\t\t\tformatted = DataTypes.object(value);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (Registry.externalRenderer && items) {\n\t\t\t\t\tlet formatted = isSummarizedListWithKeys ? Object.assign({}, value) : value.slice(0);\n\t\t\t\t\t// Go through each field's summary\n\t\t\t\t\tfor(let i in formatted) {\n\t\t\t\t\t\tlet result = _.isObject(formatted[i]) ? {} : [];\n\t\t\t\t\t\t// Go through each entry in a field's summary (this is basically a single value as defined in the Item spec)\n\t\t\t\t\t\tfor(let key in items) {\n\t\t\t\t\t\t\tresult[key] = format(formatted[i][key], key, context, data, items[key]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tformatted[i] = result;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse if (Array.isArray(value)) {\n\t\t\t\t\tformatted = _.toList(value, !spec.custom && !spec.items, v => format(v, field, context, data, spec));\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tconsole.warn(`Invalid summary value: ${value}`);\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Fallback to \"normal\" rendering if not handled by summaries yet\n\t\t\tif (typeof formatted === 'undefined') {\n\t\t\t\tformatted = format(value, field, context, data, spec, filter, [field]);\n\t\t\t}\n\n\t\t\t// Add group if missing\n\t\t\tif (!_.isObject(groups[ext])) {\n\t\t\t\tgroups[ext] = {\n\t\t\t\t\textension: ext,\n\t\t\t\t\tlabel: extension(ext),\n\t\t\t\t\tproperties: {}\n\t\t\t\t};\n\t\t\t}\n\n\t\t\tgroups[ext].properties[field] = {\n\t\t\t\tlabel: label(field, spec),\n\t\t\t\tvalue,\n\t\t\t\tformatted,\n\t\t\t\titems,\n\t\t\t\titemOrder,\n\t\t\t\tspec\n\t\t\t};\n\t\t} catch(error) {\n\t\t\tconsole.error(`Field '${field}' with value '${value}' resulted in an error`, error);\n\t\t}\n\t}\n\treturn Object.values(groups).sort((a,b) => I18N.collator.compare(a.extension, b.extension));\n\n}\n\n// For assets (item and collection) and item-assets (extension)\nfunction formatAsset(asset, context, filter = null, coreKey = '') {\n\treturn formatGrouped(context, asset, 'assets', filter, coreKey);\n}\n\n// For links\nfunction formatLink(link, context, filter = null, coreKey = '') {\n\treturn formatGrouped(context, link, 'links', filter, coreKey);\n}\n\n// For Providers\nfunction formatProvider(provider, context, filter = null, coreKey = '') {\n\treturn formatGrouped(context, provider, 'providers', filter, coreKey);\n}\n\n// For Collection summaries\nfunction formatSummaries(collection, filter = null, coreKey = '') {\n\treturn formatGrouped(collection, collection.summaries, 'summaries', filter, coreKey);\n}\n\n// For Collections\nfunction formatCollection(collection, filter = null, coreKey = '') {\n\treturn formatGrouped(collection, collection, 'collection', filter, coreKey);\n}\n\n// For Catalogs\nfunction formatCatalog(catalog, filter = null, coreKey = '') {\n\treturn formatGrouped(catalog, catalog, 'catalog', filter, coreKey);\n}\n\n// For item properties\nfunction formatItemProperties(item, filter = null, coreKey = '') {\n\treturn formatGrouped(item, item.properties, 'metadata', filter, coreKey);\n}\n\nfunction format(value, field, context = null, parent = null, spec = null, filter = null, path = []) {\n\tif (!_.isObject(spec)) {\n\t\tspec = Registry.getSpecification(field);\n\t}\n\n\tif (typeof spec.format === 'string') {\n\t\tlet fn = Formatters[`format${spec.format}`];\n\t\tif (!fn) {\n\t\t\tconsole.warn(`Formatter '${spec.format}' not available.`);\n\t\t}\n\t\treturn fn(value, field, spec, context, parent);\n\t}\n\telse if (typeof spec.formatter === 'function') {\n\t\treturn spec.formatter(value, field, spec, context, parent);\n\t}\n\telse if (_.isObject(spec.mapping)) {\n\t\tlet key = String(value);\n\t\tif (typeof spec.mapping[key] !== 'undefined') {\n\t\t\tvalue = spec.mapping[key];\n\t\t}\n\t\telse if (typeof spec.mapping[key.toLowerCase()] !== 'undefined') {\n\t\t\tvalue = spec.mapping[key.toLowerCase()];\n\t\t}\n\t\telse if (typeof spec.mapping[key.toUpperCase()] !== 'undefined') {\n\t\t\tvalue = spec.mapping[key.toUpperCase()];\n\t\t}\n\t\treturn DataTypes.format(_.t(value), spec.unit);\n\t}\n\telse if (value === null && spec.null) {\n\t\treturn DataTypes.null(spec.null);\n\t}\n\telse if (Array.isArray(value)) {\n\t\tlet callback = (v, i) => format(v, field, context, parent, spec, filter, path.concat([i]));\n\t\tif (typeof filter === 'function' && path.length > 0) {\n\t\t\tvalue = value.filter((v, i) => filter(path[0], path.concat([i])));\n\t\t}\n\t\tif (Registry.externalRenderer && (spec.custom || spec.items)) {\n\t\t\treturn value.map(callback);\n\t\t}\n\t\telse {\n\t\t\treturn _.toList(value, false, callback);\n\t\t}\n\t}\n\telse if (_.isObject(value)) {\n\t\tlet callbackSpec = k => {\n\t\t\tif (_.isObject(spec.items)) {\n\t\t\t\treturn spec.listWithKeys ? {items: spec.items, itemOrder: spec.itemOrder} : spec.items[k];\n\t\t\t}\n\t\t\telse if (_.isObject(spec.properties)) {\n\t\t\t\treturn spec.properties[k];\n\t\t\t}\n\t\t\treturn {};\n\t\t};\n\t\tlet callbackValue = (v, k, p) => format(v, k, context, p, callbackSpec(k), filter, path.concat([k]));\n\t\tif (Registry.externalRenderer && (spec.custom || spec.items || spec.properties)) {\n\t\t\tlet formattedValues = {};\n\t\t\tfor(let key in value) {\n\t\t\t\tif (typeof filter === 'function' && path.length > 0 && !filter(path[0], path.concat([key]))) {\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\t\t\t\tformattedValues[key] = callbackValue(value[key], key, value);\n\t\t\t}\n\t\t\treturn formattedValues;\n\t\t}\n\t\telse {\n\t\t\tlet callbackLabel = k => label(k, callbackSpec(k));\n\t\t\tlet itemOrder = spec.listWithKeys ? [] : spec.itemOrder;\n\t\t\treturn _.toObject(value, callbackValue, callbackLabel, itemOrder, filter, path);\n\t\t}\n\t}\n\telse {\n\t\treturn DataTypes.format(value, spec.unit);\n\t}\n}\n\nfunction label(key, spec = null) {\n\tif (!_.isObject(spec)) {\n\t\tspec = Registry.getSpecification(key);\n\t}\n\tif (_.isObject(spec) && typeof spec.label === 'string') {\n\t\tif (typeof spec.explain === 'string') {\n\t\t\tif (spec.explain.match(/^https?:\\/\\//i)) {\n\t\t\t\treturn _.toLink(spec.explain, _.t(spec.label), \"about\");\n\t\t\t}\n\t\t\telse {\n\t\t\t\treturn _.abbrev(_.t(spec.label), _.t(spec.explain));\n\t\t\t}\n\t\t}\n\t\telse if (typeof spec.label === 'string') {\n\t\t\treturn _.t(spec.label);\n\t\t}\n\t}\n\treturn _.formatKey(key);\n}\n\nfunction extension(key) {\n\treturn label(key, Registry.getExtension(key));\n}\n\nmodule.exports = {\n\tformat,\n\tlabel,\n\textension,\n\tformatCatalog,\n\tformatCollection,\n\tformatSummaries,\n\tformatItemProperties,\n\tformatAsset,\n\tformatLink,\n\tformatProvider,\n\tformatGrouped\n};"],"names":["Registry","require$$0","_","require$$1","I18N","require$$2","DataTypes","require$$3","Formatters","require$$4","formatGrouped","context","data","type","filter","coreKey","groups","field","value","parts","ext","spec","isSummarizedListWithKeys","items","itemOrder","temp","itemFieldNames","fieldName","key","label","formatted","formatSummaryValue","x","format","i","result","v","extension","error","a","b","formatAsset","asset","formatLink","link","formatProvider","provider","formatSummaries","collection","formatCollection","formatCatalog","catalog","formatItemProperties","item","parent","path","fn","callback","callbackSpec","k","callbackValue","p","formattedValues","callbackLabel","_interface"],"mappings":"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","x_google_ignoreList":[0]}