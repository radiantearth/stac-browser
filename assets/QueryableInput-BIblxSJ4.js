const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Description-CgLomT9X.js","assets/_commonjsHelpers-CE1G-McA.js","assets/index-4V-ffF_e.js","assets/utils-BXWzvTjY.js","assets/I18N-DlIXJTel.js","assets/index-BchvTk2E.css","assets/Description-BJNSZaWm.css"])))=>i.map(i=>d[i]);
import{a4 as D,n as l,B as p,y as b,bk as O,bl as u,H as m,G as n,L as d,q as s,I as L,ax as C,p as o,v as _,K as c,_ as B,bt as I,bu as T}from"./index-4V-ffF_e.js";import{a as P}from"./BFormCheckboxGroup.vue_vue_type_script_setup_true_lang-Dx_mpGFE-D8d-yF4L.js";import{_ as N}from"./BFormInput.vue_vue_type_script_setup_true_lang-DRDhfD8d-BfQIOFib.js";import{b as U}from"./BFormSelect.vue_vue_type_script_setup_true_lang-djrVhugk-3qOPanAg.js";import{_ as z}from"./BBadge.vue_vue_type_script_setup_true_lang-D9DEOOtU-DT4U9cv3.js";import{b as F,_ as S}from"./BDropdownText.vue_vue_type_script_setup_true_lang-Cm6QYE9x-CkqsLj0r.js";import{D as j,C as M}from"./SearchFilter-DI9Ohlov.js";import{d as A}from"./utils-BXWzvTjY.js";import"./I18N-DlIXJTel.js";import"./_commonjsHelpers-CE1G-McA.js";import"./BFormRadioGroup.vue_vue_type_script_setup_true_lang-DaMHx4U3-CVtNDUBO.js";import"./useStateClass-BGbSLWFN-lMazZNQ7.js";import"./ConditionalWrapper.vue_vue_type_script_lang-IX_NpHH--B1-KiooU.js";import"./debounce-BHqBzJ1a-C7d6vPFW.js";import"./BForm.vue_vue_type_script_setup_true_lang-u44ElAm9-JOGDlHFc.js";import"./BFormGroup.vue_vue_type_script_setup_true_lang-RIWLdYTY-Da2FjZq1.js";import"./BCard.vue_vue_type_script_setup_true_lang-9RhyvL8I-gB4qpKUU.js";import"./startOfWeek-m7vVpAR3.js";import"./en-US-DRXoBfJp.js";import"./match-DN4VZKeM.js";import"./buildMatchPatternFn-_eSDZv-o.js";import"./Loading-DNWIspeX.js";import"./helper-CaHhXSPV.js";import"./helper-DO3U350M.js";const E={viewBox:"0 0 16 16",width:"1.2em",height:"1.2em"};function Q(a,e){return l(),p("svg",E,[...e[0]||(e[0]=[b("path",{fill:"currentColor",d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293z"},null,-1)])])}const R=D({name:"bi-x-circle-fill",render:Q}),G={name:"QueryableInput",components:{BDropdown:S,BDropdownItemButton:F,Description:I(()=>T(()=>import("./Description-CgLomT9X.js"),__vite__mapDeps([0,1,2,3,4,5,6])))},mixins:[j],props:{value:{},operator:{type:Function,required:!0},queryable:{type:Object,required:!0},cql:{type:Object,required:!0}},emits:["remove-queryable","update:value","update:operator"],computed:{validation(){return this.queryable.isText?{type:"text",minlength:this.schema.minLength,maxlength:this.schema.maxLength,required:this.schema.minLength>0}:this.queryable.isNumeric?{type:"number",number:!0,min:this.schema.minimum,max:this.schema.maximum,step:this.schema.multipleOf||"any"}:{}},schema(){return this.queryable.schema},operators(){return this.queryable.getOperators(this.cql)},queryableOptions(){return this.queryable.isSelection?this.schema.enum.map(a=>({value:a,text:a})):[]}},methods:{iterateOps(){let a=this.operators.findIndex(t=>t===this.operator),e=++a%this.operators.length;this.updateOperator(this.operators[e])},updateValue(a){let e=A.isObject(a)&&"target"in a?a.target.value:a;typeof e=="string"&&this.queryable.is("integer")?e=parseInt(e,10):typeof e=="string"&&this.queryable.is("number")&&(e=parseFloat(e)),this.$emit("update:value",M.create(e))},updateOperator(a){this.$emit("update:operator",a)}}},H={class:"queryable-group"},K={class:"queryable-row"},Y={class:"title"},J={key:0,class:"queryable-help text-muted small"};function W(a,e,t,X,Z,i){const f=z,v=u("b-dropdown-item-button"),q=u("b-dropdown"),h=u("VueDatePicker"),k=U,g=N,x=P,V=R,w=B,y=u("Description");return l(),p("div",H,[b("div",K,[b("span",Y,m(t.queryable.title),1),e[5]||(e[5]=n()),d(q,{size:"sm",class:"op",variant:"dark",split:"",text:t.operator.label,onClick:i.iterateOps},{default:s(()=>[(l(!0),p(L,null,C(i.operators,r=>(l(),o(v,{key:r.SYMBOL,active:r===t.operator,onClick:$=>i.updateOperator(r),"button-class":"d-flex justify-content-between align-items-center"},{default:s(()=>[b("span",null,m(r.longLabel),1),e[4]||(e[4]=n()),d(f,{variant:"dark",class:"ms-2"},{default:s(()=>[n(m(r.label),1)]),_:2},1024)]),_:2},1032,["active","onClick"]))),128))]),_:1},8,["text","onClick"]),e[6]||(e[6]=n()),t.queryable.isTemporal?(l(),o(h,{key:0,class:"value","model-value":t.value?.value,"onUpdate:modelValue":i.updateValue,locale:a.datepickerLang,"week-start":a.weekStartDay,formats:{input:t.queryable.isDateTime?a.dateTimeFormat:a.dateFormat},"close-on-scroll":!1,"time-config":{enableTimePicker:t.queryable.isDateTime,seconds:t.queryable.isDateTime,timePickerInline:!0},"input-attrs":{clearable:!0},"auto-apply":""},null,8,["model-value","onUpdate:modelValue","locale","week-start","formats","time-config"])):t.queryable.isSelection?(l(),o(k,_({key:1,options:i.queryableOptions,size:"sm",class:"value","model-value":t.value.value,"onUpdate:modelValue":e[0]||(e[0]=r=>i.updateValue(r))},i.validation),null,16,["options","model-value"])):t.queryable.isText||t.queryable.isNumeric?(l(),o(g,_({key:2,size:"sm",class:"value","model-value":t.value.value,"onUpdate:modelValue":e[1]||(e[1]=r=>i.updateValue(r))},i.validation),null,16,["model-value"])):t.queryable.isBoolean?(l(),o(x,_({key:3,switch:"",class:"value","model-value":t.value.value,"onUpdate:modelValue":e[2]||(e[2]=r=>i.updateValue(r))},i.validation),{default:s(()=>[n(m(a.$t(`checkbox.${t.value.value}`)),1)]),_:1},16,["model-value"])):c("",!0),e[7]||(e[7]=n()),d(w,{class:"delete",size:"sm",variant:"danger",onClick:e[3]||(e[3]=r=>a.$emit("remove-queryable"))},{default:s(()=>[d(V,{"aria-hidden":"true"})]),_:1})]),e[9]||(e[9]=n()),t.queryable.description||t.operator.description?(l(),p("div",J,[t.operator.description?(l(),o(y,{key:0,description:t.operator.description,inline:""},null,8,["description"])):c("",!0),e[8]||(e[8]=n()),t.queryable.description?(l(),o(y,{key:1,description:t.queryable.description,inline:""},null,8,["description"])):c("",!0)])):c("",!0)])}const Ve=O(G,[["render",W]]);export{Ve as default};
//# sourceMappingURL=QueryableInput-BIblxSJ4.js.map
