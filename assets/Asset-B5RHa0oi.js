const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/AssetAlternative-VhrePFD9.js","assets/index-B3F0456b.js","assets/utils-BXWzvTjY.js","assets/_commonjsHelpers-CE1G-McA.js","assets/I18N-DlIXJTel.js","assets/index-BchvTk2E.css","assets/formatters-4oPpTn9A.js","assets/helper-DO3U350M.js","assets/datatypes-XrFOh23H.js","assets/Description-zh1_Dd5Z.js","assets/Description-BJNSZaWm.css","assets/HrefActions-78L4A4sc.js","assets/BListGroupItem.vue_vue_type_script_setup_true_lang-J0Ydbiva-D3CP9RWR.js","assets/HrefActions-DeDG8trG.css","assets/AssetAlternative-BzzJZEe9.css"])))=>i.map(i=>d[i]);
import{bk as V,bl as m,n,p as r,q as o,G as i,L as u,B as v,I as g,ax as A,y as h,H as p,K as c,bs as L,bt as M,bu as O}from"./index-B3F0456b.js";import{_ as N}from"./BBadge.vue_vue_type_script_setup_true_lang-D9DEOOtU-D6r902T2.js";import{_ as R}from"./check-BmllPsZ3.js";import{_ as E,a as P}from"./chevron-down-za4DsBuR.js";import{S as j,f as H}from"./formatters-4oPpTn9A.js";import{d as k,A as I}from"./utils-BXWzvTjY.js";import{_ as K}from"./BAccordion.vue_vue_type_script_setup_true_lang-Ccx3zW5a-Cb3i65Yt.js";import{b as U}from"./BCard.vue_vue_type_script_setup_true_lang-9RhyvL8I-B_mmN9UZ.js";import{_ as q,a as z}from"./BTabs.vue_vue_type_script_setup_true_lang-CU4B0ph2-DJDzjcBC.js";import"./I18N-DlIXJTel.js";import"./_commonjsHelpers-CE1G-McA.js";import"./ConditionalWrapper.vue_vue_type_script_lang-IX_NpHH--5aly-L7g.js";import"./helper-DO3U350M.js";import"./datatypes-XrFOh23H.js";import"./BCollapse.vue_vue_type_script_setup_true_lang-BUisG8-R-DkzwlOSo.js";const D={name:"Asset",components:{AssetAlternative:M(()=>O(()=>import("./AssetAlternative-VhrePFD9.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14]))),BCard:U,BTab:z,BTabs:q,BAccordionItem:K},mixins:[j({formatMediaType:H.formatMediaType})],props:{asset:{type:Object,required:!0},definition:{type:Boolean,default:!1},expand:{type:Boolean,default:null},shown:{type:Boolean,default:!1}},emits:["show"],data(){return{expanded:!1}},computed:{...L(["stateQueryParameters"]),type(){return this.definition?"itemdef":"asset"},uid(){return`${this.type}-${this.asset.getKey().toLowerCase().replace(/[^\w]/g,"-")}`},title(){return this.asset.title||this.asset.getKey()},fileFormat(){return typeof this.asset.type=="string"&&this.asset.type.length>0?this.formatMediaType(this.asset.type):null},shortFileFormat(){return typeof this.asset.type=="string"&&this.asset.type.length>0?this.formatMediaType(this.asset.type,null,{shorten:!0}):null},alternatives(){if(!k.isObject(this.asset.alternate))return{};const t=this.asset.toJSON();delete t.alternate;const e={};for(const s in this.asset.alternate){const f=this.asset.alternate[s],d=Object.assign({},t,f.toJSON());e[s]=new I(d,s,f.getContext())}return e},hasAlternatives(){return k.size(this.alternatives)>0},sortedRoles(){return Array.isArray(this.asset.roles)?[...this.asset.roles].sort((t,e)=>t==="data"?-1:e==="data"?1:t.toLowerCase().localeCompare(e.toLowerCase(),void 0,{sensitivity:"base"})):[]}},created(){if(this.stateQueryParameters[this.type].indexOf(this.uid)>-1){this.expanded=!0;return}typeof this.expand=="boolean"?this.expanded=this.expand:this.expanded=!1},methods:{displayRole(t){let e=`assets.role.${t}`;return this.$te(e)?this.$t(e):t},collapseToggled(t){let e=t?"openCollapsible":"closeCollapsible";this.$store.commit(e,{type:this.type,uid:this.uid})},show(){this.$emit("show",...arguments)}}},J={class:"chevron","aria-hidden":"true"},Q={class:"title"},G={class:"badges ms-1"},W=["innerHTML"];function X(t,e,s,f,d,a){const x=E,S=P,B=R,_=N,y=m("AssetAlternative"),b=m("b-tab"),C=m("b-tabs"),T=m("b-card"),F=m("b-accordion-item");return n(),r(F,{id:a.uid,modelValue:d.expanded,"onUpdate:modelValue":[e[0]||(e[0]=l=>d.expanded=l),a.collapseToggled],class:"asset","body-class":"asset-body"},{title:o(()=>[h("span",J,[d.expanded?(n(),r(x,{key:0})):(n(),r(S,{key:1}))]),e[4]||(e[4]=i()),h("span",Q,p(a.title),1),e[5]||(e[5]=i()),h("div",G,[s.shown?(n(),r(_,{key:0,variant:"success",class:"shown",title:t.$t("assets.currentlyShown")},{default:o(()=>[u(B),i(" "+p(t.$t("assets.shown")),1)]),_:1},8,["title"])):c("",!0),e[1]||(e[1]=i()),s.asset.deprecated?(n(),r(_,{key:1,variant:"warning",class:"deprecated"},{default:o(()=>[i(p(t.$t("deprecated")),1)]),_:1})):c("",!0),e[2]||(e[2]=i()),Array.isArray(s.asset.roles)?(n(!0),v(g,{key:2},A(a.sortedRoles,l=>(n(),r(_,{key:l,variant:l==="data"?"primary":"secondary",class:"role"},{default:o(()=>[i(p(a.displayRole(l)),1)]),_:2},1032,["variant"]))),128)):c("",!0),e[3]||(e[3]=i()),a.shortFileFormat?(n(),r(_,{key:3,variant:"dark",class:"format",title:a.fileFormat},{default:o(()=>[h("span",{innerHTML:a.shortFileFormat},null,8,W)]),_:1},8,["title"])):c("",!0)])]),default:o(()=>[e[7]||(e[7]=i()),a.hasAlternatives?(n(),r(T,{key:0,"no-body":"",class:"border-0 rounded-0"},{default:o(()=>[u(C,{lazy:"",card:""},{default:o(()=>[u(b,{title:s.asset["alternate:name"]||t.$t("assets.alternate.main"),active:"","no-body":""},{default:o(()=>[u(y,{asset:s.asset,shown:s.shown,hasAlternatives:"",onShow:a.show},null,8,["asset","shown","onShow"])]),_:1},8,["title"]),e[6]||(e[6]=i()),(n(!0),v(g,null,A(a.alternatives,(l,w)=>(n(),r(b,{title:l["alternate:name"]||w,key:w,"no-body":""},{default:o(()=>[u(y,{asset:l,shown:s.shown,hasAlternatives:"",onShow:a.show},null,8,["asset","shown","onShow"])]),_:2},1032,["title"]))),128))]),_:1})]),_:1})):(n(),r(y,{key:1,asset:s.asset,shown:s.shown,onShow:a.show},null,8,["asset","shown","onShow"]))]),_:1},8,["id","modelValue","onUpdate:modelValue"])}const _e=V(D,[["render",X]]);export{_e as default};
//# sourceMappingURL=Asset-B5RHa0oi.js.map
