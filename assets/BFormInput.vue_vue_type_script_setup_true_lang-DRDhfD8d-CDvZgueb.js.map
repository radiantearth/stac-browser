{"version":3,"file":"BFormInput.vue_vue_type_script_setup_true_lang-DRDhfD8d-CDvZgueb.js","sources":["../../node_modules/bootstrap-vue-next/dist/useFormInput-CfzQTcFF.mjs","../../node_modules/bootstrap-vue-next/dist/BFormInput.vue_vue_type_script_setup_true_lang-DRDhfD8d.mjs"],"sourcesContent":["import { ref, inject, computed, onMounted, onActivated, nextTick } from \"vue\";\nimport { u as useAriaInvalid } from \"./useAriaInvalid-BTUbGj3Y.mjs\";\nimport { u as useId } from \"./useId-t29UARy6.mjs\";\nimport { j as useFocus } from \"./index-Bg04zFDG.mjs\";\nimport { k as formGroupKey } from \"./keys-BLeKMItg.mjs\";\nimport { u as useDebounceFn } from \"./debounce-BHqBzJ1a.mjs\";\nimport { u as useStateClass } from \"./useStateClass-BGbSLWFN.mjs\";\nimport { u as useToNumber } from \"./index-wxu-PlLx.mjs\";\nconst normalizeInput = (v, modelModifiers) => {\n  if (v === null) return;\n  let update = v;\n  if (modelModifiers.number && typeof update === \"string\" && update !== \"\") {\n    const parsed = Number.parseFloat(update);\n    update = Number.isNaN(parsed) ? update : parsed;\n  }\n  return update;\n};\nconst useFormInput = (props, input, modelValue, modelModifiers) => {\n  const forceUpdateKey = ref(0);\n  const computedId = useId(() => props.id, \"input\");\n  const debounceNumber = useToNumber(() => props.debounce ?? 0, { nanToZero: true });\n  const debounceMaxWaitNumber = useToNumber(() => props.debounceMaxWait ?? Number.NaN);\n  const formGroupData = inject(formGroupKey, null)?.(computedId);\n  const computedState = computed(\n    () => props.state !== void 0 ? props.state : formGroupData?.state.value ?? null\n  );\n  const computedAriaInvalid = useAriaInvalid(() => props.ariaInvalid, computedState);\n  const stateClass = useStateClass(computedState);\n  const internalUpdateModelValue = useDebounceFn(\n    (value) => {\n      modelValue.value = value;\n    },\n    () => modelModifiers.lazy === true ? 0 : debounceNumber.value,\n    { maxWait: () => modelModifiers.lazy === true ? Number.NaN : debounceMaxWaitNumber.value }\n  );\n  const updateModelValue = (value, force = false, immediate = false) => {\n    if (modelModifiers.lazy === true && force === false) return;\n    if (immediate) {\n      modelValue.value = value;\n    } else {\n      internalUpdateModelValue(value);\n    }\n  };\n  const { focused } = useFocus(input, {\n    initialValue: props.autofocus\n  });\n  const _formatValue = (value, evt, force = false) => {\n    if (props.formatter !== void 0 && (!props.lazyFormatter || force)) {\n      return props.formatter(value, evt);\n    }\n    return value;\n  };\n  onMounted(() => {\n    if (input.value) {\n      input.value.value = modelValue.value?.toString() ?? \"\";\n    }\n  });\n  onActivated(() => {\n    nextTick(() => {\n      if (props.autofocus) {\n        focused.value = true;\n      }\n    });\n  });\n  const onInput = (evt) => {\n    const { value } = evt.target;\n    const formattedValue = _formatValue(value, evt);\n    if (evt.defaultPrevented) {\n      evt.preventDefault();\n      return;\n    }\n    const nextModel = formattedValue;\n    updateModelValue(nextModel);\n  };\n  const onChange = (evt) => {\n    const { value } = evt.target;\n    const formattedValue = _formatValue(value, evt);\n    if (evt.defaultPrevented) {\n      evt.preventDefault();\n      return;\n    }\n    const nextModel = formattedValue;\n    if (modelValue.value !== nextModel) {\n      updateModelValue(formattedValue, true);\n    }\n  };\n  const onBlur = (evt) => {\n    if (!modelModifiers.lazy && !props.lazyFormatter && !modelModifiers.trim && debounceNumber.value <= 0)\n      return;\n    const { value } = evt.target;\n    const formattedValue = _formatValue(value, evt, true);\n    const nextModel = modelModifiers.trim ? formattedValue.trim() : formattedValue;\n    const needsForceUpdate = nextModel.length !== formattedValue.length;\n    internalUpdateModelValue.cancel();\n    if (modelValue.value !== nextModel) {\n      updateModelValue(formattedValue, true, true);\n    }\n    if (modelModifiers.trim && needsForceUpdate) {\n      forceUpdateKey.value = forceUpdateKey.value + 1;\n    }\n  };\n  const focus = () => {\n    if (!props.disabled) {\n      focused.value = true;\n    }\n  };\n  const blur = () => {\n    if (!props.disabled) {\n      focused.value = false;\n    }\n  };\n  return {\n    input,\n    computedId,\n    computedAriaInvalid,\n    onInput,\n    onChange,\n    onBlur,\n    focus,\n    blur,\n    forceUpdateKey,\n    stateClass\n  };\n};\nexport {\n  normalizeInput as n,\n  useFormInput as u\n};\n//# sourceMappingURL=useFormInput-CfzQTcFF.mjs.map\n","import { defineComponent, mergeModels, useModel, useTemplateRef, computed, createElementBlock, openBlock, unref, normalizeClass } from \"vue\";\nimport { u as useDefaults } from \"./useDefaults-DESCdb0p.mjs\";\nimport { n as normalizeInput, u as useFormInput } from \"./useFormInput-CfzQTcFF.mjs\";\nconst _hoisted_1 = [\"id\", \"value\", \"name\", \"form\", \"type\", \"disabled\", \"placeholder\", \"required\", \"autocomplete\", \"readonly\", \"min\", \"max\", \"step\", \"list\", \"aria-required\", \"aria-invalid\"];\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  __name: \"BFormInput\",\n  props: /* @__PURE__ */ mergeModels({\n    max: { default: void 0 },\n    min: { default: void 0 },\n    step: { default: void 0 },\n    type: { default: \"text\" },\n    ariaInvalid: { type: [Boolean, String], default: void 0 },\n    autocomplete: { default: void 0 },\n    autofocus: { type: Boolean, default: false },\n    disabled: { type: Boolean, default: false },\n    form: { default: void 0 },\n    formatter: { type: Function, default: void 0 },\n    id: { default: void 0 },\n    lazyFormatter: { type: Boolean, default: false },\n    list: { default: void 0 },\n    name: { default: void 0 },\n    placeholder: { default: void 0 },\n    plaintext: { type: Boolean, default: false },\n    readonly: { type: Boolean, default: false },\n    required: { type: Boolean, default: false },\n    size: { default: void 0 },\n    state: { type: [Boolean, null], default: void 0 },\n    debounce: { default: 0 },\n    debounceMaxWait: { default: Number.NaN }\n  }, {\n    \"modelValue\": {\n      default: \"\"\n    },\n    \"modelModifiers\": {}\n  }),\n  emits: [\"update:modelValue\"],\n  setup(__props, { expose: __expose }) {\n    const _props = __props;\n    const props = useDefaults(_props, \"BFormInput\");\n    const [modelValue, modelModifiers] = useModel(__props, \"modelValue\", {\n      set: (v) => normalizeInput(v, modelModifiers)\n    });\n    const input = useTemplateRef(\"_input\");\n    const {\n      computedId,\n      computedAriaInvalid,\n      onInput,\n      onChange,\n      onBlur,\n      stateClass,\n      focus,\n      blur,\n      forceUpdateKey\n    } = useFormInput(props, input, modelValue, modelModifiers);\n    const computedClasses = computed(() => {\n      const isRange = props.type === \"range\";\n      const isColor = props.type === \"color\";\n      return [\n        stateClass.value,\n        {\n          \"form-range\": isRange,\n          \"form-control\": isColor || !props.plaintext && !isRange,\n          \"form-control-color\": isColor,\n          \"form-control-plaintext\": props.plaintext && !isRange && !isColor,\n          [`form-control-${props.size}`]: !!props.size\n        }\n      ];\n    });\n    __expose({\n      blur,\n      element: input,\n      focus\n    });\n    return (_ctx, _cache) => {\n      return openBlock(), createElementBlock(\"input\", {\n        id: unref(computedId),\n        ref: \"_input\",\n        key: unref(forceUpdateKey),\n        value: unref(modelValue),\n        class: normalizeClass(computedClasses.value),\n        name: unref(props).name || void 0,\n        form: unref(props).form || void 0,\n        type: unref(props).type,\n        disabled: unref(props).disabled,\n        placeholder: unref(props).placeholder,\n        required: unref(props).required || void 0,\n        autocomplete: unref(props).autocomplete || void 0,\n        readonly: unref(props).readonly || unref(props).plaintext,\n        min: unref(props).min,\n        max: unref(props).max,\n        step: unref(props).step,\n        list: unref(props).type !== \"password\" ? unref(props).list : void 0,\n        \"aria-required\": unref(props).required || void 0,\n        \"aria-invalid\": unref(computedAriaInvalid),\n        onInput: _cache[0] || (_cache[0] = //@ts-ignore\n        (...args) => unref(onInput) && unref(onInput)(...args)),\n        onChange: _cache[1] || (_cache[1] = //@ts-ignore\n        (...args) => unref(onChange) && unref(onChange)(...args)),\n        onBlur: _cache[2] || (_cache[2] = //@ts-ignore\n        (...args) => unref(onBlur) && unref(onBlur)(...args))\n      }, null, 42, _hoisted_1);\n    };\n  }\n});\nexport {\n  _sfc_main as _\n};\n//# sourceMappingURL=BFormInput.vue_vue_type_script_setup_true_lang-DRDhfD8d.mjs.map\n"],"names":["normalizeInput","v","modelModifiers","update","parsed","useFormInput","props","input","modelValue","forceUpdateKey","ref","computedId","useId","debounceNumber","useToNumber","debounceMaxWaitNumber","formGroupData","inject","formGroupKey","computedState","computed","computedAriaInvalid","useAriaInvalid","stateClass","useStateClass","internalUpdateModelValue","useDebounceFn","value","updateModelValue","force","immediate","focused","useFocus","_formatValue","evt","onMounted","onActivated","nextTick","formattedValue","nextModel","needsForceUpdate","_hoisted_1","_sfc_main","defineComponent","mergeModels","__props","__expose","useDefaults","useModel","useTemplateRef","onInput","onChange","onBlur","focus","blur","computedClasses","isRange","isColor","_ctx","_cache","openBlock","createElementBlock","unref","normalizeClass","args"],"mappings":"+RAQK,MAACA,EAAiB,CAACC,EAAGC,IAAmB,CAC5C,GAAID,IAAM,KAAM,OAChB,IAAIE,EAASF,EACb,GAAIC,EAAe,QAAU,OAAOC,GAAW,UAAYA,IAAW,GAAI,CACxE,MAAMC,EAAS,OAAO,WAAWD,CAAM,EACvCA,EAAS,OAAO,MAAMC,CAAM,EAAID,EAASC,CAC3C,CACA,OAAOD,CACT,EACME,EAAe,CAACC,EAAOC,EAAOC,EAAYN,IAAmB,CACjE,MAAMO,EAAiBC,EAAI,CAAC,EACtBC,EAAaC,EAAM,IAAMN,EAAM,GAAI,OAAO,EAC1CO,EAAiBC,EAAY,IAAMR,EAAM,UAAY,EAAG,CAAE,UAAW,GAAM,EAC3ES,EAAwBD,EAAY,IAAMR,EAAM,iBAAmB,OAAO,GAAG,EAC7EU,EAAgBC,EAAOC,EAAc,IAAI,IAAIP,CAAU,EACvDQ,EAAgBC,EACpB,IAAMd,EAAM,QAAU,OAASA,EAAM,MAAQU,GAAe,MAAM,OAAS,IAC/E,EACQK,EAAsBC,EAAe,IAAMhB,EAAM,YAAaa,CAAa,EAC3EI,EAAaC,EAAcL,CAAa,EACxCM,EAA2BC,EAC9BC,GAAU,CACTnB,EAAW,MAAQmB,CACrB,EACA,IAAMzB,EAAe,OAAS,GAAO,EAAIW,EAAe,MACxD,CAAE,QAAS,IAAMX,EAAe,OAAS,GAAO,OAAO,IAAMa,EAAsB,KAAK,CAC5F,EACQa,EAAmB,CAACD,EAAOE,EAAQ,GAAOC,EAAY,KAAU,CAChE5B,EAAe,OAAS,IAAQ2B,IAAU,KAC1CC,EACFtB,EAAW,MAAQmB,EAEnBF,EAAyBE,CAAK,EAElC,EACM,CAAE,QAAAI,CAAO,EAAKC,EAASzB,EAAO,CAClC,aAAcD,EAAM,SACxB,CAAG,EACK2B,EAAe,CAACN,EAAOO,EAAKL,EAAQ,KACpCvB,EAAM,YAAc,SAAW,CAACA,EAAM,eAAiBuB,GAClDvB,EAAM,UAAUqB,EAAOO,CAAG,EAE5BP,EAET,OAAAQ,EAAU,IAAM,CACV5B,EAAM,QACRA,EAAM,MAAM,MAAQC,EAAW,OAAO,SAAQ,GAAM,GAExD,CAAC,EACD4B,EAAY,IAAM,CAChBC,EAAS,IAAM,CACT/B,EAAM,YACRyB,EAAQ,MAAQ,GAEpB,CAAC,CACH,CAAC,EAgDM,CACL,MAAAxB,EACA,WAAAI,EACA,oBAAAU,EACA,QAnDea,GAAQ,CACvB,KAAM,CAAE,MAAAP,GAAUO,EAAI,OAChBI,EAAiBL,EAAaN,EAAOO,CAAG,EAC9C,GAAIA,EAAI,iBAAkB,CACxBA,EAAI,eAAc,EAClB,MACF,CAEAN,EADkBU,CACQ,CAC5B,EA2CE,SA1CgBJ,GAAQ,CACxB,KAAM,CAAE,MAAAP,GAAUO,EAAI,OAChBI,EAAiBL,EAAaN,EAAOO,CAAG,EAC9C,GAAIA,EAAI,iBAAkB,CACxBA,EAAI,eAAc,EAClB,MACF,CACA,MAAMK,EAAYD,EACd9B,EAAW,QAAU+B,GACvBX,EAAiBU,EAAgB,EAAI,CAEzC,EAgCE,OA/BcJ,GAAQ,CACtB,GAAI,CAAChC,EAAe,MAAQ,CAACI,EAAM,eAAiB,CAACJ,EAAe,MAAQW,EAAe,OAAS,EAClG,OACF,KAAM,CAAE,MAAAc,GAAUO,EAAI,OAChBI,EAAiBL,EAAaN,EAAOO,EAAK,EAAI,EAC9CK,EAAYrC,EAAe,KAAOoC,EAAe,KAAI,EAAKA,EAC1DE,EAAmBD,EAAU,SAAWD,EAAe,OAC7Db,EAAyB,OAAM,EAC3BjB,EAAW,QAAU+B,GACvBX,EAAiBU,EAAgB,GAAM,EAAI,EAEzCpC,EAAe,MAAQsC,IACzB/B,EAAe,MAAQA,EAAe,MAAQ,EAElD,EAkBE,MAjBY,IAAM,CACbH,EAAM,WACTyB,EAAQ,MAAQ,GAEpB,EAcE,KAbW,IAAM,CACZzB,EAAM,WACTyB,EAAQ,MAAQ,GAEpB,EAUE,eAAAtB,EACA,WAAAc,CACJ,CACA,ECxHMkB,EAAa,CAAC,KAAM,QAAS,OAAQ,OAAQ,OAAQ,WAAY,cAAe,WAAY,eAAgB,WAAY,MAAO,MAAO,OAAQ,OAAQ,gBAAiB,cAAc,EACrLC,GAA4BC,EAAgB,CAChD,OAAQ,aACR,MAAuBC,EAAY,CACjC,IAAK,CAAE,QAAS,MAAM,EACtB,IAAK,CAAE,QAAS,MAAM,EACtB,KAAM,CAAE,QAAS,MAAM,EACvB,KAAM,CAAE,QAAS,MAAM,EACvB,YAAa,CAAE,KAAM,CAAC,QAAS,MAAM,EAAG,QAAS,MAAM,EACvD,aAAc,CAAE,QAAS,MAAM,EAC/B,UAAW,CAAE,KAAM,QAAS,QAAS,EAAK,EAC1C,SAAU,CAAE,KAAM,QAAS,QAAS,EAAK,EACzC,KAAM,CAAE,QAAS,MAAM,EACvB,UAAW,CAAE,KAAM,SAAU,QAAS,MAAM,EAC5C,GAAI,CAAE,QAAS,MAAM,EACrB,cAAe,CAAE,KAAM,QAAS,QAAS,EAAK,EAC9C,KAAM,CAAE,QAAS,MAAM,EACvB,KAAM,CAAE,QAAS,MAAM,EACvB,YAAa,CAAE,QAAS,MAAM,EAC9B,UAAW,CAAE,KAAM,QAAS,QAAS,EAAK,EAC1C,SAAU,CAAE,KAAM,QAAS,QAAS,EAAK,EACzC,SAAU,CAAE,KAAM,QAAS,QAAS,EAAK,EACzC,KAAM,CAAE,QAAS,MAAM,EACvB,MAAO,CAAE,KAAM,CAAC,QAAS,IAAI,EAAG,QAAS,MAAM,EAC/C,SAAU,CAAE,QAAS,CAAC,EACtB,gBAAiB,CAAE,QAAS,OAAO,GAAG,CAC1C,EAAK,CACD,WAAc,CACZ,QAAS,EACf,EACI,eAAkB,CAAA,CACtB,CAAG,EACD,MAAO,CAAC,mBAAmB,EAC3B,MAAMC,EAAS,CAAE,OAAQC,CAAQ,EAAI,CAEnC,MAAMxC,EAAQyC,EADCF,EACmB,YAAY,EACxC,CAACrC,EAAYN,CAAc,EAAI8C,EAASH,EAAS,aAAc,CACnE,IAAM5C,GAAMD,EAAeC,EAAGC,CAAc,CAClD,CAAK,EACKK,EAAQ0C,EAAe,QAAQ,EAC/B,CACJ,WAAAtC,EACA,oBAAAU,EACA,QAAA6B,EACA,SAAAC,EACA,OAAAC,EACA,WAAA7B,EACA,MAAA8B,EACA,KAAAC,EACA,eAAA7C,CACN,EAAQJ,EAAaC,EAAOC,EAAOC,EAAYN,CAAc,EACnDqD,EAAkBnC,EAAS,IAAM,CACrC,MAAMoC,EAAUlD,EAAM,OAAS,QACzBmD,EAAUnD,EAAM,OAAS,QAC/B,MAAO,CACLiB,EAAW,MACX,CACE,aAAciC,EACd,eAAgBC,GAAW,CAACnD,EAAM,WAAa,CAACkD,EAChD,qBAAsBC,EACtB,yBAA0BnD,EAAM,WAAa,CAACkD,GAAW,CAACC,EAC1D,CAAC,gBAAgBnD,EAAM,IAAI,EAAE,EAAG,CAAC,CAACA,EAAM,IAClD,CACA,CACI,CAAC,EACD,OAAAwC,EAAS,CACP,KAAAQ,EACA,QAAS/C,EACT,MAAA8C,CACN,CAAK,EACM,CAACK,EAAMC,KACLC,EAAS,EAAIC,EAAmB,QAAS,CAC9C,GAAIC,EAAMnD,CAAU,EACpB,IAAK,SACL,IAAKmD,EAAMrD,CAAc,EACzB,MAAOqD,EAAMtD,CAAU,EACvB,MAAOuD,EAAeR,EAAgB,KAAK,EAC3C,KAAMO,EAAMxD,CAAK,EAAE,MAAQ,OAC3B,KAAMwD,EAAMxD,CAAK,EAAE,MAAQ,OAC3B,KAAMwD,EAAMxD,CAAK,EAAE,KACnB,SAAUwD,EAAMxD,CAAK,EAAE,SACvB,YAAawD,EAAMxD,CAAK,EAAE,YAC1B,SAAUwD,EAAMxD,CAAK,EAAE,UAAY,OACnC,aAAcwD,EAAMxD,CAAK,EAAE,cAAgB,OAC3C,SAAUwD,EAAMxD,CAAK,EAAE,UAAYwD,EAAMxD,CAAK,EAAE,UAChD,IAAKwD,EAAMxD,CAAK,EAAE,IAClB,IAAKwD,EAAMxD,CAAK,EAAE,IAClB,KAAMwD,EAAMxD,CAAK,EAAE,KACnB,KAAMwD,EAAMxD,CAAK,EAAE,OAAS,WAAawD,EAAMxD,CAAK,EAAE,KAAO,OAC7D,gBAAiBwD,EAAMxD,CAAK,EAAE,UAAY,OAC1C,eAAgBwD,EAAMzC,CAAmB,EACzC,QAASsC,EAAO,CAAC,IAAMA,EAAO,CAAC,EAC/B,IAAIK,IAASF,EAAMZ,CAAO,GAAKY,EAAMZ,CAAO,EAAE,GAAGc,CAAI,GACrD,SAAUL,EAAO,CAAC,IAAMA,EAAO,CAAC,EAChC,IAAIK,IAASF,EAAMX,CAAQ,GAAKW,EAAMX,CAAQ,EAAE,GAAGa,CAAI,GACvD,OAAQL,EAAO,CAAC,IAAMA,EAAO,CAAC,EAC9B,IAAIK,IAASF,EAAMV,CAAM,GAAKU,EAAMV,CAAM,EAAE,GAAGY,CAAI,EAC3D,EAAS,KAAM,GAAIvB,CAAU,EAE3B,CACF,CAAC","x_google_ignoreList":[0,1]}