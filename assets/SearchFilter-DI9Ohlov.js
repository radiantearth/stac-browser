const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/datepicker-DfUSduTx.js","assets/buildMatchPatternFn-_eSDZv-o.js","assets/datepicker-YfhJ1Gwr.js","assets/de-DQlhbKIT.js","assets/datepicker-BEvijyE4.js","assets/datepicker-C7rMgKby.js","assets/match-DN4VZKeM.js","assets/datepicker-Dvdh3peJ.js","assets/en-US-DRXoBfJp.js","assets/datepicker-Baom71XP.js","assets/datepicker-12UwHVoa.js","assets/datepicker-CSr9teMr.js","assets/match-C3potsOX.js","assets/formatRelative-Dv7OIDgt.js","assets/datepicker-CSulcXBB.js","assets/datepicker-CPCLpoGN.js","assets/datepicker-XwOM_asX.js","assets/datepicker-CjPcGVrk.js","assets/match-CLSMjs3e.js","assets/isSameWeek-dWoegHqV.js","assets/startOfWeek-m7vVpAR3.js","assets/datepicker-Dbtq-1rX.js","assets/datepicker-DpKIUoet.js","assets/datepicker-CCSoOM2w.js","assets/datepicker-CclFEVqS.js","assets/datepicker-C1hmHRXf.js","assets/datepicker-D3y-tlK2.js","assets/QueryableInput-BIblxSJ4.js","assets/index-4V-ffF_e.js","assets/utils-BXWzvTjY.js","assets/_commonjsHelpers-CE1G-McA.js","assets/I18N-DlIXJTel.js","assets/index-BchvTk2E.css","assets/BFormCheckboxGroup.vue_vue_type_script_setup_true_lang-Dx_mpGFE-D8d-yF4L.js","assets/BFormRadioGroup.vue_vue_type_script_setup_true_lang-DaMHx4U3-CVtNDUBO.js","assets/useStateClass-BGbSLWFN-lMazZNQ7.js","assets/ConditionalWrapper.vue_vue_type_script_lang-IX_NpHH--B1-KiooU.js","assets/BFormInput.vue_vue_type_script_setup_true_lang-DRDhfD8d-BfQIOFib.js","assets/debounce-BHqBzJ1a-C7d6vPFW.js","assets/BFormSelect.vue_vue_type_script_setup_true_lang-djrVhugk-3qOPanAg.js","assets/BBadge.vue_vue_type_script_setup_true_lang-D9DEOOtU-DT4U9cv3.js","assets/BDropdownText.vue_vue_type_script_setup_true_lang-Cm6QYE9x-CkqsLj0r.js","assets/BForm.vue_vue_type_script_setup_true_lang-u44ElAm9-JOGDlHFc.js","assets/BFormGroup.vue_vue_type_script_setup_true_lang-RIWLdYTY-Da2FjZq1.js","assets/BCard.vue_vue_type_script_setup_true_lang-9RhyvL8I-gB4qpKUU.js","assets/Loading-DNWIspeX.js","assets/Loading-BLYcl2tz.css","assets/helper-CaHhXSPV.js","assets/helper-DO3U350M.js","assets/QueryableInput-D6doxpgu.css","assets/MapSelect-Dm-OTvFK.js","assets/GeoJSON-BlyzYhKz.js","assets/GeoJSON-Bh2emOAl.css","assets/MapSelect-BYZzzk0X.css","assets/SortButtons-CrEd331B.js","assets/vue-multiselect.esm-ltQr5SYP.js"])))=>i.map(i=>d[i]);
import{cs as er,ct as Ct,bu as Ve,w as it,t as tr,s as h,c as N,Z as xl,cu as Fr,r as ue,cv as Os,W as Cs,cw as _r,d as ze,f as lr,j as Be,n as I,p as xe,aj as Ze,ax as Ye,q as se,C as oe,D as ft,E as Pt,cx as kl,am as Ss,m as Je,a1 as st,bA as gr,B as Z,L as Se,y as we,N as pt,A as be,T as Kr,K as z,cy as Es,aa as _o,i as $s,z as mr,I as $e,H as Fe,F as Ka,ci as Ge,v as bt,G as Ce,cz as Rs,x as In,M as Fn,cg as Ls,a9 as Ys,bs as _l,cA as Is,cB as Ut,bk as Fs,bl as vt,_ as Ns,cC as Bs,cl as Aa,co as Vs,bv as Ao,bp as Hs,cD as qs,br as Ws,bt as Cn}from"./index-4V-ffF_e.js";import{_ as js}from"./BForm.vue_vue_type_script_setup_true_lang-u44ElAm9-JOGDlHFc.js";import{_ as Us}from"./BFormInput.vue_vue_type_script_setup_true_lang-DRDhfD8d-BfQIOFib.js";import{_ as Ks}from"./BBadge.vue_vue_type_script_setup_true_lang-D9DEOOtU-DT4U9cv3.js";import{_ as Gs}from"./BFormRadioGroup.vue_vue_type_script_setup_true_lang-DaMHx4U3-CVtNDUBO.js";import{a as Qs}from"./BFormCheckboxGroup.vue_vue_type_script_setup_true_lang-Dx_mpGFE-D8d-yF4L.js";import{d as zs}from"./BFormGroup.vue_vue_type_script_setup_true_lang-RIWLdYTY-Da2FjZq1.js";import{c as Xs,f as Zs,g as Js,b as eu}from"./BCard.vue_vue_type_script_setup_true_lang-9RhyvL8I-gB4qpKUU.js";import{c as tu,_ as ru}from"./BDropdownText.vue_vue_type_script_setup_true_lang-Cm6QYE9x-CkqsLj0r.js";import{d as ct,o as nu,k as au}from"./utils-BXWzvTjY.js";import{t as ye,c as Ne,s as xt,n as pn,m as ou,g as Gr,a as Al,b as lu,d as iu,e as su}from"./startOfWeek-m7vVpAR3.js";import{e as Dl}from"./en-US-DRXoBfJp.js";import{L as uu}from"./Loading-DNWIspeX.js";import{h as cu}from"./helper-CaHhXSPV.js";const du="\\";function Nr(e){return e.startsWith("\\\\?\\")?e:e.split(du).join("/")}const fu=/^win/.test(globalThis.process?globalThis.process.platform:""),Nn=()=>fu,pu=/\//g,hu=/^(\w{2,}):\/\//i,mu=/~1/g,vu=/~0/g,yu=/^[a-zA-Z]:\\/,gu=[[/\?/g,"%3F"],[/#/g,"%23"]],Da=[/%23/g,"#",/%24/g,"$",/%26/g,"&",/%2C/g,",",/%40/g,"@"],Vn=e=>new URL(e);function Ft(e,t){const r=new URL(Nr(e),"https://aaa.nonexistanturl.com"),n=new URL(Nr(t),r),a=t.match(/(\s*)$/)?.[1]||"";if(n.hostname==="aaa.nonexistanturl.com"){const{pathname:l,search:i,hash:s}=n;return l+i+decodeURIComponent(s)+a}const o=n.toString()+a;if(o.includes("#")){const[l,i]=o.split("#",2);return l+"#"+decodeURIComponent(i||"")}return o}function Zn(){if(typeof window<"u"&&window.location&&window.location.href){const e=window.location.href;if(!e||!e.startsWith("http"))try{return new URL(e),e}catch{return"/"}return e}if(typeof er<"u"&&er.cwd){const e=er.cwd(),t=e.slice(-1);return t==="/"||t==="\\"?e:e+"/"}return"/"}function Tl(e){const t=hu.exec(e||"");if(t)return t[1].toLowerCase()}function wu(e){const t=e.lastIndexOf(".");return t>=0?bu(e.substring(t).toLowerCase()):""}function bu(e){const t=e.indexOf("?");return t>=0&&(e=e.substring(0,t)),e}function hn(e){if(!e)return"#";const t=e.indexOf("#");return t>=0?e.substring(t):"#"}function wt(e){if(!e)return"";const t=e.indexOf("#");return t>=0&&(e=e.substring(0,t)),e}function xu(e){const t=Tl(e);return t==="http"||t==="https"?!0:t===void 0?typeof window<"u":!1}function ku(e){if(!e||typeof e!="string")return!0;const t=e.trim().toLowerCase();if(!t||t.startsWith("javascript:")||t.startsWith("vbscript:")||t.startsWith("data:")||t.startsWith("file:"))return!0;if(typeof window<"u"&&window.location&&window.location.href)return!1;const r=["localhost","127.0.0.1","::1","10.","172.16.","172.17.","172.18.","172.19.","172.20.","172.21.","172.22.","172.23.","172.24.","172.25.","172.26.","172.27.","172.28.","172.29.","172.30.","172.31.","192.168.","169.254.",".local",".internal",".intranet",".corp",".home",".lan"];try{const n=new URL(t.startsWith("//")?"http:"+t:t),a=n.hostname.toLowerCase();for(const l of r)if(a===l||a.startsWith(l)||a.endsWith(l))return!0;if(_u(a))return!0;const o=n.port;if(o&&Au(parseInt(o)))return!0}catch{if(t.startsWith("/")&&!t.startsWith("//"))return!1;for(const n of r)if(t.includes(n))return!0}return!1}function _u(e){const t=/^(\d{1,3})\.(\d{1,3})\.(\d{1,3})\.(\d{1,3})$/,r=e.match(t);if(!r)return!1;const[,n,a,o,l]=r.map(Number);return n>255||a>255||o>255||l>255?!1:n===10||n===127||n===172&&a>=16&&a<=31||n===192&&a===168||n===169&&a===254}function Au(e){return[22,23,25,53,135,139,445,993,995,1433,1521,3306,3389,5432,5900,6379,8080,8443,9200,27017].includes(e)}function Ml(e){if(typeof window<"u"||typeof er<"u"&&er.browser)return!1;const t=Tl(e);return t===void 0||t==="file"}function Du(e){if(Nn()){const t=Zn(),r=e.toUpperCase(),a=Nr(t).toUpperCase(),o=r.includes(a),l=r.includes(a),i=yu.test(e)||e.startsWith("http://")||e.startsWith("https://")||e.startsWith("file://");!(o||l||i)&&!t.startsWith("http")&&(e=((c,f)=>c.endsWith("/")||c.endsWith("\\")?c+f:c+"/"+f)(t,e)),e=Nr(e)}e=encodeURI(e);for(const t of gu)e=e.replace(t[0],t[1]);return e}function Ga(e,t){e=decodeURI(e);for(let n=0;n<Da.length;n+=2)e=e.replace(Da[n],Da[n+1]);let r=e.toLowerCase().startsWith("file://");return r&&(e=e.replace(/^file:\/\//,"").replace(/^\//,""),Nn()&&e[1]==="/"&&(e=`${e[0]}:${e.substring(1)}`),t?e="file:///"+e:(r=!1,e=Nn()?e:"/"+e)),Nn()&&!r&&(e=e.replace(pu,"\\"),e.match(/^[a-z]:\\/i)&&(e=e[0].toUpperCase()+e.substring(1))),e}function Pl(e){return e.length<=1||e[0]!=="#"||e[1]!=="/"?[]:e.slice(2).split("/").map(t=>t.replace(mu,"/").replace(vu,"~"))}const Tu=["function","symbol","undefined"],Mu=["constructor","prototype","__proto__"],Pu=Object.getPrototypeOf({});function Ol(){const e={},t=this;for(const r of Ou(t))if(typeof r=="string"){const n=t[r],a=typeof n;Tu.includes(a)||(e[r]=n)}return e}function Ou(e,t=[]){let r=[];for(;e&&e!==Pu;)r=r.concat(Object.getOwnPropertyNames(e),Object.getOwnPropertySymbols(e)),e=Object.getPrototypeOf(e);const n=new Set(r);for(const a of t.concat(Mu))n.delete(a);return n}class Qt extends Error{name;message;source;path;code;constructor(t,r){super(),this.code="EUNKNOWN",this.name="JSONParserError",this.message=t,this.source=r,this.path=null}toJSON=Ol.bind(this);get footprint(){return`${this.path}+${this.source}+${this.code}+${this.message}`}}class ln extends Error{files;constructor(t){super(),this.files=t,this.name="JSONParserErrorGroup",this.message=`${this.errors.length} error${this.errors.length>1?"s":""} occurred while reading '${Ga(t.$refs._root$Ref.path)}'`}toJSON=Ol.bind(this);static getParserErrors(t){const r=[];for(const n of Object.values(t.$refs._$refs))n.errors&&r.push(...n.errors);return r}get errors(){return ln.getParserErrors(this.files)}}class Br extends Qt{code="EPARSER";name="ParserError";constructor(t,r){super(`Error parsing ${r}: ${t}`,r)}}class Cu extends Qt{code="EUNMATCHEDPARSER";name="UnmatchedParserError";constructor(t){super(`Could not find parser for "${t}"`,t)}}class Vr extends Qt{code="ERESOLVER";name="ResolverError";ioErrorCode;constructor(t,r){super(t.message||`Error reading file "${r}"`,r),"code"in t&&(this.ioErrorCode=String(t.code))}}class Su extends Qt{code="EUNMATCHEDRESOLVER";name="UnmatchedResolverError";constructor(t){super(`Could not find resolver for "${t}"`,t)}}class Eu extends Qt{code="EMISSINGPOINTER";name="MissingPointerError";targetToken;targetRef;targetFound;parentPath;constructor(t,r,n,a,o){super(`Missing $ref pointer "${hn(r)}". Token "${t}" does not exist.`,wt(r)),this.targetToken=t,this.targetRef=n,this.targetFound=a,this.parentPath=o}}class $u extends Qt{code="ETIMEOUT";name="TimeoutError";constructor(t){super(`Dereferencing timeout reached: ${t}ms`)}}class Cl extends Qt{code="EUNMATCHEDRESOLVER";name="InvalidPointerError";constructor(t,r){super(`Invalid $ref pointer "${t}". Pointers must begin with "#/"`,wt(r))}}function mn(e){return e instanceof Qt||e instanceof ln}function Do(e){return e.path===null&&(e.path=[]),e}const $a=Symbol("null"),Ru=/\//g,Lu=/~/g,Yu=/~1/g,Iu=/~0/g;class rt{$ref;path;originalPath;value;circular;indirections;constructor(t,r,n){this.$ref=t,this.path=r,this.originalPath=n||r,this.value=void 0,this.circular=!1,this.indirections=0}resolve(t,r,n){const a=rt.parse(this.path,this.originalPath),o=[];this.value=Mo(t);for(let l=0;l<a.length;l++){Sn(this,r,n)&&(this.path=rt.join(this.path,a.slice(l)));const i=a[l];if(this.value[i]===void 0||this.value[i]===null&&l===a.length-1){let s=!1;for(let u=a.length-1;u>l;u--){const w=a.slice(l,u+1).join("/");if(this.value[w]!==void 0){this.value=this.value[w],l=u,s=!0;break}}if(s)continue;if(i in this.value&&this.value[i]===null){this.value=$a;continue}this.value=null;const c=this.$ref.path||"",f=this.path.replace(c,""),m=rt.join("",o),v=n?.replace(c,"");throw new Eu(i,decodeURI(this.originalPath),f,m,v)}else this.value=this.value[i];o.push(i)}return(!this.value||this.value.$ref&&Ft(this.path,this.value.$ref)!==n)&&Sn(this,r,n),this}set(t,r,n){const a=rt.parse(this.path);let o;if(a.length===0)return this.value=r,r;this.value=Mo(t);for(let l=0;l<a.length-1;l++)Sn(this,n),o=a[l],this.value&&this.value[o]!==void 0?this.value=this.value[o]:this.value=To(this,o,{});return Sn(this,n),o=a[a.length-1],To(this,o,r),t}static parse(t,r){const n=hn(t).substring(1);if(!n)return[];const a=n.split("/");for(let o=0;o<a.length;o++)a[o]=a[o].replace(Yu,"/").replace(Iu,"~");if(a[0]!=="")throw new Cl(n,r===void 0?t:r);return a.slice(1)}static join(t,r){t.indexOf("#")===-1&&(t+="#"),r=Array.isArray(r)?r:[r];for(let n=0;n<r.length;n++){const a=r[n];t+="/"+a.replace(Lu,"~0").replace(Ru,"~1")}return t}}function Sn(e,t,r){if(et.isAllowed$Ref(e.value,t)){const n=Ft(e.path,e.value.$ref);if(n===e.path&&!Fu(r))e.circular=!0;else{const a=e.$ref.$refs._resolve(n,e.path,t);return a===null?!1:(e.indirections+=a.indirections+1,et.isExtended$Ref(e.value)?(e.value=et.dereference(e.value,a.value,t),!1):(e.$ref=a.$ref,e.path=a.path,e.value=a.value,!0))}}}function To(e,t,r){if(e.value&&typeof e.value=="object")t==="-"&&Array.isArray(e.value)?e.value.push(r):e.value[t]=r;else throw new Qt(`Error assigning $ref pointer "${e.path}". 
Cannot set "${t}" of a non-object.`);return r}function Mo(e){if(mn(e))throw e;return e}function Fu(e){return typeof e=="string"&&rt.parse(e).length==0}class et{path;value;$refs;pathType;errors=[];constructor(t){this.$refs=t}addError(t){this.errors===void 0&&(this.errors=[]);const r=this.errors.map(({footprint:n})=>n);"errors"in t&&Array.isArray(t.errors)?this.errors.push(...t.errors.map(Do).filter(({footprint:n})=>!r.includes(n))):(!("footprint"in t)||!r.includes(t.footprint))&&this.errors.push(Do(t))}exists(t,r){try{return this.resolve(t,r),!0}catch{return!1}}get(t,r){return this.resolve(t,r)?.value}resolve(t,r,n,a){const o=new rt(this,t,n);try{const l=o.resolve(this.value,r,a);return l.value===$a&&(l.value=null),l}catch(l){if(!r||!r.continueOnError||!mn(l))throw l;return l.path===null&&(l.path=Pl(hn(a))),l instanceof Cl&&(l.source=decodeURI(wt(a))),this.addError(l),null}}set(t,r){const n=new rt(this,t);this.value=n.set(this.value,r),this.value===$a&&(this.value=null)}static is$Ref(t){return!!t&&typeof t=="object"&&t!==null&&"$ref"in t&&typeof t.$ref=="string"&&t.$ref.length>0}static isExternal$Ref(t){return et.is$Ref(t)&&t.$ref[0]!=="#"}static isAllowed$Ref(t,r){if(this.is$Ref(t)){if(t.$ref.substring(0,2)==="#/"||t.$ref==="#")return!0;if(t.$ref[0]!=="#"&&(!r||r.resolve?.external))return!0}}static isExtended$Ref(t){return et.is$Ref(t)&&Object.keys(t).length>1}static dereference(t,r,n){if(r&&typeof r=="object"&&et.isExtended$Ref(t)){const a={};for(const l of Object.keys(t))l!=="$ref"&&(a[l]=t[l]);const o=n?.dereference?.mergeKeys??!0;for(const l of Object.keys(r)){const i=l;i in a?o&&typeof a[i]=="object"&&a[i]!==null&&typeof r[i]=="object"&&r[i]!==null&&(a[i]=Sl(r[i],a[i])):a[i]=r[i]}return a}else return r}}function Sl(e,t){if(typeof e!="object"||e===null||typeof t!="object"||t===null)return t;const r=Array.isArray(e)?[...e]:{...e};for(const n of Object.keys(t))Array.isArray(t[n])?r[n]=[...t[n]]:typeof t[n]=="object"&&t[n]!==null?r[n]=Sl(e[n],t[n]):r[n]=t[n];return r}class Po{circular;paths(...t){return Oo(this._$refs,t.flat()).map(n=>Nr(n.decoded))}values(...t){const r=this._$refs;return Oo(r,t.flat()).reduce((a,o)=>(a[Nr(o.decoded)]=r[o.encoded].value,a),{})}exists(t,r){try{return this._resolve(t,"",r),!0}catch{return!1}}get(t,r){return this._resolve(t,"",r).value}set(t,r){const n=Ft(this._root$Ref.path,t),a=wt(n),o=this._$refs[a];if(!o)throw new Error(`Error resolving $ref pointer "${t}". 
"${a}" not found.`);o.set(n,r)}_get$Ref(t){t=Ft(this._root$Ref.path,t);const r=wt(t);return this._$refs[r]}_add(t){const r=wt(t),n=new et(this);return n.path=r,this._$refs[r]=n,this._root$Ref=this._root$Ref||n,n}_resolve(t,r,n){const a=Ft(this._root$Ref.path,t),o=wt(a),l=this._$refs[o];if(!l)throw new Error(`Error resolving $ref pointer "${t}". 
"${o}" not found.`);return l.resolve(a,n,t,r)}_$refs={};_root$Ref;constructor(){this.circular=!1,this._$refs={},this._root$Ref=null}toJSON=this.values}function Oo(e,t){let r=Object.keys(e);return t=Array.isArray(t[0])?t[0]:Array.prototype.slice.call(t),t.length>0&&t[0]&&(r=r.filter(n=>t.includes(e[n].pathType))),r.map(n=>({encoded:n,decoded:e[n].pathType==="file"?Ga(n,!0):n}))}function El(e){return Object.keys(e||{}).filter(t=>typeof e[t]=="object").map(t=>(e[t].name=t,e[t]))}function $l(e,t,r,n,a){return e.filter(o=>!!Yl(o,t,r,n,a))}function Rl(e){for(const t of e)t.order=t.order||Number.MAX_SAFE_INTEGER;return e.sort((t,r)=>t.order-r.order)}async function Ll(e,t,r,n){let a,o,l=0;return new Promise((i,s)=>{c();function c(){if(a=e[l++],!a)return s(o);try{const u=Yl(a,t,r,f,n);if(u&&typeof u.then=="function")u.then(m,v);else if(u!==void 0)m(u);else if(l===e.length)throw new Error("No promise has been returned or callback has been called.")}catch(u){v(u)}}function f(u,w){u?v(u):m(w)}function m(u){i({plugin:a,result:u})}function v(u){o={plugin:a,error:u},c()}})}function Yl(e,t,r,n,a){const o=e[t];if(typeof o=="function")return o.apply(e,[r,n,a]);if(!n){if(o instanceof RegExp)return o.test(r.url);if(typeof o=="string")return o===r.extension;if(Array.isArray(o))return o.indexOf(r.extension)!==-1}return o}async function Il(e,t,r){const n=e.indexOf("#");let a="";n>=0&&(a=e.substring(n),e=e.substring(0,n));const o=t._add(e),l={url:e,hash:a,extension:wu(e)};try{const i=await Nu(l,r,t);o.pathType=i.plugin.name,l.data=i.result;const s=await Bu(l,r,t);return o.value=s.result,s.result}catch(i){throw mn(i)&&(o.value=i),i}}async function Nu(e,t,r){let n=El(t.resolve);n=$l(n,"canRead",e,void 0,r),Rl(n);try{return await Ll(n,"read",e,r)}catch(a){throw!a&&t.continueOnError?new Su(e.url):!a||!("error"in a)?new SyntaxError(`Unable to resolve $ref pointer "${e.url}"`):a.error instanceof Vr?a.error:new Vr(a,e.url)}}async function Bu(e,t,r){const n=El(t.parse),a=$l(n,"canParse",e),o=a.length>0?a:n;Rl(o);try{const l=await Ll(o,"parse",e,r);if(!l.plugin.allowEmpty&&Vu(l.result))throw new SyntaxError(`Error parsing "${e.url}" as ${l.plugin.name}. 
Parsed value is empty`);return l}catch(l){throw!l&&t.continueOnError?new Cu(e.url):l&&l.message&&l.message.startsWith("Error parsing")?l:!l||!("error"in l)?new SyntaxError(`Unable to parse ${e.url}`):l.error instanceof Br?l.error:new Br(l.error.message,e.url)}}function Vu(e){return e===void 0||typeof e=="object"&&Object.keys(e).length===0||typeof e=="string"&&e.trim().length===0||Ct.isBuffer(e)&&e.length===0}const Hu={order:100,allowEmpty:!0,canParse:".json",allowBOM:!0,async parse(e){let t=e.data;if(Ct.isBuffer(t)&&(t=t.toString()),typeof t=="string"){if(t.trim().length===0)return;try{return JSON.parse(t)}catch(r){if(this.allowBOM)try{const n=t.indexOf("{");return t=t.slice(n),JSON.parse(t)}catch(n){throw new Br(n.message,e.url)}throw new Br(r.message,e.url)}}else return t}};function Fl(e){return typeof e>"u"||e===null}function qu(e){return typeof e=="object"&&e!==null}function Wu(e){return Array.isArray(e)?e:Fl(e)?[]:[e]}function ju(e,t){var r,n,a,o;if(t)for(o=Object.keys(t),r=0,n=o.length;r<n;r+=1)a=o[r],e[a]=t[a];return e}function Uu(e,t){var r="",n;for(n=0;n<t;n+=1)r+=e;return r}function Ku(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}var Gu=Fl,Qu=qu,zu=Wu,Xu=Uu,Zu=Ku,Ju=ju,Qe={isNothing:Gu,isObject:Qu,toArray:zu,repeat:Xu,isNegativeZero:Zu,extend:Ju};function Nl(e,t){var r="",n=e.reason||"(unknown reason)";return e.mark?(e.mark.name&&(r+='in "'+e.mark.name+'" '),r+="("+(e.mark.line+1)+":"+(e.mark.column+1)+")",!t&&e.mark.snippet&&(r+=`

`+e.mark.snippet),n+" "+r):n}function sn(e,t){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=t,this.message=Nl(this,!1),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}sn.prototype=Object.create(Error.prototype);sn.prototype.constructor=sn;sn.prototype.toString=function(t){return this.name+": "+Nl(this,t)};var lt=sn;function Ta(e,t,r,n,a){var o="",l="",i=Math.floor(a/2)-1;return n-t>i&&(o=" ... ",t=n-i+o.length),r-n>i&&(l=" ...",r=n+i-l.length),{str:o+e.slice(t,r).replace(/\t/g,"→")+l,pos:n-t+o.length}}function Ma(e,t){return Qe.repeat(" ",t-e.length)+e}function ec(e,t){if(t=Object.create(t||null),!e.buffer)return null;t.maxLength||(t.maxLength=79),typeof t.indent!="number"&&(t.indent=1),typeof t.linesBefore!="number"&&(t.linesBefore=3),typeof t.linesAfter!="number"&&(t.linesAfter=2);for(var r=/\r?\n|\r|\0/g,n=[0],a=[],o,l=-1;o=r.exec(e.buffer);)a.push(o.index),n.push(o.index+o[0].length),e.position<=o.index&&l<0&&(l=n.length-2);l<0&&(l=n.length-1);var i="",s,c,f=Math.min(e.line+t.linesAfter,a.length).toString().length,m=t.maxLength-(t.indent+f+3);for(s=1;s<=t.linesBefore&&!(l-s<0);s++)c=Ta(e.buffer,n[l-s],a[l-s],e.position-(n[l]-n[l-s]),m),i=Qe.repeat(" ",t.indent)+Ma((e.line-s+1).toString(),f)+" | "+c.str+`
`+i;for(c=Ta(e.buffer,n[l],a[l],e.position,m),i+=Qe.repeat(" ",t.indent)+Ma((e.line+1).toString(),f)+" | "+c.str+`
`,i+=Qe.repeat("-",t.indent+f+3+c.pos)+`^
`,s=1;s<=t.linesAfter&&!(l+s>=a.length);s++)c=Ta(e.buffer,n[l+s],a[l+s],e.position-(n[l]-n[l+s]),m),i+=Qe.repeat(" ",t.indent)+Ma((e.line+s+1).toString(),f)+" | "+c.str+`
`;return i.replace(/\n$/,"")}var tc=ec,rc=["kind","multi","resolve","construct","instanceOf","predicate","represent","representName","defaultStyle","styleAliases"],nc=["scalar","sequence","mapping"];function ac(e){var t={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(n){t[String(n)]=r})}),t}function oc(e,t){if(t=t||{},Object.keys(t).forEach(function(r){if(rc.indexOf(r)===-1)throw new lt('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.options=t,this.tag=e,this.kind=t.kind||null,this.resolve=t.resolve||function(){return!0},this.construct=t.construct||function(r){return r},this.instanceOf=t.instanceOf||null,this.predicate=t.predicate||null,this.represent=t.represent||null,this.representName=t.representName||null,this.defaultStyle=t.defaultStyle||null,this.multi=t.multi||!1,this.styleAliases=ac(t.styleAliases||null),nc.indexOf(this.kind)===-1)throw new lt('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var tt=oc;function Co(e,t){var r=[];return e[t].forEach(function(n){var a=r.length;r.forEach(function(o,l){o.tag===n.tag&&o.kind===n.kind&&o.multi===n.multi&&(a=l)}),r[a]=n}),r}function lc(){var e={scalar:{},sequence:{},mapping:{},fallback:{},multi:{scalar:[],sequence:[],mapping:[],fallback:[]}},t,r;function n(a){a.multi?(e.multi[a.kind].push(a),e.multi.fallback.push(a)):e[a.kind][a.tag]=e.fallback[a.tag]=a}for(t=0,r=arguments.length;t<r;t+=1)arguments[t].forEach(n);return e}function Ra(e){return this.extend(e)}Ra.prototype.extend=function(t){var r=[],n=[];if(t instanceof tt)n.push(t);else if(Array.isArray(t))n=n.concat(t);else if(t&&(Array.isArray(t.implicit)||Array.isArray(t.explicit)))t.implicit&&(r=r.concat(t.implicit)),t.explicit&&(n=n.concat(t.explicit));else throw new lt("Schema.extend argument should be a Type, [ Type ], or a schema definition ({ implicit: [...], explicit: [...] })");r.forEach(function(o){if(!(o instanceof tt))throw new lt("Specified list of YAML types (or a single Type object) contains a non-Type object.");if(o.loadKind&&o.loadKind!=="scalar")throw new lt("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.");if(o.multi)throw new lt("There is a multi type in the implicit list of a schema. Multi tags can only be listed as explicit.")}),n.forEach(function(o){if(!(o instanceof tt))throw new lt("Specified list of YAML types (or a single Type object) contains a non-Type object.")});var a=Object.create(Ra.prototype);return a.implicit=(this.implicit||[]).concat(r),a.explicit=(this.explicit||[]).concat(n),a.compiledImplicit=Co(a,"implicit"),a.compiledExplicit=Co(a,"explicit"),a.compiledTypeMap=lc(a.compiledImplicit,a.compiledExplicit),a};var Bl=Ra,Vl=new tt("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),Hl=new tt("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),ql=new tt("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),Wl=new Bl({explicit:[Vl,Hl,ql]});function ic(e){if(e===null)return!0;var t=e.length;return t===1&&e==="~"||t===4&&(e==="null"||e==="Null"||e==="NULL")}function sc(){return null}function uc(e){return e===null}var jl=new tt("tag:yaml.org,2002:null",{kind:"scalar",resolve:ic,construct:sc,predicate:uc,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"},empty:function(){return""}},defaultStyle:"lowercase"});function cc(e){if(e===null)return!1;var t=e.length;return t===4&&(e==="true"||e==="True"||e==="TRUE")||t===5&&(e==="false"||e==="False"||e==="FALSE")}function dc(e){return e==="true"||e==="True"||e==="TRUE"}function fc(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var Ul=new tt("tag:yaml.org,2002:bool",{kind:"scalar",resolve:cc,construct:dc,predicate:fc,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"});function pc(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function hc(e){return 48<=e&&e<=55}function mc(e){return 48<=e&&e<=57}function vc(e){if(e===null)return!1;var t=e.length,r=0,n=!1,a;if(!t)return!1;if(a=e[r],(a==="-"||a==="+")&&(a=e[++r]),a==="0"){if(r+1===t)return!0;if(a=e[++r],a==="b"){for(r++;r<t;r++)if(a=e[r],a!=="_"){if(a!=="0"&&a!=="1")return!1;n=!0}return n&&a!=="_"}if(a==="x"){for(r++;r<t;r++)if(a=e[r],a!=="_"){if(!pc(e.charCodeAt(r)))return!1;n=!0}return n&&a!=="_"}if(a==="o"){for(r++;r<t;r++)if(a=e[r],a!=="_"){if(!hc(e.charCodeAt(r)))return!1;n=!0}return n&&a!=="_"}}if(a==="_")return!1;for(;r<t;r++)if(a=e[r],a!=="_"){if(!mc(e.charCodeAt(r)))return!1;n=!0}return!(!n||a==="_")}function yc(e){var t=e,r=1,n;if(t.indexOf("_")!==-1&&(t=t.replace(/_/g,"")),n=t[0],(n==="-"||n==="+")&&(n==="-"&&(r=-1),t=t.slice(1),n=t[0]),t==="0")return 0;if(n==="0"){if(t[1]==="b")return r*parseInt(t.slice(2),2);if(t[1]==="x")return r*parseInt(t.slice(2),16);if(t[1]==="o")return r*parseInt(t.slice(2),8)}return r*parseInt(t,10)}function gc(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!Qe.isNegativeZero(e)}var Kl=new tt("tag:yaml.org,2002:int",{kind:"scalar",resolve:vc,construct:yc,predicate:gc,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0o"+e.toString(8):"-0o"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),wc=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function bc(e){return!(e===null||!wc.test(e)||e[e.length-1]==="_")}function xc(e){var t,r;return t=e.replace(/_/g,"").toLowerCase(),r=t[0]==="-"?-1:1,"+-".indexOf(t[0])>=0&&(t=t.slice(1)),t===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:t===".nan"?NaN:r*parseFloat(t,10)}var kc=/^[-+]?[0-9]+e/;function _c(e,t){var r;if(isNaN(e))switch(t){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(t){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(t){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(Qe.isNegativeZero(e))return"-0.0";return r=e.toString(10),kc.test(r)?r.replace("e",".e"):r}function Ac(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||Qe.isNegativeZero(e))}var Gl=new tt("tag:yaml.org,2002:float",{kind:"scalar",resolve:bc,construct:xc,predicate:Ac,represent:_c,defaultStyle:"lowercase"}),Ql=Wl.extend({implicit:[jl,Ul,Kl,Gl]}),zl=Ql,Xl=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),Zl=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function Dc(e){return e===null?!1:Xl.exec(e)!==null||Zl.exec(e)!==null}function Tc(e){var t,r,n,a,o,l,i,s=0,c=null,f,m,v;if(t=Xl.exec(e),t===null&&(t=Zl.exec(e)),t===null)throw new Error("Date resolve error");if(r=+t[1],n=+t[2]-1,a=+t[3],!t[4])return new Date(Date.UTC(r,n,a));if(o=+t[4],l=+t[5],i=+t[6],t[7]){for(s=t[7].slice(0,3);s.length<3;)s+="0";s=+s}return t[9]&&(f=+t[10],m=+(t[11]||0),c=(f*60+m)*6e4,t[9]==="-"&&(c=-c)),v=new Date(Date.UTC(r,n,a,o,l,i,s)),c&&v.setTime(v.getTime()-c),v}function Mc(e){return e.toISOString()}var Jl=new tt("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:Dc,construct:Tc,instanceOf:Date,represent:Mc});function Pc(e){return e==="<<"||e===null}var ei=new tt("tag:yaml.org,2002:merge",{kind:"scalar",resolve:Pc}),Qa=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function Oc(e){if(e===null)return!1;var t,r,n=0,a=e.length,o=Qa;for(r=0;r<a;r++)if(t=o.indexOf(e.charAt(r)),!(t>64)){if(t<0)return!1;n+=6}return n%8===0}function Cc(e){var t,r,n=e.replace(/[\r\n=]/g,""),a=n.length,o=Qa,l=0,i=[];for(t=0;t<a;t++)t%4===0&&t&&(i.push(l>>16&255),i.push(l>>8&255),i.push(l&255)),l=l<<6|o.indexOf(n.charAt(t));return r=a%4*6,r===0?(i.push(l>>16&255),i.push(l>>8&255),i.push(l&255)):r===18?(i.push(l>>10&255),i.push(l>>2&255)):r===12&&i.push(l>>4&255),new Uint8Array(i)}function Sc(e){var t="",r=0,n,a,o=e.length,l=Qa;for(n=0;n<o;n++)n%3===0&&n&&(t+=l[r>>18&63],t+=l[r>>12&63],t+=l[r>>6&63],t+=l[r&63]),r=(r<<8)+e[n];return a=o%3,a===0?(t+=l[r>>18&63],t+=l[r>>12&63],t+=l[r>>6&63],t+=l[r&63]):a===2?(t+=l[r>>10&63],t+=l[r>>4&63],t+=l[r<<2&63],t+=l[64]):a===1&&(t+=l[r>>2&63],t+=l[r<<4&63],t+=l[64],t+=l[64]),t}function Ec(e){return Object.prototype.toString.call(e)==="[object Uint8Array]"}var ti=new tt("tag:yaml.org,2002:binary",{kind:"scalar",resolve:Oc,construct:Cc,predicate:Ec,represent:Sc}),$c=Object.prototype.hasOwnProperty,Rc=Object.prototype.toString;function Lc(e){if(e===null)return!0;var t=[],r,n,a,o,l,i=e;for(r=0,n=i.length;r<n;r+=1){if(a=i[r],l=!1,Rc.call(a)!=="[object Object]")return!1;for(o in a)if($c.call(a,o))if(!l)l=!0;else return!1;if(!l)return!1;if(t.indexOf(o)===-1)t.push(o);else return!1}return!0}function Yc(e){return e!==null?e:[]}var ri=new tt("tag:yaml.org,2002:omap",{kind:"sequence",resolve:Lc,construct:Yc}),Ic=Object.prototype.toString;function Fc(e){if(e===null)return!0;var t,r,n,a,o,l=e;for(o=new Array(l.length),t=0,r=l.length;t<r;t+=1){if(n=l[t],Ic.call(n)!=="[object Object]"||(a=Object.keys(n),a.length!==1))return!1;o[t]=[a[0],n[a[0]]]}return!0}function Nc(e){if(e===null)return[];var t,r,n,a,o,l=e;for(o=new Array(l.length),t=0,r=l.length;t<r;t+=1)n=l[t],a=Object.keys(n),o[t]=[a[0],n[a[0]]];return o}var ni=new tt("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:Fc,construct:Nc}),Bc=Object.prototype.hasOwnProperty;function Vc(e){if(e===null)return!0;var t,r=e;for(t in r)if(Bc.call(r,t)&&r[t]!==null)return!1;return!0}function Hc(e){return e!==null?e:{}}var ai=new tt("tag:yaml.org,2002:set",{kind:"mapping",resolve:Vc,construct:Hc}),za=zl.extend({implicit:[Jl,ei],explicit:[ti,ri,ni,ai]}),nr=Object.prototype.hasOwnProperty,Hn=1,oi=2,li=3,qn=4,Pa=1,qc=2,So=3,Wc=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,jc=/[\x85\u2028\u2029]/,Uc=/[,\[\]\{\}]/,ii=/^(?:!|!!|![a-z\-]+!)$/i,si=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function Eo(e){return Object.prototype.toString.call(e)}function Nt(e){return e===10||e===13}function fr(e){return e===9||e===32}function dt(e){return e===9||e===32||e===10||e===13}function Or(e){return e===44||e===91||e===93||e===123||e===125}function Kc(e){var t;return 48<=e&&e<=57?e-48:(t=e|32,97<=t&&t<=102?t-97+10:-1)}function Gc(e){return e===120?2:e===117?4:e===85?8:0}function Qc(e){return 48<=e&&e<=57?e-48:-1}function $o(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?" ":e===76?"\u2028":e===80?"\u2029":""}function zc(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}function ui(e,t,r){t==="__proto__"?Object.defineProperty(e,t,{configurable:!0,enumerable:!0,writable:!0,value:r}):e[t]=r}var ci=new Array(256),di=new Array(256);for(var Ar=0;Ar<256;Ar++)ci[Ar]=$o(Ar)?1:0,di[Ar]=$o(Ar);function Xc(e,t){this.input=e,this.filename=t.filename||null,this.schema=t.schema||za,this.onWarning=t.onWarning||null,this.legacy=t.legacy||!1,this.json=t.json||!1,this.listener=t.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.firstTabInLine=-1,this.documents=[]}function fi(e,t){var r={name:e.filename,buffer:e.input.slice(0,-1),position:e.position,line:e.line,column:e.position-e.lineStart};return r.snippet=tc(r),new lt(t,r)}function de(e,t){throw fi(e,t)}function Wn(e,t){e.onWarning&&e.onWarning.call(null,fi(e,t))}var Ro={YAML:function(t,r,n){var a,o,l;t.version!==null&&de(t,"duplication of %YAML directive"),n.length!==1&&de(t,"YAML directive accepts exactly one argument"),a=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),a===null&&de(t,"ill-formed argument of the YAML directive"),o=parseInt(a[1],10),l=parseInt(a[2],10),o!==1&&de(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=l<2,l!==1&&l!==2&&Wn(t,"unsupported YAML version of the document")},TAG:function(t,r,n){var a,o;n.length!==2&&de(t,"TAG directive accepts exactly two arguments"),a=n[0],o=n[1],ii.test(a)||de(t,"ill-formed tag handle (first argument) of the TAG directive"),nr.call(t.tagMap,a)&&de(t,'there is a previously declared suffix for "'+a+'" tag handle'),si.test(o)||de(t,"ill-formed tag prefix (second argument) of the TAG directive");try{o=decodeURIComponent(o)}catch{de(t,"tag prefix is malformed: "+o)}t.tagMap[a]=o}};function rr(e,t,r,n){var a,o,l,i;if(t<r){if(i=e.input.slice(t,r),n)for(a=0,o=i.length;a<o;a+=1)l=i.charCodeAt(a),l===9||32<=l&&l<=1114111||de(e,"expected valid JSON character");else Wc.test(i)&&de(e,"the stream contains non-printable characters");e.result+=i}}function Lo(e,t,r,n){var a,o,l,i;for(Qe.isObject(r)||de(e,"cannot merge mappings; the provided source object is unacceptable"),a=Object.keys(r),l=0,i=a.length;l<i;l+=1)o=a[l],nr.call(t,o)||(ui(t,o,r[o]),n[o]=!0)}function Cr(e,t,r,n,a,o,l,i,s){var c,f;if(Array.isArray(a))for(a=Array.prototype.slice.call(a),c=0,f=a.length;c<f;c+=1)Array.isArray(a[c])&&de(e,"nested arrays are not supported inside keys"),typeof a=="object"&&Eo(a[c])==="[object Object]"&&(a[c]="[object Object]");if(typeof a=="object"&&Eo(a)==="[object Object]"&&(a="[object Object]"),a=String(a),t===null&&(t={}),n==="tag:yaml.org,2002:merge")if(Array.isArray(o))for(c=0,f=o.length;c<f;c+=1)Lo(e,t,o[c],r);else Lo(e,t,o,r);else!e.json&&!nr.call(r,a)&&nr.call(t,a)&&(e.line=l||e.line,e.lineStart=i||e.lineStart,e.position=s||e.position,de(e,"duplicated mapping key")),ui(t,a,o),delete r[a];return t}function Xa(e){var t;t=e.input.charCodeAt(e.position),t===10?e.position++:t===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):de(e,"a line break is expected"),e.line+=1,e.lineStart=e.position,e.firstTabInLine=-1}function Ke(e,t,r){for(var n=0,a=e.input.charCodeAt(e.position);a!==0;){for(;fr(a);)a===9&&e.firstTabInLine===-1&&(e.firstTabInLine=e.position),a=e.input.charCodeAt(++e.position);if(t&&a===35)do a=e.input.charCodeAt(++e.position);while(a!==10&&a!==13&&a!==0);if(Nt(a))for(Xa(e),a=e.input.charCodeAt(e.position),n++,e.lineIndent=0;a===32;)e.lineIndent++,a=e.input.charCodeAt(++e.position);else break}return r!==-1&&n!==0&&e.lineIndent<r&&Wn(e,"deficient indentation"),n}function Jn(e){var t=e.position,r;return r=e.input.charCodeAt(t),!!((r===45||r===46)&&r===e.input.charCodeAt(t+1)&&r===e.input.charCodeAt(t+2)&&(t+=3,r=e.input.charCodeAt(t),r===0||dt(r)))}function Za(e,t){t===1?e.result+=" ":t>1&&(e.result+=Qe.repeat(`
`,t-1))}function Zc(e,t,r){var n,a,o,l,i,s,c,f,m=e.kind,v=e.result,u;if(u=e.input.charCodeAt(e.position),dt(u)||Or(u)||u===35||u===38||u===42||u===33||u===124||u===62||u===39||u===34||u===37||u===64||u===96||(u===63||u===45)&&(a=e.input.charCodeAt(e.position+1),dt(a)||r&&Or(a)))return!1;for(e.kind="scalar",e.result="",o=l=e.position,i=!1;u!==0;){if(u===58){if(a=e.input.charCodeAt(e.position+1),dt(a)||r&&Or(a))break}else if(u===35){if(n=e.input.charCodeAt(e.position-1),dt(n))break}else{if(e.position===e.lineStart&&Jn(e)||r&&Or(u))break;if(Nt(u))if(s=e.line,c=e.lineStart,f=e.lineIndent,Ke(e,!1,-1),e.lineIndent>=t){i=!0,u=e.input.charCodeAt(e.position);continue}else{e.position=l,e.line=s,e.lineStart=c,e.lineIndent=f;break}}i&&(rr(e,o,l,!1),Za(e,e.line-s),o=l=e.position,i=!1),fr(u)||(l=e.position+1),u=e.input.charCodeAt(++e.position)}return rr(e,o,l,!1),e.result?!0:(e.kind=m,e.result=v,!1)}function Jc(e,t){var r,n,a;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,n=a=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(rr(e,n,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)n=e.position,e.position++,a=e.position;else return!0;else Nt(r)?(rr(e,n,a,!0),Za(e,Ke(e,!1,t)),n=a=e.position):e.position===e.lineStart&&Jn(e)?de(e,"unexpected end of the document within a single quoted scalar"):(e.position++,a=e.position);de(e,"unexpected end of the stream within a single quoted scalar")}function ed(e,t){var r,n,a,o,l,i;if(i=e.input.charCodeAt(e.position),i!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=n=e.position;(i=e.input.charCodeAt(e.position))!==0;){if(i===34)return rr(e,r,e.position,!0),e.position++,!0;if(i===92){if(rr(e,r,e.position,!0),i=e.input.charCodeAt(++e.position),Nt(i))Ke(e,!1,t);else if(i<256&&ci[i])e.result+=di[i],e.position++;else if((l=Gc(i))>0){for(a=l,o=0;a>0;a--)i=e.input.charCodeAt(++e.position),(l=Kc(i))>=0?o=(o<<4)+l:de(e,"expected hexadecimal character");e.result+=zc(o),e.position++}else de(e,"unknown escape sequence");r=n=e.position}else Nt(i)?(rr(e,r,n,!0),Za(e,Ke(e,!1,t)),r=n=e.position):e.position===e.lineStart&&Jn(e)?de(e,"unexpected end of the document within a double quoted scalar"):(e.position++,n=e.position)}de(e,"unexpected end of the stream within a double quoted scalar")}function td(e,t){var r=!0,n,a,o,l=e.tag,i,s=e.anchor,c,f,m,v,u,w=Object.create(null),b,x,d,p;if(p=e.input.charCodeAt(e.position),p===91)f=93,u=!1,i=[];else if(p===123)f=125,u=!0,i={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=i),p=e.input.charCodeAt(++e.position);p!==0;){if(Ke(e,!0,t),p=e.input.charCodeAt(e.position),p===f)return e.position++,e.tag=l,e.anchor=s,e.kind=u?"mapping":"sequence",e.result=i,!0;r?p===44&&de(e,"expected the node content, but found ','"):de(e,"missed comma between flow collection entries"),x=b=d=null,m=v=!1,p===63&&(c=e.input.charCodeAt(e.position+1),dt(c)&&(m=v=!0,e.position++,Ke(e,!0,t))),n=e.line,a=e.lineStart,o=e.position,Hr(e,t,Hn,!1,!0),x=e.tag,b=e.result,Ke(e,!0,t),p=e.input.charCodeAt(e.position),(v||e.line===n)&&p===58&&(m=!0,p=e.input.charCodeAt(++e.position),Ke(e,!0,t),Hr(e,t,Hn,!1,!0),d=e.result),u?Cr(e,i,w,x,b,d,n,a,o):m?i.push(Cr(e,null,w,x,b,d,n,a,o)):i.push(b),Ke(e,!0,t),p=e.input.charCodeAt(e.position),p===44?(r=!0,p=e.input.charCodeAt(++e.position)):r=!1}de(e,"unexpected end of the stream within a flow collection")}function rd(e,t){var r,n,a=Pa,o=!1,l=!1,i=t,s=0,c=!1,f,m;if(m=e.input.charCodeAt(e.position),m===124)n=!1;else if(m===62)n=!0;else return!1;for(e.kind="scalar",e.result="";m!==0;)if(m=e.input.charCodeAt(++e.position),m===43||m===45)Pa===a?a=m===43?So:qc:de(e,"repeat of a chomping mode identifier");else if((f=Qc(m))>=0)f===0?de(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):l?de(e,"repeat of an indentation width identifier"):(i=t+f-1,l=!0);else break;if(fr(m)){do m=e.input.charCodeAt(++e.position);while(fr(m));if(m===35)do m=e.input.charCodeAt(++e.position);while(!Nt(m)&&m!==0)}for(;m!==0;){for(Xa(e),e.lineIndent=0,m=e.input.charCodeAt(e.position);(!l||e.lineIndent<i)&&m===32;)e.lineIndent++,m=e.input.charCodeAt(++e.position);if(!l&&e.lineIndent>i&&(i=e.lineIndent),Nt(m)){s++;continue}if(e.lineIndent<i){a===So?e.result+=Qe.repeat(`
`,o?1+s:s):a===Pa&&o&&(e.result+=`
`);break}for(n?fr(m)?(c=!0,e.result+=Qe.repeat(`
`,o?1+s:s)):c?(c=!1,e.result+=Qe.repeat(`
`,s+1)):s===0?o&&(e.result+=" "):e.result+=Qe.repeat(`
`,s):e.result+=Qe.repeat(`
`,o?1+s:s),o=!0,l=!0,s=0,r=e.position;!Nt(m)&&m!==0;)m=e.input.charCodeAt(++e.position);rr(e,r,e.position,!1)}return!0}function Yo(e,t){var r,n=e.tag,a=e.anchor,o=[],l,i=!1,s;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=o),s=e.input.charCodeAt(e.position);s!==0&&(e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,de(e,"tab characters must not be used in indentation")),!(s!==45||(l=e.input.charCodeAt(e.position+1),!dt(l))));){if(i=!0,e.position++,Ke(e,!0,-1)&&e.lineIndent<=t){o.push(null),s=e.input.charCodeAt(e.position);continue}if(r=e.line,Hr(e,t,li,!1,!0),o.push(e.result),Ke(e,!0,-1),s=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>t)&&s!==0)de(e,"bad indentation of a sequence entry");else if(e.lineIndent<t)break}return i?(e.tag=n,e.anchor=a,e.kind="sequence",e.result=o,!0):!1}function nd(e,t,r){var n,a,o,l,i,s,c=e.tag,f=e.anchor,m={},v=Object.create(null),u=null,w=null,b=null,x=!1,d=!1,p;if(e.firstTabInLine!==-1)return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=m),p=e.input.charCodeAt(e.position);p!==0;){if(!x&&e.firstTabInLine!==-1&&(e.position=e.firstTabInLine,de(e,"tab characters must not be used in indentation")),n=e.input.charCodeAt(e.position+1),o=e.line,(p===63||p===58)&&dt(n))p===63?(x&&(Cr(e,m,v,u,w,null,l,i,s),u=w=b=null),d=!0,x=!0,a=!0):x?(x=!1,a=!0):de(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,p=n;else{if(l=e.line,i=e.lineStart,s=e.position,!Hr(e,r,oi,!1,!0))break;if(e.line===o){for(p=e.input.charCodeAt(e.position);fr(p);)p=e.input.charCodeAt(++e.position);if(p===58)p=e.input.charCodeAt(++e.position),dt(p)||de(e,"a whitespace character is expected after the key-value separator within a block mapping"),x&&(Cr(e,m,v,u,w,null,l,i,s),u=w=b=null),d=!0,x=!1,a=!1,u=e.tag,w=e.result;else if(d)de(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=c,e.anchor=f,!0}else if(d)de(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=c,e.anchor=f,!0}if((e.line===o||e.lineIndent>t)&&(x&&(l=e.line,i=e.lineStart,s=e.position),Hr(e,t,qn,!0,a)&&(x?w=e.result:b=e.result),x||(Cr(e,m,v,u,w,b,l,i,s),u=w=b=null),Ke(e,!0,-1),p=e.input.charCodeAt(e.position)),(e.line===o||e.lineIndent>t)&&p!==0)de(e,"bad indentation of a mapping entry");else if(e.lineIndent<t)break}return x&&Cr(e,m,v,u,w,null,l,i,s),d&&(e.tag=c,e.anchor=f,e.kind="mapping",e.result=m),d}function ad(e){var t,r=!1,n=!1,a,o,l;if(l=e.input.charCodeAt(e.position),l!==33)return!1;if(e.tag!==null&&de(e,"duplication of a tag property"),l=e.input.charCodeAt(++e.position),l===60?(r=!0,l=e.input.charCodeAt(++e.position)):l===33?(n=!0,a="!!",l=e.input.charCodeAt(++e.position)):a="!",t=e.position,r){do l=e.input.charCodeAt(++e.position);while(l!==0&&l!==62);e.position<e.length?(o=e.input.slice(t,e.position),l=e.input.charCodeAt(++e.position)):de(e,"unexpected end of the stream within a verbatim tag")}else{for(;l!==0&&!dt(l);)l===33&&(n?de(e,"tag suffix cannot contain exclamation marks"):(a=e.input.slice(t-1,e.position+1),ii.test(a)||de(e,"named tag handle cannot contain such characters"),n=!0,t=e.position+1)),l=e.input.charCodeAt(++e.position);o=e.input.slice(t,e.position),Uc.test(o)&&de(e,"tag suffix cannot contain flow indicator characters")}o&&!si.test(o)&&de(e,"tag name cannot contain such characters: "+o);try{o=decodeURIComponent(o)}catch{de(e,"tag name is malformed: "+o)}return r?e.tag=o:nr.call(e.tagMap,a)?e.tag=e.tagMap[a]+o:a==="!"?e.tag="!"+o:a==="!!"?e.tag="tag:yaml.org,2002:"+o:de(e,'undeclared tag handle "'+a+'"'),!0}function od(e){var t,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&de(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),t=e.position;r!==0&&!dt(r)&&!Or(r);)r=e.input.charCodeAt(++e.position);return e.position===t&&de(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(t,e.position),!0}function ld(e){var t,r,n;if(n=e.input.charCodeAt(e.position),n!==42)return!1;for(n=e.input.charCodeAt(++e.position),t=e.position;n!==0&&!dt(n)&&!Or(n);)n=e.input.charCodeAt(++e.position);return e.position===t&&de(e,"name of an alias node must contain at least one character"),r=e.input.slice(t,e.position),nr.call(e.anchorMap,r)||de(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],Ke(e,!0,-1),!0}function Hr(e,t,r,n,a){var o,l,i,s=1,c=!1,f=!1,m,v,u,w,b,x;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,o=l=i=qn===r||li===r,n&&Ke(e,!0,-1)&&(c=!0,e.lineIndent>t?s=1:e.lineIndent===t?s=0:e.lineIndent<t&&(s=-1)),s===1)for(;ad(e)||od(e);)Ke(e,!0,-1)?(c=!0,i=o,e.lineIndent>t?s=1:e.lineIndent===t?s=0:e.lineIndent<t&&(s=-1)):i=!1;if(i&&(i=c||a),(s===1||qn===r)&&(Hn===r||oi===r?b=t:b=t+1,x=e.position-e.lineStart,s===1?i&&(Yo(e,x)||nd(e,x,b))||td(e,b)?f=!0:(l&&rd(e,b)||Jc(e,b)||ed(e,b)?f=!0:ld(e)?(f=!0,(e.tag!==null||e.anchor!==null)&&de(e,"alias node should not have any properties")):Zc(e,b,Hn===r)&&(f=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):s===0&&(f=i&&Yo(e,x))),e.tag===null)e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);else if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&de(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),m=0,v=e.implicitTypes.length;m<v;m+=1)if(w=e.implicitTypes[m],w.resolve(e.result)){e.result=w.construct(e.result),e.tag=w.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else if(e.tag!=="!"){if(nr.call(e.typeMap[e.kind||"fallback"],e.tag))w=e.typeMap[e.kind||"fallback"][e.tag];else for(w=null,u=e.typeMap.multi[e.kind||"fallback"],m=0,v=u.length;m<v;m+=1)if(e.tag.slice(0,u[m].tag.length)===u[m].tag){w=u[m];break}w||de(e,"unknown tag !<"+e.tag+">"),e.result!==null&&w.kind!==e.kind&&de(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+w.kind+'", not "'+e.kind+'"'),w.resolve(e.result,e.tag)?(e.result=w.construct(e.result,e.tag),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):de(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")}return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||f}function id(e){var t=e.position,r,n,a,o=!1,l;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap=Object.create(null),e.anchorMap=Object.create(null);(l=e.input.charCodeAt(e.position))!==0&&(Ke(e,!0,-1),l=e.input.charCodeAt(e.position),!(e.lineIndent>0||l!==37));){for(o=!0,l=e.input.charCodeAt(++e.position),r=e.position;l!==0&&!dt(l);)l=e.input.charCodeAt(++e.position);for(n=e.input.slice(r,e.position),a=[],n.length<1&&de(e,"directive name must not be less than one character in length");l!==0;){for(;fr(l);)l=e.input.charCodeAt(++e.position);if(l===35){do l=e.input.charCodeAt(++e.position);while(l!==0&&!Nt(l));break}if(Nt(l))break;for(r=e.position;l!==0&&!dt(l);)l=e.input.charCodeAt(++e.position);a.push(e.input.slice(r,e.position))}l!==0&&Xa(e),nr.call(Ro,n)?Ro[n](e,n,a):Wn(e,'unknown document directive "'+n+'"')}if(Ke(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,Ke(e,!0,-1)):o&&de(e,"directives end mark is expected"),Hr(e,e.lineIndent-1,qn,!1,!0),Ke(e,!0,-1),e.checkLineBreaks&&jc.test(e.input.slice(t,e.position))&&Wn(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&Jn(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,Ke(e,!0,-1));return}if(e.position<e.length-1)de(e,"end of the stream or a document separator is expected");else return}function pi(e,t){e=String(e),t=t||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new Xc(e,t),n=e.indexOf("\0");for(n!==-1&&(r.position=n,de(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)id(r);return r.documents}function sd(e,t,r){t!==null&&typeof t=="object"&&typeof r>"u"&&(r=t,t=null);var n=pi(e,r);if(typeof t!="function")return n;for(var a=0,o=n.length;a<o;a+=1)t(n[a])}function ud(e,t){var r=pi(e,t);if(r.length!==0){if(r.length===1)return r[0];throw new lt("expected a single document in the stream, but found more")}}var cd=sd,dd=ud,hi={loadAll:cd,load:dd},mi=Object.prototype.toString,vi=Object.prototype.hasOwnProperty,Ja=65279,fd=9,un=10,pd=13,hd=32,md=33,vd=34,La=35,yd=37,gd=38,wd=39,bd=42,yi=44,xd=45,jn=58,kd=61,_d=62,Ad=63,Dd=64,gi=91,wi=93,Td=96,bi=123,Md=124,xi=125,nt={};nt[0]="\\0";nt[7]="\\a";nt[8]="\\b";nt[9]="\\t";nt[10]="\\n";nt[11]="\\v";nt[12]="\\f";nt[13]="\\r";nt[27]="\\e";nt[34]='\\"';nt[92]="\\\\";nt[133]="\\N";nt[160]="\\_";nt[8232]="\\L";nt[8233]="\\P";var Pd=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"],Od=/^[-+]?[0-9_]+(?::[0-9_]+)+(?:\.[0-9_]*)?$/;function Cd(e,t){var r,n,a,o,l,i,s;if(t===null)return{};for(r={},n=Object.keys(t),a=0,o=n.length;a<o;a+=1)l=n[a],i=String(t[l]),l.slice(0,2)==="!!"&&(l="tag:yaml.org,2002:"+l.slice(2)),s=e.compiledTypeMap.fallback[l],s&&vi.call(s.styleAliases,i)&&(i=s.styleAliases[i]),r[l]=i;return r}function Sd(e){var t,r,n;if(t=e.toString(16).toUpperCase(),e<=255)r="x",n=2;else if(e<=65535)r="u",n=4;else if(e<=4294967295)r="U",n=8;else throw new lt("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+Qe.repeat("0",n-t.length)+t}var Ed=1,cn=2;function $d(e){this.schema=e.schema||za,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=Qe.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=Cd(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.quotingType=e.quotingType==='"'?cn:Ed,this.forceQuotes=e.forceQuotes||!1,this.replacer=typeof e.replacer=="function"?e.replacer:null,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function Io(e,t){for(var r=Qe.repeat(" ",t),n=0,a=-1,o="",l,i=e.length;n<i;)a=e.indexOf(`
`,n),a===-1?(l=e.slice(n),n=i):(l=e.slice(n,a+1),n=a+1),l.length&&l!==`
`&&(o+=r),o+=l;return o}function Ya(e,t){return`
`+Qe.repeat(" ",e.indent*t)}function Rd(e,t){var r,n,a;for(r=0,n=e.implicitTypes.length;r<n;r+=1)if(a=e.implicitTypes[r],a.resolve(t))return!0;return!1}function Un(e){return e===hd||e===fd}function dn(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==Ja||65536<=e&&e<=1114111}function Fo(e){return dn(e)&&e!==Ja&&e!==pd&&e!==un}function No(e,t,r){var n=Fo(e),a=n&&!Un(e);return(r?n:n&&e!==yi&&e!==gi&&e!==wi&&e!==bi&&e!==xi)&&e!==La&&!(t===jn&&!a)||Fo(t)&&!Un(t)&&e===La||t===jn&&a}function Ld(e){return dn(e)&&e!==Ja&&!Un(e)&&e!==xd&&e!==Ad&&e!==jn&&e!==yi&&e!==gi&&e!==wi&&e!==bi&&e!==xi&&e!==La&&e!==gd&&e!==bd&&e!==md&&e!==Md&&e!==kd&&e!==_d&&e!==wd&&e!==vd&&e!==yd&&e!==Dd&&e!==Td}function Yd(e){return!Un(e)&&e!==jn}function rn(e,t){var r=e.charCodeAt(t),n;return r>=55296&&r<=56319&&t+1<e.length&&(n=e.charCodeAt(t+1),n>=56320&&n<=57343)?(r-55296)*1024+n-56320+65536:r}function ki(e){var t=/^\n* /;return t.test(e)}var _i=1,Ia=2,Ai=3,Di=4,Mr=5;function Id(e,t,r,n,a,o,l,i){var s,c=0,f=null,m=!1,v=!1,u=n!==-1,w=-1,b=Ld(rn(e,0))&&Yd(rn(e,e.length-1));if(t||l)for(s=0;s<e.length;c>=65536?s+=2:s++){if(c=rn(e,s),!dn(c))return Mr;b=b&&No(c,f,i),f=c}else{for(s=0;s<e.length;c>=65536?s+=2:s++){if(c=rn(e,s),c===un)m=!0,u&&(v=v||s-w-1>n&&e[w+1]!==" ",w=s);else if(!dn(c))return Mr;b=b&&No(c,f,i),f=c}v=v||u&&s-w-1>n&&e[w+1]!==" "}return!m&&!v?b&&!l&&!a(e)?_i:o===cn?Mr:Ia:r>9&&ki(e)?Mr:l?o===cn?Mr:Ia:v?Di:Ai}function Fd(e,t,r,n,a){e.dump=(function(){if(t.length===0)return e.quotingType===cn?'""':"''";if(!e.noCompatMode&&(Pd.indexOf(t)!==-1||Od.test(t)))return e.quotingType===cn?'"'+t+'"':"'"+t+"'";var o=e.indent*Math.max(1,r),l=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-o),i=n||e.flowLevel>-1&&r>=e.flowLevel;function s(c){return Rd(e,c)}switch(Id(t,i,e.indent,l,s,e.quotingType,e.forceQuotes&&!n,a)){case _i:return t;case Ia:return"'"+t.replace(/'/g,"''")+"'";case Ai:return"|"+Bo(t,e.indent)+Vo(Io(t,o));case Di:return">"+Bo(t,e.indent)+Vo(Io(Nd(t,l),o));case Mr:return'"'+Bd(t)+'"';default:throw new lt("impossible error: invalid scalar style")}})()}function Bo(e,t){var r=ki(e)?String(t):"",n=e[e.length-1]===`
`,a=n&&(e[e.length-2]===`
`||e===`
`),o=a?"+":n?"":"-";return r+o+`
`}function Vo(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function Nd(e,t){for(var r=/(\n+)([^\n]*)/g,n=(function(){var c=e.indexOf(`
`);return c=c!==-1?c:e.length,r.lastIndex=c,Ho(e.slice(0,c),t)})(),a=e[0]===`
`||e[0]===" ",o,l;l=r.exec(e);){var i=l[1],s=l[2];o=s[0]===" ",n+=i+(!a&&!o&&s!==""?`
`:"")+Ho(s,t),a=o}return n}function Ho(e,t){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,n,a=0,o,l=0,i=0,s="";n=r.exec(e);)i=n.index,i-a>t&&(o=l>a?l:i,s+=`
`+e.slice(a,o),a=o+1),l=i;return s+=`
`,e.length-a>t&&l>a?s+=e.slice(a,l)+`
`+e.slice(l+1):s+=e.slice(a),s.slice(1)}function Bd(e){for(var t="",r=0,n,a=0;a<e.length;r>=65536?a+=2:a++)r=rn(e,a),n=nt[r],!n&&dn(r)?(t+=e[a],r>=65536&&(t+=e[a+1])):t+=n||Sd(r);return t}function Vd(e,t,r){var n="",a=e.tag,o,l,i;for(o=0,l=r.length;o<l;o+=1)i=r[o],e.replacer&&(i=e.replacer.call(r,String(o),i)),(Kt(e,t,i,!1,!1)||typeof i>"u"&&Kt(e,t,null,!1,!1))&&(n!==""&&(n+=","+(e.condenseFlow?"":" ")),n+=e.dump);e.tag=a,e.dump="["+n+"]"}function qo(e,t,r,n){var a="",o=e.tag,l,i,s;for(l=0,i=r.length;l<i;l+=1)s=r[l],e.replacer&&(s=e.replacer.call(r,String(l),s)),(Kt(e,t+1,s,!0,!0,!1,!0)||typeof s>"u"&&Kt(e,t+1,null,!0,!0,!1,!0))&&((!n||a!=="")&&(a+=Ya(e,t)),e.dump&&un===e.dump.charCodeAt(0)?a+="-":a+="- ",a+=e.dump);e.tag=o,e.dump=a||"[]"}function Hd(e,t,r){var n="",a=e.tag,o=Object.keys(r),l,i,s,c,f;for(l=0,i=o.length;l<i;l+=1)f="",n!==""&&(f+=", "),e.condenseFlow&&(f+='"'),s=o[l],c=r[s],e.replacer&&(c=e.replacer.call(r,s,c)),Kt(e,t,s,!1,!1)&&(e.dump.length>1024&&(f+="? "),f+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),Kt(e,t,c,!1,!1)&&(f+=e.dump,n+=f));e.tag=a,e.dump="{"+n+"}"}function qd(e,t,r,n){var a="",o=e.tag,l=Object.keys(r),i,s,c,f,m,v;if(e.sortKeys===!0)l.sort();else if(typeof e.sortKeys=="function")l.sort(e.sortKeys);else if(e.sortKeys)throw new lt("sortKeys must be a boolean or a function");for(i=0,s=l.length;i<s;i+=1)v="",(!n||a!=="")&&(v+=Ya(e,t)),c=l[i],f=r[c],e.replacer&&(f=e.replacer.call(r,c,f)),Kt(e,t+1,c,!0,!0,!0)&&(m=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,m&&(e.dump&&un===e.dump.charCodeAt(0)?v+="?":v+="? "),v+=e.dump,m&&(v+=Ya(e,t)),Kt(e,t+1,f,!0,m)&&(e.dump&&un===e.dump.charCodeAt(0)?v+=":":v+=": ",v+=e.dump,a+=v));e.tag=o,e.dump=a||"{}"}function Wo(e,t,r){var n,a,o,l,i,s;for(a=r?e.explicitTypes:e.implicitTypes,o=0,l=a.length;o<l;o+=1)if(i=a[o],(i.instanceOf||i.predicate)&&(!i.instanceOf||typeof t=="object"&&t instanceof i.instanceOf)&&(!i.predicate||i.predicate(t))){if(r?i.multi&&i.representName?e.tag=i.representName(t):e.tag=i.tag:e.tag="?",i.represent){if(s=e.styleMap[i.tag]||i.defaultStyle,mi.call(i.represent)==="[object Function]")n=i.represent(t,s);else if(vi.call(i.represent,s))n=i.represent[s](t,s);else throw new lt("!<"+i.tag+'> tag resolver accepts not "'+s+'" style');e.dump=n}return!0}return!1}function Kt(e,t,r,n,a,o,l){e.tag=null,e.dump=r,Wo(e,r,!1)||Wo(e,r,!0);var i=mi.call(e.dump),s=n,c;n&&(n=e.flowLevel<0||e.flowLevel>t);var f=i==="[object Object]"||i==="[object Array]",m,v;if(f&&(m=e.duplicates.indexOf(r),v=m!==-1),(e.tag!==null&&e.tag!=="?"||v||e.indent!==2&&t>0)&&(a=!1),v&&e.usedDuplicates[m])e.dump="*ref_"+m;else{if(f&&v&&!e.usedDuplicates[m]&&(e.usedDuplicates[m]=!0),i==="[object Object]")n&&Object.keys(e.dump).length!==0?(qd(e,t,e.dump,a),v&&(e.dump="&ref_"+m+e.dump)):(Hd(e,t,e.dump),v&&(e.dump="&ref_"+m+" "+e.dump));else if(i==="[object Array]")n&&e.dump.length!==0?(e.noArrayIndent&&!l&&t>0?qo(e,t-1,e.dump,a):qo(e,t,e.dump,a),v&&(e.dump="&ref_"+m+e.dump)):(Vd(e,t,e.dump),v&&(e.dump="&ref_"+m+" "+e.dump));else if(i==="[object String]")e.tag!=="?"&&Fd(e,e.dump,t,o,s);else{if(i==="[object Undefined]")return!1;if(e.skipInvalid)return!1;throw new lt("unacceptable kind of an object to dump "+i)}e.tag!==null&&e.tag!=="?"&&(c=encodeURI(e.tag[0]==="!"?e.tag.slice(1):e.tag).replace(/!/g,"%21"),e.tag[0]==="!"?c="!"+c:c.slice(0,18)==="tag:yaml.org,2002:"?c="!!"+c.slice(18):c="!<"+c+">",e.dump=c+" "+e.dump)}return!0}function Wd(e,t){var r=[],n=[],a,o;for(Fa(e,r,n),a=0,o=n.length;a<o;a+=1)t.duplicates.push(r[n[a]]);t.usedDuplicates=new Array(o)}function Fa(e,t,r){var n,a,o;if(e!==null&&typeof e=="object")if(a=t.indexOf(e),a!==-1)r.indexOf(a)===-1&&r.push(a);else if(t.push(e),Array.isArray(e))for(a=0,o=e.length;a<o;a+=1)Fa(e[a],t,r);else for(n=Object.keys(e),a=0,o=n.length;a<o;a+=1)Fa(e[n[a]],t,r)}function jd(e,t){t=t||{};var r=new $d(t);r.noRefs||Wd(e,r);var n=e;return r.replacer&&(n=r.replacer.call({"":n},"",n)),Kt(r,0,n,!0,!0)?r.dump+`
`:""}var Ud=jd,Kd={dump:Ud};function eo(e,t){return function(){throw new Error("Function yaml."+e+" is removed in js-yaml 4. Use yaml."+t+" instead, which is now safe by default.")}}var Gd=tt,Qd=Bl,zd=Wl,Ti=Ql,Xd=zl,Zd=za,Jd=hi.load,ef=hi.loadAll,tf=Kd.dump,rf=lt,nf={binary:ti,float:Gl,map:ql,null:jl,pairs:ni,set:ai,timestamp:Jl,bool:Ul,int:Kl,merge:ei,omap:ri,seq:Hl,str:Vl},af=eo("safeLoad","load"),of=eo("safeLoadAll","loadAll"),lf=eo("safeDump","dump"),jo={Type:Gd,Schema:Qd,FAILSAFE_SCHEMA:zd,JSON_SCHEMA:Ti,CORE_SCHEMA:Xd,DEFAULT_SCHEMA:Zd,load:Jd,loadAll:ef,dump:tf,YAMLException:rf,types:nf,safeLoad:af,safeLoadAll:of,safeDump:lf};const sf={order:200,allowEmpty:!0,canParse:[".yaml",".yml",".json"],async parse(e){let t=e.data;if(Ct.isBuffer(t)&&(t=t.toString()),typeof t=="string")try{return jo.load(t,{schema:Ti})}catch{try{return jo.load(t)}catch(r){throw new Br(r?.message||"Parser Error",e.url)}}else return t}},uf=/\.(txt|htm|html|md|xml|js|min|map|css|scss|less|svg)$/i,cf={order:300,allowEmpty:!0,encoding:"utf8",canParse(e){return(typeof e.data=="string"||Ct.isBuffer(e.data))&&uf.test(e.url)},parse(e){if(typeof e.data=="string")return e.data;if(Ct.isBuffer(e.data))return e.data.toString(this.encoding);throw new Br("data is not text",e.url)}},df=/\.(jpeg|jpg|gif|png|bmp|ico)$/i,ff={order:400,allowEmpty:!0,canParse(e){return Ct.isBuffer(e.data)&&df.test(e.url)},parse(e){return Ct.isBuffer(e.data)?e.data:Ct.from(e.data)}},pf={order:100,canRead(e){return Ml(e.url)},async read(e){let t;const r=await Ve(()=>import("./__vite-browser-external-B1O5LaIO.js"),[]);try{t=Ga(e.url)}catch(n){const a=n;throw a.message=`Malformed URI: ${e.url}: ${a.message}`,new Vr(a,e.url)}(t.endsWith("/")||t.endsWith("\\"))&&(t=t.slice(0,-1));try{return await r.promises.readFile(t)}catch(n){const a=n;throw a.message=`Error opening file ${t}: ${a.message}`,new Vr(a,t)}}},hf={order:200,headers:null,timeout:6e4,redirects:5,withCredentials:!1,safeUrlResolver:!0,canRead(e){return xu(e.url)&&(!this.safeUrlResolver||!ku(e.url))},read(e){const t=Vn(e.url);return typeof window<"u"&&!t.protocol&&(t.protocol=Vn(location.href).protocol),Mi(t,this)}};async function Mi(e,t,r){e=Vn(e);const n=r||[];n.push(e.href);try{const a=await mf(e,t);if(a.status>=400){const o=new Error(`HTTP ERROR ${a.status}`);throw o.status=a.status,o}else if(a.status>=300)if(!Number.isNaN(t.redirects)&&n.length>t.redirects){const o=new Error(`Error downloading ${n[0]}. 
Too many redirects: 
  ${n.join(` 
  `)}`);throw o.status=a.status,new Vr(o)}else if(!("location"in a.headers)||!a.headers.location){const o=new Error(`HTTP ${a.status} redirect with no location header`);throw o.status=a.status,o}else{const o=Ft(e.href,a.headers.location);return Mi(o,t,n)}else{if(a.body){const o=await a.arrayBuffer();return Ct.from(o)}return Ct.alloc(0)}}catch(a){const o=a;throw o.message=`Error downloading ${e.href}: ${o.message}`,new Vr(o,e.href)}}async function mf(e,t){let r,n;t.timeout&&typeof AbortController<"u"&&(r=new AbortController,n=setTimeout(()=>r.abort(),t.timeout));const a=await fetch(e,{method:"GET",headers:t.headers||{},credentials:t.withCredentials?"include":"same-origin",signal:r?r.signal:null});return n&&clearTimeout(n),a}const vf=()=>({parse:{json:{...Hu},yaml:{...sf},text:{...cf},binary:{...ff}},resolve:{file:{...pf},http:{...hf},external:!0},continueOnError:!1,bundle:{excludedPathMatcher:()=>!1},dereference:{circular:!0,excludedPathMatcher:()=>!1,referenceResolution:"relative",mergeKeys:!0},mutateInputSchema:!0}),yf=e=>{const t=vf();return e&&Pi(t,e),t};function Pi(e,t){if(Uo(t)){const r=Object.keys(t).filter(n=>!["__proto__","constructor","prototype"].includes(n));for(let n=0;n<r.length;n++){const a=r[n],o=t[a],l=e[a];Uo(o)?e[a]=Pi(l||{},o):o!==void 0&&(e[a]=o)}}return e}function Uo(e){return e&&typeof e=="object"&&!Array.isArray(e)&&!(e instanceof RegExp)&&!(e instanceof Date)}function En(e){let t,r,n,a;const o=Array.prototype.slice.call(e);typeof o[o.length-1]=="function"&&(a=o.pop()),typeof o[0]=="string"?(t=o[0],typeof o[2]=="object"?(r=o[1],n=o[2]):(r=void 0,n=o[1])):(t="",r=o[0],n=o[1]);try{n=yf(n)}catch(l){console.error(`JSON Schema Ref Parser: Error normalizing options: ${l}`)}return!n.mutateInputSchema&&typeof r=="object"&&(r=JSON.parse(JSON.stringify(r))),{path:t,schema:r,options:n,callback:a}}function gf(e,t){if(!t.resolve?.external)return Promise.resolve();try{const r=to(e.schema,e.$refs._root$Ref.path+"#",e.$refs,t);return Promise.all(r)}catch(r){return Promise.reject(r)}}function to(e,t,r,n,a,o){a||=new Set;let l=[];if(e&&typeof e=="object"&&!ArrayBuffer.isView(e)&&!a.has(e)){a.add(e),et.isExternal$Ref(e)&&l.push(wf(e,t,r,n));const i=Object.keys(e);for(const s of i){const c=rt.join(t,s),f=e[s];l=l.concat(to(f,c,r,n,a))}}return l}async function wf(e,t,r,n){const a=n.dereference?.externalReferenceResolution==="root",o=Ft(a?Zn():t,e.$ref),l=wt(o),i=r._$refs[l];if(i)return Promise.resolve(i.value);try{const s=await Il(o,r,n),c=to(s,l+"#",r,n,new Set,!0);return Promise.all(c)}catch(s){if(!n?.continueOnError||!mn(s))throw s;return r._$refs[l]&&(s.source=decodeURI(wt(t)),s.path=Pl(hn(t))),[]}}function bf(e,t){const r=[];ro(e,"schema",e.$refs._root$Ref.path+"#","#",0,r,e.$refs,t),xf(r,t)}function ro(e,t,r,n,a,o,l,i){const s=t===null?e:e[t],c=i.bundle||{},f=c.excludedPathMatcher||(()=>!1);if(s&&typeof s=="object"&&!ArrayBuffer.isView(s)&&!f(n))if(et.isAllowed$Ref(s))Ko(e,t,r,n,a,o,l,i);else{const m=Object.keys(s).sort((v,u)=>v==="definitions"||v==="$defs"?-1:u==="definitions"||u==="$defs"?1:v.length-u.length);for(const v of m){const u=rt.join(r,v),w=rt.join(n,v),b=s[v];et.isAllowed$Ref(b)?Ko(s,v,r,w,a,o,l,i):ro(s,v,u,w,a,o,l,i),b&&typeof b=="object"&&!Array.isArray(b)&&"$ref"in b&&c?.onBundle?.(b.$ref,s[v],s,v)}}}function Ko(e,t,r,n,a,o,l,i){const s=t===null?e:e[t],c=Ft(r,s.$ref),f=l._resolve(c,n,i);if(f===null)return;const v=rt.parse(n).length,u=wt(f.path),w=hn(f.path),b=u!==l._root$Ref.path,x=et.isExtended$Ref(s);a+=f.indirections;const d=kf(o,e,t);if(d)if(v<d.depth||a<d.indirections)_f(o,d);else return;o.push({$ref:s,parent:e,key:t,pathFromRoot:n,depth:v,file:u,hash:w,value:f.value,circular:f.circular,extended:x,external:b,indirections:a}),(!d||b)&&ro(f.value,null,f.path,n,a+1,o,l,i)}function xf(e,t){e.sort((o,l)=>{if(o.file!==l.file)return o.file<l.file?-1:1;if(o.hash!==l.hash)return o.hash<l.hash?-1:1;if(o.circular!==l.circular)return o.circular?-1:1;if(o.extended!==l.extended)return o.extended?1:-1;if(o.indirections!==l.indirections)return o.indirections-l.indirections;if(o.depth!==l.depth)return o.depth-l.depth;{const i=Math.max(o.pathFromRoot.lastIndexOf("/definitions"),o.pathFromRoot.lastIndexOf("/$defs")),s=Math.max(l.pathFromRoot.lastIndexOf("/definitions"),l.pathFromRoot.lastIndexOf("/$defs"));return i!==s?s-i:o.pathFromRoot.length-l.pathFromRoot.length}});let r,n,a;for(const o of e)o.external?o.file===r&&o.hash===n?o.$ref.$ref=a:o.file===r&&o.hash.indexOf(n+"/")===0?o.$ref.$ref=rt.join(a,rt.parse(o.hash.replace(n,"#"))):(r=o.file,n=o.hash,a=o.pathFromRoot,o.$ref=o.parent[o.key]=et.dereference(o.$ref,o.value,t),o.circular&&(o.$ref.$ref=o.pathFromRoot)):o.$ref.$ref=o.hash}function kf(e,t,r){for(const n of e)if(n&&n.parent===t&&n.key===r)return n}function _f(e,t){const r=e.indexOf(t);e.splice(r,1)}function Af(e,t){const r=Date.now(),n=no(e.schema,e.$refs._root$Ref.path,"#",new Set,new Set,new Map,e.$refs,t,r);e.$refs.circular=n.circular,e.schema=n.value}function no(e,t,r,n,a,o,l,i,s){let c;const f={value:e,circular:!1};Qo(s,i);const m=i.dereference||{},v=m.excludedPathMatcher||(()=>!1);if((m?.circular==="ignore"||!a.has(e))&&e&&typeof e=="object"&&!ArrayBuffer.isView(e)&&!v(r)){if(n.add(e),a.add(e),et.isAllowed$Ref(e,i))c=Go(e,t,r,n,a,o,l,i,s),f.circular=c.circular,f.value=c.value;else for(const u of Object.keys(e)){Qo(s,i);const w=rt.join(t,u),b=rt.join(r,u);if(v(b))continue;const x=e[u];let d=!1;if(et.isAllowed$Ref(x,i)){if(c=Go(x,w,b,n,a,o,l,i,s),d=c.circular,e[u]!==c.value){const p=new Map;m?.preservedProperties&&typeof e[u]=="object"&&!Array.isArray(e[u])&&m?.preservedProperties.forEach(g=>{g in e[u]&&p.set(g,e[u][g])}),e[u]=c.value,m?.preservedProperties&&p.size&&typeof e[u]=="object"&&!Array.isArray(e[u])&&p.forEach((g,_)=>{e[u][_]=g}),m?.onDereference?.(x.$ref,e[u],e,u)}}else n.has(x)?d=Bn(w,l,i):(c=no(x,w,b,n,a,o,l,i,s),d=c.circular,e[u]!==c.value&&(e[u]=c.value));f.circular=f.circular||d}n.delete(e)}return f}function Go(e,t,r,n,a,o,l,i,s){const f=et.isExternal$Ref(e)&&i?.dereference?.externalReferenceResolution==="root",m=Ft(f?Zn():t,e.$ref),v=o.get(m);if(v){if(!v.circular){const p=Object.keys(e);if(p.length>1){const g={};for(const _ of p)_!=="$ref"&&!(_ in v.value)&&(g[_]=e[_]);return{circular:v.circular,value:Object.assign({},v.value,g)}}return v}if(typeof v.value=="object"&&"$ref"in v.value&&"$ref"in e){if(v.value.$ref===e.$ref)return Bn(t,l,i),v}else return Bn(t,l,i),v}const u=l._resolve(m,t,i);if(u===null)return{circular:!1,value:null};const w=u.circular;let b=w||n.has(u.value);b&&Bn(t,l,i);let x=et.dereference(e,u.value,i);if(!b){const p=no(x,u.path,r,n,a,o,l,i,s);b=p.circular,x=p.value}b&&!w&&i.dereference?.circular==="ignore"&&(x=e),w&&(x.$ref=r);const d={circular:b,value:x};return Object.keys(e).length===1&&o.set(m,d),d}function Qo(e,t){if(t&&t.timeoutMs&&Date.now()-e>t.timeoutMs)throw new $u(t.timeoutMs)}function Bn(e,t,r){if(t.circular=!0,r?.dereference?.onCircular?.(e),!r.dereference.circular)throw new ReferenceError(`Circular $ref pointer found at ${e}`);return!0}function Df(){return typeof er=="object"&&typeof er.nextTick=="function"?er.nextTick:typeof setImmediate=="function"?setImmediate:function(t){setTimeout(t,0)}}const zo=Df();function At(e,t){if(e){t.then(function(r){zo(function(){e(null,r)})},function(r){zo(function(){e(r)})});return}else return t}class Sr{schema=null;$refs=new Po;async parse(){const t=En(arguments);let r;if(!t.path&&!t.schema){const a=new Error(`Expected a file path, URL, or object. Got ${t.path||t.schema}`);return At(t.callback,Promise.reject(a))}this.schema=null,this.$refs=new Po;let n="http";if(Ml(t.path))t.path=Du(t.path),n="file";else if(!t.path&&t.schema&&"$id"in t.schema&&t.schema.$id){const a=Vn(t.schema.$id),o=a.port??(a.protocol==="https:"?443:80);t.path=`${a.protocol}//${a.hostname}:${o}`}if(t.path=Ft(Zn(),t.path),t.schema&&typeof t.schema=="object"){const a=this.$refs._add(t.path);a.value=t.schema,a.pathType=n,r=Promise.resolve(t.schema)}else r=Il(t.path,this.$refs,t.options);try{const a=await r;if(a!==null&&typeof a=="object"&&!Ct.isBuffer(a))return this.schema=a,At(t.callback,Promise.resolve(this.schema));if(t.options.continueOnError)return this.schema=null,At(t.callback,Promise.resolve(this.schema));throw new SyntaxError(`"${this.$refs._root$Ref.path||a}" is not a valid JSON Schema`)}catch(a){return!t.options.continueOnError||!mn(a)?At(t.callback,Promise.reject(a)):(this.$refs._$refs[wt(t.path)]&&this.$refs._$refs[wt(t.path)].addError(a),At(t.callback,Promise.resolve(null)))}}static parse(){const t=new Sr;return t.parse.apply(t,arguments)}async resolve(){const t=En(arguments);try{return await this.parse(t.path,t.schema,t.options),await gf(this,t.options),Oa(this),At(t.callback,Promise.resolve(this.$refs))}catch(r){return At(t.callback,Promise.reject(r))}}static resolve(){const t=new Sr;return t.resolve.apply(t,arguments)}static bundle(){const t=new Sr;return t.bundle.apply(t,arguments)}async bundle(){const t=En(arguments);try{return await this.resolve(t.path,t.schema,t.options),bf(this,t.options),Oa(this),At(t.callback,Promise.resolve(this.schema))}catch(r){return At(t.callback,Promise.reject(r))}}static dereference(){const t=new Sr;return t.dereference.apply(t,arguments)}async dereference(){const t=En(arguments);try{return await this.resolve(t.path,t.schema,t.options),Af(this,t.options),Oa(this),At(t.callback,Promise.resolve(this.schema))}catch(r){return At(t.callback,Promise.reject(r))}}}function Oa(e){if(ln.getParserErrors(e).length>0)throw new ln(e)}const Tf=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const Mf=Object.prototype.toString,Pf=e=>Mf.call(e)==="[object Object]",$n=()=>{};function Ca(e){return Array.isArray(e)?e:[e]}function Of(e,t,r){return it(e,t,{...r,immediate:!0})}const Oi=Tf?window:void 0;function ht(e){var t;const r=tr(e);return(t=r?.$el)!==null&&t!==void 0?t:r}function Lr(...e){const t=(n,a,o,l)=>(n.addEventListener(a,o,l),()=>n.removeEventListener(a,o,l)),r=N(()=>{const n=Ca(tr(e[0])).filter(a=>a!=null);return n.every(a=>typeof a!="string")?n:void 0});return Of(()=>{var n,a;return[(n=(a=r.value)===null||a===void 0?void 0:a.map(o=>ht(o)))!==null&&n!==void 0?n:[Oi].filter(o=>o!=null),Ca(tr(r.value?e[1]:e[0])),Ca(h(r.value?e[2]:e[1])),tr(r.value?e[3]:e[2])]},([n,a,o,l],i,s)=>{if(!n?.length||!a?.length||!o?.length)return;const c=Pf(l)?{...l}:l,f=n.flatMap(m=>a.flatMap(v=>o.map(u=>t(m,v,u,c))));s(()=>{f.forEach(m=>m())})},{flush:"post"})}function Cf(e,t,r={}){const{window:n=Oi,ignore:a=[],capture:o=!0,detectIframe:l=!1,controls:i=!1}=r;if(!n)return i?{stop:$n,cancel:$n,trigger:$n}:$n;let s=!0;const c=x=>tr(a).some(d=>{if(typeof d=="string")return Array.from(n.document.querySelectorAll(d)).some(p=>p===x.target||x.composedPath().includes(p));{const p=ht(d);return p&&(x.target===p||x.composedPath().includes(p))}});function f(x){const d=tr(x);return d&&d.$.subTree.shapeFlag===16}function m(x,d){const p=tr(x),g=p.$.subTree&&p.$.subTree.children;return g==null||!Array.isArray(g)?!1:g.some(_=>_.el===d.target||d.composedPath().includes(_.el))}const v=x=>{const d=ht(e);if(x.target!=null&&!(!(d instanceof Element)&&f(e)&&m(e,x))&&!(!d||d===x.target||x.composedPath().includes(d))){if("detail"in x&&x.detail===0&&(s=!c(x)),!s){s=!0;return}t(x)}};let u=!1;const w=[Lr(n,"click",x=>{u||(u=!0,setTimeout(()=>{u=!1},0),v(x))},{passive:!0,capture:o}),Lr(n,"pointerdown",x=>{const d=ht(e);s=!c(x)&&!!(d&&!x.composedPath().includes(d))},{passive:!0}),l&&Lr(n,"blur",x=>{setTimeout(()=>{var d;const p=ht(e);((d=n.document.activeElement)===null||d===void 0?void 0:d.tagName)==="IFRAME"&&!p?.contains(n.document.activeElement)&&t(x)},0)},{passive:!0})].filter(Boolean),b=()=>w.forEach(x=>x());return i?{stop:b,cancel:()=>{s=!1},trigger:x=>{s=!0,v(x),s=!1}}:b}function Sf(e,t={}){const{threshold:r=50,onSwipe:n,onSwipeEnd:a,onSwipeStart:o,passive:l=!0}=t,i=Fr({x:0,y:0}),s=Fr({x:0,y:0}),c=N(()=>i.x-s.x),f=N(()=>i.y-s.y),{max:m,abs:v}=Math,u=N(()=>m(v(c.value),v(f.value))>=r),w=xl(!1),b=N(()=>u.value?v(c.value)>v(f.value)?c.value>0?"left":"right":f.value>0?"up":"down":"none"),x=k=>[k.touches[0].clientX,k.touches[0].clientY],d=(k,O)=>{i.x=k,i.y=O},p=(k,O)=>{s.x=k,s.y=O},g={passive:l,capture:!l},_=k=>{w.value&&a?.(k,b.value),w.value=!1},S=[Lr(e,"touchstart",k=>{if(k.touches.length!==1)return;const[O,C]=x(k);d(O,C),p(O,C),o?.(k)},g),Lr(e,"touchmove",k=>{if(k.touches.length!==1)return;const[O,C]=x(k);p(O,C),g.capture&&!g.passive&&Math.abs(c.value)>Math.abs(f.value)&&k.preventDefault(),!w.value&&u.value&&(w.value=!0),w.value&&n?.(k)},g),Lr(e,["touchend","touchcancel"],_,g)];return{isSwiping:w,direction:b,coordsStart:i,coordsEnd:s,lengthX:c,lengthY:f,stop:()=>S.forEach(k=>k())}}const qr=Math.min,pr=Math.max,Kn=Math.round,Rn=Math.floor,Bt=e=>({x:e,y:e}),Ef={left:"right",right:"left",bottom:"top",top:"bottom"},$f={start:"end",end:"start"};function Na(e,t,r){return pr(e,qr(t,r))}function vn(e,t){return typeof e=="function"?e(t):e}function vr(e){return e.split("-")[0]}function yn(e){return e.split("-")[1]}function Ci(e){return e==="x"?"y":"x"}function ao(e){return e==="y"?"height":"width"}const Rf=new Set(["top","bottom"]);function Jt(e){return Rf.has(vr(e))?"y":"x"}function oo(e){return Ci(Jt(e))}function Lf(e,t,r){r===void 0&&(r=!1);const n=yn(e),a=oo(e),o=ao(a);let l=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(l=Gn(l)),[l,Gn(l)]}function Yf(e){const t=Gn(e);return[Ba(e),t,Ba(t)]}function Ba(e){return e.replace(/start|end/g,t=>$f[t])}const Xo=["left","right"],Zo=["right","left"],If=["top","bottom"],Ff=["bottom","top"];function Nf(e,t,r){switch(e){case"top":case"bottom":return r?t?Zo:Xo:t?Xo:Zo;case"left":case"right":return t?If:Ff;default:return[]}}function Bf(e,t,r,n){const a=yn(e);let o=Nf(vr(e),r==="start",n);return a&&(o=o.map(l=>l+"-"+a),t&&(o=o.concat(o.map(Ba)))),o}function Gn(e){return e.replace(/left|right|bottom|top/g,t=>Ef[t])}function Vf(e){return{top:0,right:0,bottom:0,left:0,...e}}function Si(e){return typeof e!="number"?Vf(e):{top:e,right:e,bottom:e,left:e}}function Qn(e){const{x:t,y:r,width:n,height:a}=e;return{width:n,height:a,top:r,left:t,right:t+n,bottom:r+a,x:t,y:r}}function Jo(e,t,r){let{reference:n,floating:a}=e;const o=Jt(t),l=oo(t),i=ao(l),s=vr(t),c=o==="y",f=n.x+n.width/2-a.width/2,m=n.y+n.height/2-a.height/2,v=n[i]/2-a[i]/2;let u;switch(s){case"top":u={x:f,y:n.y-a.height};break;case"bottom":u={x:f,y:n.y+n.height};break;case"right":u={x:n.x+n.width,y:m};break;case"left":u={x:n.x-a.width,y:m};break;default:u={x:n.x,y:n.y}}switch(yn(t)){case"start":u[l]-=v*(r&&c?-1:1);break;case"end":u[l]+=v*(r&&c?-1:1);break}return u}async function Hf(e,t){var r;t===void 0&&(t={});const{x:n,y:a,platform:o,rects:l,elements:i,strategy:s}=e,{boundary:c="clippingAncestors",rootBoundary:f="viewport",elementContext:m="floating",altBoundary:v=!1,padding:u=0}=vn(t,e),w=Si(u),x=i[v?m==="floating"?"reference":"floating":m],d=Qn(await o.getClippingRect({element:(r=await(o.isElement==null?void 0:o.isElement(x)))==null||r?x:x.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(i.floating)),boundary:c,rootBoundary:f,strategy:s})),p=m==="floating"?{x:n,y:a,width:l.floating.width,height:l.floating.height}:l.reference,g=await(o.getOffsetParent==null?void 0:o.getOffsetParent(i.floating)),_=await(o.isElement==null?void 0:o.isElement(g))?await(o.getScale==null?void 0:o.getScale(g))||{x:1,y:1}:{x:1,y:1},S=Qn(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:i,rect:p,offsetParent:g,strategy:s}):p);return{top:(d.top-S.top+w.top)/_.y,bottom:(S.bottom-d.bottom+w.bottom)/_.y,left:(d.left-S.left+w.left)/_.x,right:(S.right-d.right+w.right)/_.x}}const qf=async(e,t,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:o=[],platform:l}=r,i=o.filter(Boolean),s=await(l.isRTL==null?void 0:l.isRTL(t));let c=await l.getElementRects({reference:e,floating:t,strategy:a}),{x:f,y:m}=Jo(c,n,s),v=n,u={},w=0;for(let x=0;x<i.length;x++){var b;const{name:d,fn:p}=i[x],{x:g,y:_,data:S,reset:Y}=await p({x:f,y:m,initialPlacement:n,placement:v,strategy:a,middlewareData:u,rects:c,platform:{...l,detectOverflow:(b=l.detectOverflow)!=null?b:Hf},elements:{reference:e,floating:t}});f=g??f,m=_??m,u={...u,[d]:{...u[d],...S}},Y&&w<=50&&(w++,typeof Y=="object"&&(Y.placement&&(v=Y.placement),Y.rects&&(c=Y.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:a}):Y.rects),{x:f,y:m}=Jo(c,v,s)),x=-1)}return{x:f,y:m,placement:v,strategy:a,middlewareData:u}},Wf=e=>({name:"arrow",options:e,async fn(t){const{x:r,y:n,placement:a,rects:o,platform:l,elements:i,middlewareData:s}=t,{element:c,padding:f=0}=vn(e,t)||{};if(c==null)return{};const m=Si(f),v={x:r,y:n},u=oo(a),w=ao(u),b=await l.getDimensions(c),x=u==="y",d=x?"top":"left",p=x?"bottom":"right",g=x?"clientHeight":"clientWidth",_=o.reference[w]+o.reference[u]-v[u]-o.floating[w],S=v[u]-o.reference[u],Y=await(l.getOffsetParent==null?void 0:l.getOffsetParent(c));let k=Y?Y[g]:0;(!k||!await(l.isElement==null?void 0:l.isElement(Y)))&&(k=i.floating[g]||o.floating[w]);const O=_/2-S/2,C=k/2-b[w]/2-1,B=qr(m[d],C),H=qr(m[p],C),W=B,J=k-b[w]-H,ee=k/2-b[w]/2+O,j=Na(W,ee,J),Q=!s.arrow&&yn(a)!=null&&ee!==j&&o.reference[w]/2-(ee<W?B:H)-b[w]/2<0,L=Q?ee<W?ee-W:ee-J:0;return{[u]:v[u]+L,data:{[u]:j,centerOffset:ee-j-L,...Q&&{alignmentOffset:L}},reset:Q}}}),jf=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var r,n;const{placement:a,middlewareData:o,rects:l,initialPlacement:i,platform:s,elements:c}=t,{mainAxis:f=!0,crossAxis:m=!0,fallbackPlacements:v,fallbackStrategy:u="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:b=!0,...x}=vn(e,t);if((r=o.arrow)!=null&&r.alignmentOffset)return{};const d=vr(a),p=Jt(i),g=vr(i)===i,_=await(s.isRTL==null?void 0:s.isRTL(c.floating)),S=v||(g||!b?[Gn(i)]:Yf(i)),Y=w!=="none";!v&&Y&&S.push(...Bf(i,b,w,_));const k=[i,...S],O=await s.detectOverflow(t,x),C=[];let B=((n=o.flip)==null?void 0:n.overflows)||[];if(f&&C.push(O[d]),m){const ee=Lf(a,l,_);C.push(O[ee[0]],O[ee[1]])}if(B=[...B,{placement:a,overflows:C}],!C.every(ee=>ee<=0)){var H,W;const ee=(((H=o.flip)==null?void 0:H.index)||0)+1,j=k[ee];if(j&&(!(m==="alignment"?p!==Jt(j):!1)||B.every(q=>Jt(q.placement)===p?q.overflows[0]>0:!0)))return{data:{index:ee,overflows:B},reset:{placement:j}};let Q=(W=B.filter(L=>L.overflows[0]<=0).sort((L,q)=>L.overflows[1]-q.overflows[1])[0])==null?void 0:W.placement;if(!Q)switch(u){case"bestFit":{var J;const L=(J=B.filter(q=>{if(Y){const ie=Jt(q.placement);return ie===p||ie==="y"}return!0}).map(q=>[q.placement,q.overflows.filter(ie=>ie>0).reduce((ie,K)=>ie+K,0)]).sort((q,ie)=>q[1]-ie[1])[0])==null?void 0:J[0];L&&(Q=L);break}case"initialPlacement":Q=i;break}if(a!==Q)return{reset:{placement:Q}}}return{}}}},Uf=new Set(["left","top"]);async function Kf(e,t){const{placement:r,platform:n,elements:a}=e,o=await(n.isRTL==null?void 0:n.isRTL(a.floating)),l=vr(r),i=yn(r),s=Jt(r)==="y",c=Uf.has(l)?-1:1,f=o&&s?-1:1,m=vn(t,e);let{mainAxis:v,crossAxis:u,alignmentAxis:w}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return i&&typeof w=="number"&&(u=i==="end"?w*-1:w),s?{x:u*f,y:v*c}:{x:v*c,y:u*f}}const Gf=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var r,n;const{x:a,y:o,placement:l,middlewareData:i}=t,s=await Kf(t,e);return l===((r=i.offset)==null?void 0:r.placement)&&(n=i.arrow)!=null&&n.alignmentOffset?{}:{x:a+s.x,y:o+s.y,data:{...s,placement:l}}}}},Qf=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:r,y:n,placement:a,platform:o}=t,{mainAxis:l=!0,crossAxis:i=!1,limiter:s={fn:d=>{let{x:p,y:g}=d;return{x:p,y:g}}},...c}=vn(e,t),f={x:r,y:n},m=await o.detectOverflow(t,c),v=Jt(vr(a)),u=Ci(v);let w=f[u],b=f[v];if(l){const d=u==="y"?"top":"left",p=u==="y"?"bottom":"right",g=w+m[d],_=w-m[p];w=Na(g,w,_)}if(i){const d=v==="y"?"top":"left",p=v==="y"?"bottom":"right",g=b+m[d],_=b-m[p];b=Na(g,b,_)}const x=s.fn({...t,[u]:w,[v]:b});return{...x,data:{x:x.x-r,y:x.y-n,enabled:{[u]:l,[v]:i}}}}}};function ea(){return typeof window<"u"}function wr(e){return lo(e)?(e.nodeName||"").toLowerCase():"#document"}function mt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Wt(e){var t;return(t=(lo(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function lo(e){return ea()?e instanceof Node||e instanceof mt(e).Node:!1}function Et(e){return ea()?e instanceof Element||e instanceof mt(e).Element:!1}function Ht(e){return ea()?e instanceof HTMLElement||e instanceof mt(e).HTMLElement:!1}function el(e){return!ea()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof mt(e).ShadowRoot}const zf=new Set(["inline","contents"]);function gn(e){const{overflow:t,overflowX:r,overflowY:n,display:a}=$t(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!zf.has(a)}const Xf=new Set(["table","td","th"]);function Zf(e){return Xf.has(wr(e))}const Jf=[":popover-open",":modal"];function ta(e){return Jf.some(t=>{try{return e.matches(t)}catch{return!1}})}const ep=["transform","translate","scale","rotate","perspective"],tp=["transform","translate","scale","rotate","perspective","filter"],rp=["paint","layout","strict","content"];function io(e){const t=so(),r=Et(e)?$t(e):e;return ep.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!t&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!t&&(r.filter?r.filter!=="none":!1)||tp.some(n=>(r.willChange||"").includes(n))||rp.some(n=>(r.contain||"").includes(n))}function np(e){let t=ar(e);for(;Ht(t)&&!Wr(t);){if(io(t))return t;if(ta(t))return null;t=ar(t)}return null}function so(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const ap=new Set(["html","body","#document"]);function Wr(e){return ap.has(wr(e))}function $t(e){return mt(e).getComputedStyle(e)}function ra(e){return Et(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function ar(e){if(wr(e)==="html")return e;const t=e.assignedSlot||e.parentNode||el(e)&&e.host||Wt(e);return el(t)?t.host:t}function Ei(e){const t=ar(e);return Wr(t)?e.ownerDocument?e.ownerDocument.body:e.body:Ht(t)&&gn(t)?t:Ei(t)}function fn(e,t,r){var n;t===void 0&&(t=[]),r===void 0&&(r=!0);const a=Ei(e),o=a===((n=e.ownerDocument)==null?void 0:n.body),l=mt(a);if(o){const i=Va(l);return t.concat(l,l.visualViewport||[],gn(a)?a:[],i&&r?fn(i):[])}return t.concat(a,fn(a,[],r))}function Va(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function $i(e){const t=$t(e);let r=parseFloat(t.width)||0,n=parseFloat(t.height)||0;const a=Ht(e),o=a?e.offsetWidth:r,l=a?e.offsetHeight:n,i=Kn(r)!==o||Kn(n)!==l;return i&&(r=o,n=l),{width:r,height:n,$:i}}function uo(e){return Et(e)?e:e.contextElement}function Yr(e){const t=uo(e);if(!Ht(t))return Bt(1);const r=t.getBoundingClientRect(),{width:n,height:a,$:o}=$i(t);let l=(o?Kn(r.width):r.width)/n,i=(o?Kn(r.height):r.height)/a;return(!l||!Number.isFinite(l))&&(l=1),(!i||!Number.isFinite(i))&&(i=1),{x:l,y:i}}const op=Bt(0);function Ri(e){const t=mt(e);return!so()||!t.visualViewport?op:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function lp(e,t,r){return t===void 0&&(t=!1),!r||t&&r!==mt(e)?!1:t}function yr(e,t,r,n){t===void 0&&(t=!1),r===void 0&&(r=!1);const a=e.getBoundingClientRect(),o=uo(e);let l=Bt(1);t&&(n?Et(n)&&(l=Yr(n)):l=Yr(e));const i=lp(o,r,n)?Ri(o):Bt(0);let s=(a.left+i.x)/l.x,c=(a.top+i.y)/l.y,f=a.width/l.x,m=a.height/l.y;if(o){const v=mt(o),u=n&&Et(n)?mt(n):n;let w=v,b=Va(w);for(;b&&n&&u!==w;){const x=Yr(b),d=b.getBoundingClientRect(),p=$t(b),g=d.left+(b.clientLeft+parseFloat(p.paddingLeft))*x.x,_=d.top+(b.clientTop+parseFloat(p.paddingTop))*x.y;s*=x.x,c*=x.y,f*=x.x,m*=x.y,s+=g,c+=_,w=mt(b),b=Va(w)}}return Qn({width:f,height:m,x:s,y:c})}function na(e,t){const r=ra(e).scrollLeft;return t?t.left+r:yr(Wt(e)).left+r}function Li(e,t){const r=e.getBoundingClientRect(),n=r.left+t.scrollLeft-na(e,r),a=r.top+t.scrollTop;return{x:n,y:a}}function ip(e){let{elements:t,rect:r,offsetParent:n,strategy:a}=e;const o=a==="fixed",l=Wt(n),i=t?ta(t.floating):!1;if(n===l||i&&o)return r;let s={scrollLeft:0,scrollTop:0},c=Bt(1);const f=Bt(0),m=Ht(n);if((m||!m&&!o)&&((wr(n)!=="body"||gn(l))&&(s=ra(n)),Ht(n))){const u=yr(n);c=Yr(n),f.x=u.x+n.clientLeft,f.y=u.y+n.clientTop}const v=l&&!m&&!o?Li(l,s):Bt(0);return{width:r.width*c.x,height:r.height*c.y,x:r.x*c.x-s.scrollLeft*c.x+f.x+v.x,y:r.y*c.y-s.scrollTop*c.y+f.y+v.y}}function sp(e){return Array.from(e.getClientRects())}function up(e){const t=Wt(e),r=ra(e),n=e.ownerDocument.body,a=pr(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),o=pr(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let l=-r.scrollLeft+na(e);const i=-r.scrollTop;return $t(n).direction==="rtl"&&(l+=pr(t.clientWidth,n.clientWidth)-a),{width:a,height:o,x:l,y:i}}const tl=25;function cp(e,t){const r=mt(e),n=Wt(e),a=r.visualViewport;let o=n.clientWidth,l=n.clientHeight,i=0,s=0;if(a){o=a.width,l=a.height;const f=so();(!f||f&&t==="fixed")&&(i=a.offsetLeft,s=a.offsetTop)}const c=na(n);if(c<=0){const f=n.ownerDocument,m=f.body,v=getComputedStyle(m),u=f.compatMode==="CSS1Compat"&&parseFloat(v.marginLeft)+parseFloat(v.marginRight)||0,w=Math.abs(n.clientWidth-m.clientWidth-u);w<=tl&&(o-=w)}else c<=tl&&(o+=c);return{width:o,height:l,x:i,y:s}}const dp=new Set(["absolute","fixed"]);function fp(e,t){const r=yr(e,!0,t==="fixed"),n=r.top+e.clientTop,a=r.left+e.clientLeft,o=Ht(e)?Yr(e):Bt(1),l=e.clientWidth*o.x,i=e.clientHeight*o.y,s=a*o.x,c=n*o.y;return{width:l,height:i,x:s,y:c}}function rl(e,t,r){let n;if(t==="viewport")n=cp(e,r);else if(t==="document")n=up(Wt(e));else if(Et(t))n=fp(t,r);else{const a=Ri(e);n={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Qn(n)}function Yi(e,t){const r=ar(e);return r===t||!Et(r)||Wr(r)?!1:$t(r).position==="fixed"||Yi(r,t)}function pp(e,t){const r=t.get(e);if(r)return r;let n=fn(e,[],!1).filter(i=>Et(i)&&wr(i)!=="body"),a=null;const o=$t(e).position==="fixed";let l=o?ar(e):e;for(;Et(l)&&!Wr(l);){const i=$t(l),s=io(l);!s&&i.position==="fixed"&&(a=null),(o?!s&&!a:!s&&i.position==="static"&&!!a&&dp.has(a.position)||gn(l)&&!s&&Yi(e,l))?n=n.filter(f=>f!==l):a=i,l=ar(l)}return t.set(e,n),n}function hp(e){let{element:t,boundary:r,rootBoundary:n,strategy:a}=e;const l=[...r==="clippingAncestors"?ta(t)?[]:pp(t,this._c):[].concat(r),n],i=l[0],s=l.reduce((c,f)=>{const m=rl(t,f,a);return c.top=pr(m.top,c.top),c.right=qr(m.right,c.right),c.bottom=qr(m.bottom,c.bottom),c.left=pr(m.left,c.left),c},rl(t,i,a));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}}function mp(e){const{width:t,height:r}=$i(e);return{width:t,height:r}}function vp(e,t,r){const n=Ht(t),a=Wt(t),o=r==="fixed",l=yr(e,!0,o,t);let i={scrollLeft:0,scrollTop:0};const s=Bt(0);function c(){s.x=na(a)}if(n||!n&&!o)if((wr(t)!=="body"||gn(a))&&(i=ra(t)),n){const u=yr(t,!0,o,t);s.x=u.x+t.clientLeft,s.y=u.y+t.clientTop}else a&&c();o&&!n&&a&&c();const f=a&&!n&&!o?Li(a,i):Bt(0),m=l.left+i.scrollLeft-s.x-f.x,v=l.top+i.scrollTop-s.y-f.y;return{x:m,y:v,width:l.width,height:l.height}}function Sa(e){return $t(e).position==="static"}function nl(e,t){if(!Ht(e)||$t(e).position==="fixed")return null;if(t)return t(e);let r=e.offsetParent;return Wt(e)===r&&(r=r.ownerDocument.body),r}function Ii(e,t){const r=mt(e);if(ta(e))return r;if(!Ht(e)){let a=ar(e);for(;a&&!Wr(a);){if(Et(a)&&!Sa(a))return a;a=ar(a)}return r}let n=nl(e,t);for(;n&&Zf(n)&&Sa(n);)n=nl(n,t);return n&&Wr(n)&&Sa(n)&&!io(n)?r:n||np(e)||r}const yp=async function(e){const t=this.getOffsetParent||Ii,r=this.getDimensions,n=await r(e.floating);return{reference:vp(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function gp(e){return $t(e).direction==="rtl"}const wp={convertOffsetParentRelativeRectToViewportRelativeRect:ip,getDocumentElement:Wt,getClippingRect:hp,getOffsetParent:Ii,getElementRects:yp,getClientRects:sp,getDimensions:mp,getScale:Yr,isElement:Et,isRTL:gp};function Fi(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function bp(e,t){let r=null,n;const a=Wt(e);function o(){var i;clearTimeout(n),(i=r)==null||i.disconnect(),r=null}function l(i,s){i===void 0&&(i=!1),s===void 0&&(s=1),o();const c=e.getBoundingClientRect(),{left:f,top:m,width:v,height:u}=c;if(i||t(),!v||!u)return;const w=Rn(m),b=Rn(a.clientWidth-(f+v)),x=Rn(a.clientHeight-(m+u)),d=Rn(f),g={rootMargin:-w+"px "+-b+"px "+-x+"px "+-d+"px",threshold:pr(0,qr(1,s))||1};let _=!0;function S(Y){const k=Y[0].intersectionRatio;if(k!==s){if(!_)return l();k?l(!1,k):n=setTimeout(()=>{l(!1,1e-7)},1e3)}k===1&&!Fi(c,e.getBoundingClientRect())&&l(),_=!1}try{r=new IntersectionObserver(S,{...g,root:a.ownerDocument})}catch{r=new IntersectionObserver(S,g)}r.observe(e)}return l(!0),o}function xp(e,t,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:i=typeof IntersectionObserver=="function",animationFrame:s=!1}=n,c=uo(e),f=a||o?[...c?fn(c):[],...fn(t)]:[];f.forEach(d=>{a&&d.addEventListener("scroll",r,{passive:!0}),o&&d.addEventListener("resize",r)});const m=c&&i?bp(c,r):null;let v=-1,u=null;l&&(u=new ResizeObserver(d=>{let[p]=d;p&&p.target===c&&u&&(u.unobserve(t),cancelAnimationFrame(v),v=requestAnimationFrame(()=>{var g;(g=u)==null||g.observe(t)})),r()}),c&&!s&&u.observe(c),u.observe(t));let w,b=s?yr(e):null;s&&x();function x(){const d=yr(e);b&&!Fi(b,d)&&r(),b=d,w=requestAnimationFrame(x)}return r(),()=>{var d;f.forEach(p=>{a&&p.removeEventListener("scroll",r),o&&p.removeEventListener("resize",r)}),m?.(),(d=u)==null||d.disconnect(),u=null,s&&cancelAnimationFrame(w)}}const kp=Gf,_p=Qf,Ap=jf,Dp=Wf,Tp=(e,t,r)=>{const n=new Map,a={platform:wp,...r},o={...a.platform,_c:n};return qf(e,t,{...a,platform:o})};function Mp(e){return e!=null&&typeof e=="object"&&"$el"in e}function Ha(e){if(Mp(e)){const t=e.$el;return lo(t)&&wr(t)==="#comment"?null:t}return e}function Pr(e){return typeof e=="function"?e():h(e)}function Pp(e){return{name:"arrow",options:e,fn(t){const r=Ha(Pr(e.element));return r==null?{}:Dp({element:r,padding:e.padding}).fn(t)}}}function Ni(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function al(e,t){const r=Ni(e);return Math.round(t*r)/r}function Op(e,t,r){r===void 0&&(r={});const n=r.whileElementsMounted,a=N(()=>{var k;return(k=Pr(r.open))!=null?k:!0}),o=N(()=>Pr(r.middleware)),l=N(()=>{var k;return(k=Pr(r.placement))!=null?k:"bottom"}),i=N(()=>{var k;return(k=Pr(r.strategy))!=null?k:"absolute"}),s=N(()=>{var k;return(k=Pr(r.transform))!=null?k:!0}),c=N(()=>Ha(e.value)),f=N(()=>Ha(t.value)),m=ue(0),v=ue(0),u=ue(i.value),w=ue(l.value),b=xl({}),x=ue(!1),d=N(()=>{const k={position:u.value,left:"0",top:"0"};if(!f.value)return k;const O=al(f.value,m.value),C=al(f.value,v.value);return s.value?{...k,transform:"translate("+O+"px, "+C+"px)",...Ni(f.value)>=1.5&&{willChange:"transform"}}:{position:u.value,left:O+"px",top:C+"px"}});let p;function g(){if(c.value==null||f.value==null)return;const k=a.value;Tp(c.value,f.value,{middleware:o.value,placement:l.value,strategy:i.value}).then(O=>{m.value=O.x,v.value=O.y,u.value=O.strategy,w.value=O.placement,b.value=O.middlewareData,x.value=k!==!1})}function _(){typeof p=="function"&&(p(),p=void 0)}function S(){if(_(),n===void 0){g();return}if(c.value!=null&&f.value!=null){p=n(c.value,f.value,g);return}}function Y(){a.value||(x.value=!1)}return it([o,l,i,a],g,{flush:"sync"}),it([c,f],S,{flush:"sync"}),it(a,Y,{flush:"sync"}),Os()&&Cs(_),{x:_r(m),y:_r(v),strategy:_r(u),placement:_r(w),middlewareData:_r(b),isPositioned:_r(x),floatingStyles:d,update:g}}function gt(e,t,r){const n=ye(e,r?.in);return isNaN(t)?Ne(r?.in||e,NaN):(t&&n.setDate(n.getDate()+t),n)}function Ot(e,t,r){const n=ye(e,r?.in);if(isNaN(t))return Ne(e,NaN);if(!t)return n;const a=n.getDate(),o=Ne(e,n.getTime());o.setMonth(n.getMonth()+t+1,0);const l=o.getDate();return a>=l?o:(n.setFullYear(o.getFullYear(),o.getMonth(),a),n)}function Bi(e,t,r){const{years:n=0,months:a=0,weeks:o=0,days:l=0,hours:i=0,minutes:s=0,seconds:c=0}=t,f=ye(e,r?.in),m=a||n?Ot(f,a+n*12):f,v=l||o?gt(m,l+o*7):m,u=s+i*60,b=(c+u*60)*1e3;return Ne(e,+v+b)}function jr(e,t){return xt(e,{...t,weekStartsOn:1})}function Vi(e,t){const r=ye(e,t?.in),n=r.getFullYear(),a=Ne(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const o=jr(a),l=Ne(r,0);l.setFullYear(n,0,4),l.setHours(0,0,0,0);const i=jr(l);return r.getTime()>=o.getTime()?n+1:r.getTime()>=i.getTime()?n:n-1}function zn(e){const t=ye(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function ol(e,t){const r=ye(e,t?.in);return r.setHours(0,0,0,0),r}function Hi(e,t,r){const[n,a]=pn(r?.in,e,t),o=ol(n),l=ol(a),i=+o-zn(o),s=+l-zn(l);return Math.round((i-s)/ou)}function Cp(e,t){const r=Vi(e,t),n=Ne(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),jr(n)}function Sp(e,t,r){return Ot(e,t*3,r)}function co(e,t,r){return Ot(e,t*12,r)}function ll(e,t){const r=+ye(e)-+ye(t);return r<0?-1:r>0?1:r}function qi(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function an(e){return!(!qi(e)&&typeof e!="number"||isNaN(+ye(e)))}function il(e,t){const r=ye(e,t?.in);return Math.trunc(r.getMonth()/3)+1}function Ep(e,t,r){const[n,a]=pn(r?.in,e,t);return n.getFullYear()-a.getFullYear()}function $p(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function Rp(e,t,r){const[n,a]=pn(r?.in,e,t),o=ll(n,a),l=Math.abs(Ep(n,a));n.setFullYear(1584),a.setFullYear(1584);const i=ll(n,a)===-o,s=o*(l-+i);return s===0?0:s}function Wi(e,t){const[r,n]=pn(e,t.start,t.end);return{start:r,end:n}}function fo(e,t){const{start:r,end:n}=Wi(t?.in,e);let a=+r>+n;const o=a?+r:+n,l=a?n:r;l.setHours(0,0,0,0);let i=1;const s=[];for(;+l<=o;)s.push(Ne(r,l)),l.setDate(l.getDate()+i),l.setHours(0,0,0,0);return a?s.reverse():s}function cr(e,t){const r=ye(e,t?.in),n=r.getMonth(),a=n-n%3;return r.setMonth(a,1),r.setHours(0,0,0,0),r}function Lp(e,t){const{start:r,end:n}=Wi(t?.in,e);let a=+r>+n;const o=a?+cr(r):+cr(n);let l=cr(a?n:r),i=1;const s=[];for(;+l<=o;)s.push(Ne(r,l)),l=Sp(l,i);return a?s.reverse():s}function Yp(e,t){const r=ye(e,t?.in);return r.setDate(1),r.setHours(0,0,0,0),r}function ji(e,t){const r=ye(e,t?.in),n=r.getFullYear();return r.setFullYear(n+1,0,0),r.setHours(23,59,59,999),r}function Ir(e,t){const r=ye(e,t?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function po(e,t){const r=Gr(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=ye(e,t?.in),o=a.getDay(),l=(o<n?-7:0)+6-(o-n);return a.setDate(a.getDate()+l),a.setHours(23,59,59,999),a}function sl(e,t){const r=ye(e,t?.in),n=r.getMonth(),a=n-n%3+3;return r.setMonth(a,0),r.setHours(23,59,59,999),r}function Ip(e,t){const r=ye(e,t?.in);return Hi(r,Ir(r))+1}function ho(e,t){const r=ye(e,t?.in),n=+jr(r)-+Cp(r);return Math.round(n/Al)+1}function mo(e,t){const r=ye(e,t?.in),n=r.getFullYear(),a=Gr(),o=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,l=Ne(t?.in||e,0);l.setFullYear(n+1,0,o),l.setHours(0,0,0,0);const i=xt(l,t),s=Ne(t?.in||e,0);s.setFullYear(n,0,o),s.setHours(0,0,0,0);const c=xt(s,t);return+r>=+i?n+1:+r>=+c?n:n-1}function Fp(e,t){const r=Gr(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=mo(e,t),o=Ne(t?.in||e,0);return o.setFullYear(a,0,n),o.setHours(0,0,0,0),xt(o,t)}function vo(e,t){const r=ye(e,t?.in),n=+xt(r,t)-+Fp(r,t);return Math.round(n/Al)+1}function Le(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Zt={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Le(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):Le(r+1,2)},d(e,t){return Le(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return r==="am"?"a.m.":"p.m."}},h(e,t){return Le(e.getHours()%12||12,t.length)},H(e,t){return Le(e.getHours(),t.length)},m(e,t){return Le(e.getMinutes(),t.length)},s(e,t){return Le(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Le(a,t.length)}},Dr={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},ul={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Zt.y(e,t)},Y:function(e,t,r,n){const a=mo(e,n),o=a>0?a:1-a;if(t==="YY"){const l=o%100;return Le(l,2)}return t==="Yo"?r.ordinalNumber(o,{unit:"year"}):Le(o,t.length)},R:function(e,t){const r=Vi(e);return Le(r,t.length)},u:function(e,t){const r=e.getFullYear();return Le(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Le(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Le(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Zt.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Le(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const a=vo(e,n);return t==="wo"?r.ordinalNumber(a,{unit:"week"}):Le(a,t.length)},I:function(e,t,r){const n=ho(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):Le(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Zt.d(e,t)},D:function(e,t,r){const n=Ip(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Le(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const a=e.getDay(),o=(a-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Le(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const a=e.getDay(),o=(a-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Le(o,t.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),a=n===0?7:n;switch(t){case"i":return String(a);case"ii":return Le(a,t.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const a=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let a;switch(n===12?a=Dr.noon:n===0?a=Dr.midnight:a=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let a;switch(n>=17?a=Dr.evening:n>=12?a=Dr.afternoon:n>=4?a=Dr.morning:a=Dr.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Zt.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Zt.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Le(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):Le(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Zt.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Zt.s(e,t)},S:function(e,t){return Zt.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return dl(n);case"XXXX":case"XX":return ur(n);default:return ur(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return dl(n);case"xxxx":case"xx":return ur(n);default:return ur(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+cl(n,":");default:return"GMT"+ur(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+cl(n,":");default:return"GMT"+ur(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return Le(n,t.length)},T:function(e,t,r){return Le(+e,t.length)}};function cl(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Math.trunc(n/60),o=n%60;return o===0?r+String(a):r+String(a)+t+Le(o,2)}function dl(e,t){return e%60===0?(e>0?"-":"+")+Le(Math.abs(e)/60,2):ur(e,t)}function ur(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),a=Le(Math.trunc(n/60),2),o=Le(n%60,2);return r+a+t+o}const fl=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},Ui=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},Np=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return fl(e,t);let o;switch(n){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",fl(n,t)).replace("{{time}}",Ui(a,t))},qa={p:Ui,P:Np},Bp=/^D+$/,Vp=/^Y+$/,Hp=["D","DD","YY","YYYY"];function Ki(e){return Bp.test(e)}function Gi(e){return Vp.test(e)}function Wa(e,t,r){const n=qp(e,t,r);if(console.warn(n),Hp.includes(e))throw new RangeError(n)}function qp(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Wp=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,jp=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Up=/^'([^]*?)'?$/,Kp=/''/g,Gp=/[a-zA-Z]/;function yt(e,t,r){const n=Gr(),a=r?.locale??n.locale??Dl,o=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,l=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,i=ye(e,r?.in);if(!an(i))throw new RangeError("Invalid time value");let s=t.match(jp).map(f=>{const m=f[0];if(m==="p"||m==="P"){const v=qa[m];return v(f,a.formatLong)}return f}).join("").match(Wp).map(f=>{if(f==="''")return{isToken:!1,value:"'"};const m=f[0];if(m==="'")return{isToken:!1,value:Qp(f)};if(ul[m])return{isToken:!0,value:f};if(m.match(Gp))throw new RangeError("Format string contains an unescaped latin alphabet character `"+m+"`");return{isToken:!1,value:f}});a.localize.preprocessor&&(s=a.localize.preprocessor(i,s));const c={firstWeekContainsDate:o,weekStartsOn:l,locale:a};return s.map(f=>{if(!f.isToken)return f.value;const m=f.value;(!r?.useAdditionalWeekYearTokens&&Gi(m)||!r?.useAdditionalDayOfYearTokens&&Ki(m))&&Wa(m,t,String(e));const v=ul[m[0]];return v(i,m,a.localize,c)}).join("")}function Qp(e){const t=e.match(Up);return t?t[1].replace(Kp,"'"):e}function zp(e,t){return ye(e,t?.in).getDay()}function Xp(e,t){const r=ye(e,t?.in),n=r.getFullYear(),a=r.getMonth(),o=Ne(r,0);return o.setFullYear(n,a+1,0),o.setHours(0,0,0,0),o.getDate()}function Zp(){return Object.assign({},Gr())}function qt(e,t){return ye(e,t?.in).getHours()}function Jp(e,t){const r=ye(e,t?.in).getDay();return r===0?7:r}function Gt(e,t){return ye(e,t?.in).getMinutes()}function Oe(e,t){return ye(e,t?.in).getMonth()}function or(e){return ye(e).getSeconds()}function ge(e,t){return ye(e,t?.in).getFullYear()}function Yt(e,t){return+ye(e)>+ye(t)}function jt(e,t){return+ye(e)<+ye(t)}function Er(e,t){return+ye(e)==+ye(t)}function eh(e,t){const r=th(t)?new t(0):Ne(t,0);return r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),r.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),r}function th(e){return typeof e=="function"&&e.prototype?.constructor===e}const rh=10;class Qi{subPriority=0;validate(t,r){return!0}}class nh extends Qi{constructor(t,r,n,a,o){super(),this.value=t,this.validateValue=r,this.setValue=n,this.priority=a,o&&(this.subPriority=o)}validate(t,r){return this.validateValue(t,this.value,r)}set(t,r,n){return this.setValue(t,r,this.value,n)}}class ah extends Qi{priority=rh;subPriority=-1;constructor(t,r){super(),this.context=t||(n=>Ne(r,n))}set(t,r){return r.timestampIsSet?t:Ne(t,eh(t,this.context))}}class Re{run(t,r,n,a){const o=this.parse(t,r,n,a);return o?{setter:new nh(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(t,r,n){return!0}}class oh extends Re{priority=140;parse(t,r,n){switch(r){case"G":case"GG":case"GGG":return n.era(t,{width:"abbreviated"})||n.era(t,{width:"narrow"});case"GGGGG":return n.era(t,{width:"narrow"});default:return n.era(t,{width:"wide"})||n.era(t,{width:"abbreviated"})||n.era(t,{width:"narrow"})}}set(t,r,n){return r.era=n,t.setFullYear(n,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["R","u","t","T"]}const je={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Rt={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Ue(e,t){return e&&{value:t(e.value),rest:e.rest}}function He(e,t){const r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function Lt(e,t){const r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};const n=r[1]==="+"?1:-1,a=r[2]?parseInt(r[2],10):0,o=r[3]?parseInt(r[3],10):0,l=r[5]?parseInt(r[5],10):0;return{value:n*(a*lu+o*iu+l*su),rest:t.slice(r[0].length)}}function zi(e){return He(je.anyDigitsSigned,e)}function We(e,t){switch(e){case 1:return He(je.singleDigit,t);case 2:return He(je.twoDigits,t);case 3:return He(je.threeDigits,t);case 4:return He(je.fourDigits,t);default:return He(new RegExp("^\\d{1,"+e+"}"),t)}}function Xn(e,t){switch(e){case 1:return He(je.singleDigitSigned,t);case 2:return He(je.twoDigitsSigned,t);case 3:return He(je.threeDigitsSigned,t);case 4:return He(je.fourDigitsSigned,t);default:return He(new RegExp("^-?\\d{1,"+e+"}"),t)}}function yo(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;default:return 0}}function Xi(e,t){const r=t>0,n=r?t:1-t;let a;if(n<=50)a=e||100;else{const o=n+50,l=Math.trunc(o/100)*100,i=e>=o%100;a=e+l-(i?100:0)}return r?a:1-a}function Zi(e){return e%400===0||e%4===0&&e%100!==0}class lh extends Re{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(t,r,n){const a=o=>({year:o,isTwoDigitYear:r==="yy"});switch(r){case"y":return Ue(We(4,t),a);case"yo":return Ue(n.ordinalNumber(t,{unit:"year"}),a);default:return Ue(We(r.length,t),a)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,n){const a=t.getFullYear();if(n.isTwoDigitYear){const l=Xi(n.year,a);return t.setFullYear(l,0,1),t.setHours(0,0,0,0),t}const o=!("era"in r)||r.era===1?n.year:1-n.year;return t.setFullYear(o,0,1),t.setHours(0,0,0,0),t}}class ih extends Re{priority=130;parse(t,r,n){const a=o=>({year:o,isTwoDigitYear:r==="YY"});switch(r){case"Y":return Ue(We(4,t),a);case"Yo":return Ue(n.ordinalNumber(t,{unit:"year"}),a);default:return Ue(We(r.length,t),a)}}validate(t,r){return r.isTwoDigitYear||r.year>0}set(t,r,n,a){const o=mo(t,a);if(n.isTwoDigitYear){const i=Xi(n.year,o);return t.setFullYear(i,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),xt(t,a)}const l=!("era"in r)||r.era===1?n.year:1-n.year;return t.setFullYear(l,0,a.firstWeekContainsDate),t.setHours(0,0,0,0),xt(t,a)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class sh extends Re{priority=130;parse(t,r){return Xn(r==="R"?4:r.length,t)}set(t,r,n){const a=Ne(t,0);return a.setFullYear(n,0,4),a.setHours(0,0,0,0),jr(a)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class uh extends Re{priority=130;parse(t,r){return Xn(r==="u"?4:r.length,t)}set(t,r,n){return t.setFullYear(n,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class ch extends Re{priority=120;parse(t,r,n){switch(r){case"Q":case"QQ":return We(r.length,t);case"Qo":return n.ordinalNumber(t,{unit:"quarter"});case"QQQ":return n.quarter(t,{width:"abbreviated",context:"formatting"})||n.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(t,{width:"narrow",context:"formatting"});default:return n.quarter(t,{width:"wide",context:"formatting"})||n.quarter(t,{width:"abbreviated",context:"formatting"})||n.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=1&&r<=4}set(t,r,n){return t.setMonth((n-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class dh extends Re{priority=120;parse(t,r,n){switch(r){case"q":case"qq":return We(r.length,t);case"qo":return n.ordinalNumber(t,{unit:"quarter"});case"qqq":return n.quarter(t,{width:"abbreviated",context:"standalone"})||n.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(t,{width:"narrow",context:"standalone"});default:return n.quarter(t,{width:"wide",context:"standalone"})||n.quarter(t,{width:"abbreviated",context:"standalone"})||n.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=1&&r<=4}set(t,r,n){return t.setMonth((n-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class fh extends Re{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(t,r,n){const a=o=>o-1;switch(r){case"M":return Ue(He(je.month,t),a);case"MM":return Ue(We(2,t),a);case"Mo":return Ue(n.ordinalNumber(t,{unit:"month"}),a);case"MMM":return n.month(t,{width:"abbreviated",context:"formatting"})||n.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(t,{width:"narrow",context:"formatting"});default:return n.month(t,{width:"wide",context:"formatting"})||n.month(t,{width:"abbreviated",context:"formatting"})||n.month(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=11}set(t,r,n){return t.setMonth(n,1),t.setHours(0,0,0,0),t}}class ph extends Re{priority=110;parse(t,r,n){const a=o=>o-1;switch(r){case"L":return Ue(He(je.month,t),a);case"LL":return Ue(We(2,t),a);case"Lo":return Ue(n.ordinalNumber(t,{unit:"month"}),a);case"LLL":return n.month(t,{width:"abbreviated",context:"standalone"})||n.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(t,{width:"narrow",context:"standalone"});default:return n.month(t,{width:"wide",context:"standalone"})||n.month(t,{width:"abbreviated",context:"standalone"})||n.month(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=11}set(t,r,n){return t.setMonth(n,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function hh(e,t,r){const n=ye(e,r?.in),a=vo(n,r)-t;return n.setDate(n.getDate()-a*7),ye(n,r?.in)}class mh extends Re{priority=100;parse(t,r,n){switch(r){case"w":return He(je.week,t);case"wo":return n.ordinalNumber(t,{unit:"week"});default:return We(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,n,a){return xt(hh(t,n,a),a)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function vh(e,t,r){const n=ye(e,r?.in),a=ho(n,r)-t;return n.setDate(n.getDate()-a*7),n}class yh extends Re{priority=100;parse(t,r,n){switch(r){case"I":return He(je.week,t);case"Io":return n.ordinalNumber(t,{unit:"week"});default:return We(r.length,t)}}validate(t,r){return r>=1&&r<=53}set(t,r,n){return jr(vh(t,n))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const gh=[31,28,31,30,31,30,31,31,30,31,30,31],wh=[31,29,31,30,31,30,31,31,30,31,30,31];class bh extends Re{priority=90;subPriority=1;parse(t,r,n){switch(r){case"d":return He(je.date,t);case"do":return n.ordinalNumber(t,{unit:"date"});default:return We(r.length,t)}}validate(t,r){const n=t.getFullYear(),a=Zi(n),o=t.getMonth();return a?r>=1&&r<=wh[o]:r>=1&&r<=gh[o]}set(t,r,n){return t.setDate(n),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class xh extends Re{priority=90;subpriority=1;parse(t,r,n){switch(r){case"D":case"DD":return He(je.dayOfYear,t);case"Do":return n.ordinalNumber(t,{unit:"date"});default:return We(r.length,t)}}validate(t,r){const n=t.getFullYear();return Zi(n)?r>=1&&r<=366:r>=1&&r<=365}set(t,r,n){return t.setMonth(0,n),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function go(e,t,r){const n=Gr(),a=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,o=ye(e,r?.in),l=o.getDay(),s=(t%7+7)%7,c=7-a,f=t<0||t>6?t-(l+c)%7:(s+c)%7-(l+c)%7;return gt(o,f,r)}class kh extends Re{priority=90;parse(t,r,n){switch(r){case"E":case"EE":case"EEE":return n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});default:return n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,n,a){return t=go(t,n,a),t.setHours(0,0,0,0),t}incompatibleTokens=["D","i","e","c","t","T"]}class _h extends Re{priority=90;parse(t,r,n,a){const o=l=>{const i=Math.floor((l-1)/7)*7;return(l+a.weekStartsOn+6)%7+i};switch(r){case"e":case"ee":return Ue(We(r.length,t),o);case"eo":return Ue(n.ordinalNumber(t,{unit:"day"}),o);case"eee":return n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});case"eeeee":return n.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"});default:return n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"})}}validate(t,r){return r>=0&&r<=6}set(t,r,n,a){return t=go(t,n,a),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class Ah extends Re{priority=90;parse(t,r,n,a){const o=l=>{const i=Math.floor((l-1)/7)*7;return(l+a.weekStartsOn+6)%7+i};switch(r){case"c":case"cc":return Ue(We(r.length,t),o);case"co":return Ue(n.ordinalNumber(t,{unit:"day"}),o);case"ccc":return n.day(t,{width:"abbreviated",context:"standalone"})||n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"});case"ccccc":return n.day(t,{width:"narrow",context:"standalone"});case"cccccc":return n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"});default:return n.day(t,{width:"wide",context:"standalone"})||n.day(t,{width:"abbreviated",context:"standalone"})||n.day(t,{width:"short",context:"standalone"})||n.day(t,{width:"narrow",context:"standalone"})}}validate(t,r){return r>=0&&r<=6}set(t,r,n,a){return t=go(t,n,a),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function Dh(e,t,r){const n=ye(e,r?.in),a=Jp(n,r),o=t-a;return gt(n,o,r)}class Th extends Re{priority=90;parse(t,r,n){const a=o=>o===0?7:o;switch(r){case"i":case"ii":return We(r.length,t);case"io":return n.ordinalNumber(t,{unit:"day"});case"iii":return Ue(n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"}),a);case"iiiii":return Ue(n.day(t,{width:"narrow",context:"formatting"}),a);case"iiiiii":return Ue(n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"}),a);default:return Ue(n.day(t,{width:"wide",context:"formatting"})||n.day(t,{width:"abbreviated",context:"formatting"})||n.day(t,{width:"short",context:"formatting"})||n.day(t,{width:"narrow",context:"formatting"}),a)}}validate(t,r){return r>=1&&r<=7}set(t,r,n){return t=Dh(t,n),t.setHours(0,0,0,0),t}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class Mh extends Re{priority=80;parse(t,r,n){switch(r){case"a":case"aa":case"aaa":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(t,{width:"narrow",context:"formatting"});default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,n){return t.setHours(yo(n),0,0,0),t}incompatibleTokens=["b","B","H","k","t","T"]}class Ph extends Re{priority=80;parse(t,r,n){switch(r){case"b":case"bb":case"bbb":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(t,{width:"narrow",context:"formatting"});default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,n){return t.setHours(yo(n),0,0,0),t}incompatibleTokens=["a","B","H","k","t","T"]}class Oh extends Re{priority=80;parse(t,r,n){switch(r){case"B":case"BB":case"BBB":return n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(t,{width:"narrow",context:"formatting"});default:return n.dayPeriod(t,{width:"wide",context:"formatting"})||n.dayPeriod(t,{width:"abbreviated",context:"formatting"})||n.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,r,n){return t.setHours(yo(n),0,0,0),t}incompatibleTokens=["a","b","t","T"]}class Ch extends Re{priority=70;parse(t,r,n){switch(r){case"h":return He(je.hour12h,t);case"ho":return n.ordinalNumber(t,{unit:"hour"});default:return We(r.length,t)}}validate(t,r){return r>=1&&r<=12}set(t,r,n){const a=t.getHours()>=12;return a&&n<12?t.setHours(n+12,0,0,0):!a&&n===12?t.setHours(0,0,0,0):t.setHours(n,0,0,0),t}incompatibleTokens=["H","K","k","t","T"]}class Sh extends Re{priority=70;parse(t,r,n){switch(r){case"H":return He(je.hour23h,t);case"Ho":return n.ordinalNumber(t,{unit:"hour"});default:return We(r.length,t)}}validate(t,r){return r>=0&&r<=23}set(t,r,n){return t.setHours(n,0,0,0),t}incompatibleTokens=["a","b","h","K","k","t","T"]}class Eh extends Re{priority=70;parse(t,r,n){switch(r){case"K":return He(je.hour11h,t);case"Ko":return n.ordinalNumber(t,{unit:"hour"});default:return We(r.length,t)}}validate(t,r){return r>=0&&r<=11}set(t,r,n){return t.getHours()>=12&&n<12?t.setHours(n+12,0,0,0):t.setHours(n,0,0,0),t}incompatibleTokens=["h","H","k","t","T"]}class $h extends Re{priority=70;parse(t,r,n){switch(r){case"k":return He(je.hour24h,t);case"ko":return n.ordinalNumber(t,{unit:"hour"});default:return We(r.length,t)}}validate(t,r){return r>=1&&r<=24}set(t,r,n){const a=n<=24?n%24:n;return t.setHours(a,0,0,0),t}incompatibleTokens=["a","b","h","H","K","t","T"]}class Rh extends Re{priority=60;parse(t,r,n){switch(r){case"m":return He(je.minute,t);case"mo":return n.ordinalNumber(t,{unit:"minute"});default:return We(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,n){return t.setMinutes(n,0,0),t}incompatibleTokens=["t","T"]}class Lh extends Re{priority=50;parse(t,r,n){switch(r){case"s":return He(je.second,t);case"so":return n.ordinalNumber(t,{unit:"second"});default:return We(r.length,t)}}validate(t,r){return r>=0&&r<=59}set(t,r,n){return t.setSeconds(n,0),t}incompatibleTokens=["t","T"]}class Yh extends Re{priority=30;parse(t,r){const n=a=>Math.trunc(a*Math.pow(10,-r.length+3));return Ue(We(r.length,t),n)}set(t,r,n){return t.setMilliseconds(n),t}incompatibleTokens=["t","T"]}class Ih extends Re{priority=10;parse(t,r){switch(r){case"X":return Lt(Rt.basicOptionalMinutes,t);case"XX":return Lt(Rt.basic,t);case"XXXX":return Lt(Rt.basicOptionalSeconds,t);case"XXXXX":return Lt(Rt.extendedOptionalSeconds,t);default:return Lt(Rt.extended,t)}}set(t,r,n){return r.timestampIsSet?t:Ne(t,t.getTime()-zn(t)-n)}incompatibleTokens=["t","T","x"]}class Fh extends Re{priority=10;parse(t,r){switch(r){case"x":return Lt(Rt.basicOptionalMinutes,t);case"xx":return Lt(Rt.basic,t);case"xxxx":return Lt(Rt.basicOptionalSeconds,t);case"xxxxx":return Lt(Rt.extendedOptionalSeconds,t);default:return Lt(Rt.extended,t)}}set(t,r,n){return r.timestampIsSet?t:Ne(t,t.getTime()-zn(t)-n)}incompatibleTokens=["t","T","X"]}class Nh extends Re{priority=40;parse(t){return zi(t)}set(t,r,n){return[Ne(t,n*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class Bh extends Re{priority=20;parse(t){return zi(t)}set(t,r,n){return[Ne(t,n),{timestampIsSet:!0}]}incompatibleTokens="*"}const Vh={G:new oh,y:new lh,Y:new ih,R:new sh,u:new uh,Q:new ch,q:new dh,M:new fh,L:new ph,w:new mh,I:new yh,d:new bh,D:new xh,E:new kh,e:new _h,c:new Ah,i:new Th,a:new Mh,b:new Ph,B:new Oh,h:new Ch,H:new Sh,K:new Eh,k:new $h,m:new Rh,s:new Lh,S:new Yh,X:new Ih,x:new Fh,t:new Nh,T:new Bh},Hh=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,qh=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Wh=/^'([^]*?)'?$/,jh=/''/g,Uh=/\S/,Kh=/[a-zA-Z]/;function ja(e,t,r,n){const a=()=>Ne(n?.in||r,NaN),o=Zp(),l=n?.locale??o.locale??Dl,i=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,s=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??o.weekStartsOn??o.locale?.options?.weekStartsOn??0;if(!t)return e?a():ye(r,n?.in);const c={firstWeekContainsDate:i,weekStartsOn:s,locale:l},f=[new ah(n?.in,r)],m=t.match(qh).map(x=>{const d=x[0];if(d in qa){const p=qa[d];return p(x,l.formatLong)}return x}).join("").match(Hh),v=[];for(let x of m){!n?.useAdditionalWeekYearTokens&&Gi(x)&&Wa(x,t,e),!n?.useAdditionalDayOfYearTokens&&Ki(x)&&Wa(x,t,e);const d=x[0],p=Vh[d];if(p){const{incompatibleTokens:g}=p;if(Array.isArray(g)){const S=v.find(Y=>g.includes(Y.token)||Y.token===d);if(S)throw new RangeError(`The format string mustn't contain \`${S.fullToken}\` and \`${x}\` at the same time`)}else if(p.incompatibleTokens==="*"&&v.length>0)throw new RangeError(`The format string mustn't contain \`${x}\` and any other token at the same time`);v.push({token:d,fullToken:x});const _=p.run(e,x,l.match,c);if(!_)return a();f.push(_.setter),e=_.rest}else{if(d.match(Kh))throw new RangeError("Format string contains an unescaped latin alphabet character `"+d+"`");if(x==="''"?x="'":d==="'"&&(x=Gh(x)),e.indexOf(x)===0)e=e.slice(x.length);else return a()}}if(e.length>0&&Uh.test(e))return a();const u=f.map(x=>x.priority).sort((x,d)=>d-x).filter((x,d,p)=>p.indexOf(x)===d).map(x=>f.filter(d=>d.priority===x).sort((d,p)=>p.subPriority-d.subPriority)).map(x=>x[0]);let w=ye(r,n?.in);if(isNaN(+w))return a();const b={};for(const x of u){if(!x.validate(w,c))return a();const d=x.set(w,b,c);Array.isArray(d)?(w=d[0],Object.assign(b,d[1])):w=d}return w}function Gh(e){return e.match(Wh)[1].replace(jh,"'")}function pl(e,t,r){const[n,a]=pn(r?.in,e,t);return+cr(n)==+cr(a)}function Ji(e,t,r){return gt(e,-t,r)}function Qh(e,t){const r=t?.nearestTo??1;if(r<1||r>30)return Ne(e,NaN);const n=ye(e,t?.in),a=n.getSeconds()/60,o=n.getMilliseconds()/1e3/60,l=n.getMinutes()+a+o,i=t?.roundingMethod??"round",c=$p(i)(l/r)*r;return n.setMinutes(c,0,0),n}function es(e,t,r){const n=ye(e,r?.in),a=n.getFullYear(),o=n.getDate(),l=Ne(e,0);l.setFullYear(a,t,15),l.setHours(0,0,0,0);const i=Xp(l);return n.setMonth(t,Math.min(o,i)),n}function Te(e,t,r){let n=ye(e,r?.in);return isNaN(+n)?Ne(e,NaN):(t.year!=null&&n.setFullYear(t.year),t.month!=null&&(n=es(n,t.month)),t.date!=null&&n.setDate(t.date),t.hours!=null&&n.setHours(t.hours),t.minutes!=null&&n.setMinutes(t.minutes),t.seconds!=null&&n.setSeconds(t.seconds),t.milliseconds!=null&&n.setMilliseconds(t.milliseconds),n)}function zh(e,t,r){const n=ye(e,r?.in);return n.setMilliseconds(t),n}function Xh(e,t,r){const n=ye(e,r?.in);return n.setSeconds(t),n}function Mt(e,t,r){const n=ye(e,r?.in);return isNaN(+n)?Ne(e,NaN):(n.setFullYear(t),n)}function Ur(e,t,r){return Ot(e,-t,r)}function Zh(e,t,r){const{years:n=0,months:a=0,weeks:o=0,days:l=0,hours:i=0,minutes:s=0,seconds:c=0}=t,f=Ur(e,a+n*12,r),m=Ji(f,l+o*7,r),v=s+i*60,w=(c+v*60)*1e3;return Ne(e,+m-w)}function ts(e,t,r){return co(e,-t,r)}function Jh(e,t,r="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:e,timeZoneName:r}).format(t).split(/\s/g).slice(2).join(" ")}const em={},nn={};function dr(e,t){try{const n=(em[e]||=new Intl.DateTimeFormat("en-US",{timeZone:e,timeZoneName:"longOffset"}).format)(t).split("GMT")[1];return n in nn?nn[n]:hl(n,n.split(":"))}catch{if(e in nn)return nn[e];const r=e?.match(tm);return r?hl(e,r.slice(1)):NaN}}const tm=/([+-]\d\d):?(\d\d)?/;function hl(e,t){const r=+(t[0]||0),n=+(t[1]||0),a=+(t[2]||0)/60;return nn[e]=r*60+n>0?r*60+n+a:r*60-n-a}class It extends Date{constructor(...t){super(),t.length>1&&typeof t[t.length-1]=="string"&&(this.timeZone=t.pop()),this.internal=new Date,isNaN(dr(this.timeZone,this))?this.setTime(NaN):t.length?typeof t[0]=="number"&&(t.length===1||t.length===2&&typeof t[1]!="number")?this.setTime(t[0]):typeof t[0]=="string"?this.setTime(+new Date(t[0])):t[0]instanceof Date?this.setTime(+t[0]):(this.setTime(+new Date(...t)),rs(this),Ua(this)):this.setTime(Date.now())}static tz(t,...r){return r.length?new It(...r,t):new It(Date.now(),t)}withTimeZone(t){return new It(+this,t)}getTimezoneOffset(){const t=-dr(this.timeZone,this);return t>0?Math.floor(t):Math.ceil(t)}setTime(t){return Date.prototype.setTime.apply(this,arguments),Ua(this),+this}[Symbol.for("constructDateFrom")](t){return new It(+new Date(t),this.timeZone)}}const ml=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!ml.test(e))return;const t=e.replace(ml,"$1UTC");It.prototype[t]&&(e.startsWith("get")?It.prototype[e]=function(){return this.internal[t]()}:(It.prototype[e]=function(){return Date.prototype[t].apply(this.internal,arguments),rm(this),+this},It.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),Ua(this),+this}))});function Ua(e){e.internal.setTime(+e),e.internal.setUTCSeconds(e.internal.getUTCSeconds()-Math.round(-dr(e.timeZone,e)*60))}function rm(e){Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),rs(e)}function rs(e){const t=dr(e.timeZone,e),r=t>0?Math.floor(t):Math.ceil(t),n=new Date(+e);n.setUTCHours(n.getUTCHours()-1);const a=-new Date(+e).getTimezoneOffset(),o=-new Date(+n).getTimezoneOffset(),l=a-o,i=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();l&&i&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+l);const s=a-r;s&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+s);const c=new Date(+e);c.setUTCSeconds(0);const f=a>0?c.getSeconds():(c.getSeconds()-60)%60,m=Math.round(-(dr(e.timeZone,e)*60))%60;(m||f)&&(e.internal.setUTCSeconds(e.internal.getUTCSeconds()+m),Date.prototype.setUTCSeconds.call(e,Date.prototype.getUTCSeconds.call(e)+m+f));const v=dr(e.timeZone,e),u=v>0?Math.floor(v):Math.ceil(v),b=-new Date(+e).getTimezoneOffset()-u,x=u!==r,d=b-s;if(x&&d){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+d);const p=dr(e.timeZone,e),g=p>0?Math.floor(p):Math.ceil(p),_=u-g;_&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+_),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+_))}}class $r extends It{static tz(t,...r){return r.length?new $r(...r,t):new $r(Date.now(),t)}toISOString(){const[t,r,n]=this.tzComponents(),a=`${t}${r}:${n}`;return this.internal.toISOString().slice(0,-1)+a}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[t,r,n,a]=this.internal.toUTCString().split(" ");return`${t?.slice(0,-1)} ${n} ${r} ${a}`}toTimeString(){const t=this.internal.toUTCString().split(" ")[4],[r,n,a]=this.tzComponents();return`${t} GMT${r}${n}${a} (${Jh(this.timeZone,this)})`}toLocaleString(t,r){return Date.prototype.toLocaleString.call(this,t,{...r,timeZone:r?.timeZone||this.timeZone})}toLocaleDateString(t,r){return Date.prototype.toLocaleDateString.call(this,t,{...r,timeZone:r?.timeZone||this.timeZone})}toLocaleTimeString(t,r){return Date.prototype.toLocaleTimeString.call(this,t,{...r,timeZone:r?.timeZone||this.timeZone})}tzComponents(){const t=this.getTimezoneOffset(),r=t>0?"-":"+",n=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),a=String(Math.abs(t)%60).padStart(2,"0");return[r,n,a]}withTimeZone(t){return new $r(+this,t)}[Symbol.for("constructDateFrom")](t){return new $r(+new Date(t),this.timeZone)}}function wn(){return Ge("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[Ge("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),Ge("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),Ge("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),Ge("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}function nm(){return Ge("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[Ge("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),Ge("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}function ns(){return Ge("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[Ge("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}function as(){return Ge("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[Ge("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}function os(){return Ge("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[Ge("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),Ge("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}function ls(){return Ge("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[Ge("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}function is(){return Ge("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[Ge("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}const ss=Symbol("ContextKey"),am=(e,t)=>{const{setTimeModelValue:r}=Xe(),n=Xm(e),a=ue(null),o=Fr({menuFocused:!1,shiftKeyInMenu:!1,isInputFocused:!1,isTextInputDate:!1,arrowNavigationLevel:0}),l=n.getDate(new Date),i=ue(""),s=ue([{month:Oe(l),year:ge(l)}]),c=Fr({hours:0,minutes:0,seconds:0});r(c,null,l,n.range.value.enabled);const f=N({get:()=>a.value,set:b=>{a.value=b}}),m=N(()=>b=>s.value[b]?s.value[b].month:0),v=N(()=>b=>s.value[b]?s.value[b].year:0),u=(b,x)=>{o[b]=x},w=()=>{r(c,f.value,l,n.range.value.enabled)};Ss(ss,{rootProps:e,defaults:n,modelValue:f,state:Ys(o),rootEmit:t,calendars:s,month:m,year:v,time:c,today:l,inputValue:i,setState:u,updateTime:w,getDate:n.getDate})},Pe=()=>{const e=$s(ss);if(!e)throw new Error("Can't use context");return e};var Dt=(e=>(e.month="month",e.year="year",e))(Dt||{}),hr=(e=>(e.header="header",e.calendar="calendar",e.timePicker="timePicker",e))(hr||{}),ot=(e=>(e.month="month",e.year="year",e.calendar="calendar",e.time="time",e.minutes="minutes",e.hours="hours",e.seconds="seconds",e))(ot||{});const om=["timestamp","date","iso"];var Tt=(e=>(e.up="up",e.down="down",e.left="left",e.right="right",e))(Tt||{}),Ie=(e=>(e.arrowUp="ArrowUp",e.arrowDown="ArrowDown",e.arrowLeft="ArrowLeft",e.arrowRight="ArrowRight",e.enter="Enter",e.space=" ",e.esc="Escape",e.tab="Tab",e.home="Home",e.end="End",e.pageUp="PageUp",e.pageDown="PageDown",e))(Ie||{}),Rr=(e=>(e.MONTH_AND_YEAR="MM-yyyy",e.YEAR="yyyy",e.DATE="dd-MM-yyyy",e))(Rr||{}),us=(e=>(e[e.Sunday=0]="Sunday",e[e.Monday=1]="Monday",e[e.Tuesday=2]="Tuesday",e[e.Wednesday=3]="Wednesday",e[e.Thursday=4]="Thursday",e[e.Friday=5]="Friday",e[e.Saturday=6]="Saturday",e))(us||{});const lm=()=>{const{rootProps:e,state:t}=Pe(),r=N(()=>t.arrowNavigationLevel),n=ue(-1),a=ue(-1);it(r,(p,g)=>{d(p===0&&g>0)});const o=ue([]),l=ue(new Map),i=()=>{const p=Array.from(document.querySelectorAll(`[data-dp-action-element="${r.value}"]`)),g=new Map,_=new Map;for(const S of p){const Y=S.getBoundingClientRect(),k=Y.top,O=Y.left;g.has(k)||g.set(k,[]),g.get(k).push(S),_.set(S,{row:k,col:O})}o.value=Array.from(g.entries()).sort((S,Y)=>S[0]-Y[0]).map(([S,Y])=>s(Y,_)),l.value=_},s=(p,g)=>p.sort((_,S)=>{const Y=g.get(_),k=g.get(S);return Y.col-k.col}),c=(p,g)=>{r.value===0&&(n.value=p,a.value=g)},f=p=>{if(![Ie.arrowUp,Ie.arrowDown,Ie.arrowLeft,Ie.arrowRight].includes(p.key))return;i(),p.preventDefault();const g=document.activeElement;if(!g?.hasAttribute("data-dp-action-element"))return;let _=-1,S=-1;for(let Y=0;Y<o.value.length;Y++){const k=o.value[Y].indexOf(g);if(k!==-1){_=Y,S=k;break}}if(_!==-1)switch(p.key){case Ie.arrowLeft:return m(_,S);case Ie.arrowRight:return v(_,S);case Ie.arrowUp:return u(_,S);case Ie.arrowDown:return w(_,S);default:return}},m=(p,g)=>{if(g>0){const _=o.value[p][g-1];c(p,g-1),_&&_.focus()}},v=(p,g)=>{if(g<o.value[p].length-1){const _=o.value[p][g+1];c(p,g+1),_&&_.focus()}},u=(p,g)=>{if(p>0){const _=o.value[p-1],S=Math.min(g,_.length-1),Y=_[S];c(p-1,S),Y&&Y.focus()}},w=(p,g)=>{if(p<o.value.length-1){const _=o.value[p+1],S=Math.min(g,_.length-1),Y=_[S];c(p+1,S),Y&&Y.focus()}},b=()=>{st().then(()=>{i();const p=o.value[n.value]?.[a.value];p&&x(p)})},x=p=>{requestAnimationFrame(()=>{requestAnimationFrame(()=>{p.focus({preventScroll:!0})})})},d=p=>{if(p)return b();const g=document.querySelector(`[data-dp-element-active="${r.value}"]`);if(g&&!p)x(g);else{const _=document.querySelector(`[data-dp-action-element="${r.value}"]`);_&&x(_)}};Je(()=>{e.arrowNavigation&&(d(!1),document.addEventListener("keydown",f))}),gr(()=>{e.arrowNavigation&&document.removeEventListener("keydown",f)})},im=()=>{const{checkPartialRangeValue:e,checkRangeEnabled:t,isValidDate:r}=kt(),{convertType:n,errorMapper:a}=Xe(),{getDate:o,rootEmit:l,state:i,rootProps:s,inputValue:c,defaults:{textInput:f,range:m,multiDates:v,timeConfig:u,formats:w},modelValue:b,updateTime:x}=Pe(),{setTime:d,getWeekFromDate:p}=at(),{formatSelectedDate:g,formatForTextInput:_}=ir();it(b,(D,R)=>{l("internal-model-change",b.value),JSON.stringify(R??{})!==JSON.stringify(D??{})&&x()},{deep:!0}),it(m,(D,R)=>{D.enabled!==R.enabled&&(b.value=null)}),it(()=>w.value.input,()=>{he()});const S=D=>D?s.modelType?ae(D):{hours:qt(D),minutes:Gt(D),seconds:u.value.enableSeconds?or(D):0}:null,Y=D=>s.modelType?ae(D):{month:Oe(D),year:ge(D)},k=D=>Array.isArray(D)?v.value.enabled?D.map(R=>O(R,Mt(o(),R))):t(()=>[Mt(o(),D[0]),D[1]?Mt(o(),D[1]):e(m.value.partialRange)],m.value.enabled):Mt(o(),+D),O=(D,R)=>(typeof D=="string"||typeof D=="number")&&s.modelType?ke(D):R,C=D=>Array.isArray(D)?[O(D[0],d(D[0])),O(D[1],d(D[1]))]:O(D,d(D)),B=D=>{const R=Te(o(),{date:1});return Array.isArray(D)?v.value.enabled?D.map(X=>O(X,Te(R,{month:+X.month,year:+X.year}))):t(()=>[O(D[0],Te(R,{month:+D[0].month,year:+D[0].year})),O(D[1],D[1]?Te(R,{month:+D[1].month,year:+D[1].year}):e(m.value.partialRange))],m.value.enabled):O(D,Te(R,{month:+D.month,year:+D.year}))},H=D=>{if(Array.isArray(D))return D.map(R=>ke(R));throw new Error(a.dateArr("multi-dates"))},W=D=>{if(Array.isArray(D)&&m.value.enabled){const R=D[0],X=D[1];return[o(Array.isArray(R)?R[0]:null),Array.isArray(X)&&X.length?o(X[0]):null]}return o(D[0])},J=D=>s.modelAuto?Array.isArray(D)?[ke(D[0]),ke(D[1])]:s.autoApply?[ke(D)]:[ke(D),null]:Array.isArray(D)?t(()=>D[1]?[ke(D[0]),D[1]?ke(D[1]):e(m.value.partialRange)]:[ke(D[0])],m.value.enabled):ke(D),ee=()=>{Array.isArray(b.value)&&m.value.enabled&&b.value.length===1&&b.value.push(e(m.value.partialRange))},j=()=>{const D=b.value;return[ae(D[0]),D[1]?ae(D[1]):e(m.value.partialRange)]},Q=()=>Array.isArray(b.value)?b.value[1]?j():ae(n(b.value[0])):[],L=()=>(b.value||[]).map(D=>ae(D)),q=(D=!1)=>(D||ee(),s.modelAuto?Q():v.value.enabled?L():Array.isArray(b.value)?t(()=>j(),m.value.enabled):ae(n(b.value))),ie=D=>!D||Array.isArray(D)&&!D.length?null:s.timePicker?C(n(D)):s.monthPicker?B(n(D)):s.yearPicker?k(n(D)):v.value.enabled?H(n(D)):s.weekPicker?W(n(D)):J(n(D)),K=D=>{if(i.isTextInputDate)return;const R=ie(D);r(n(R))?(b.value=n(R),he()):(b.value=null,c.value="")},le=()=>b.value?v.value.enabled?b.value.map(D=>g(D)).join("; "):f.value.enabled?_():g(b.value):"",he=()=>{c.value=le()},ke=D=>s.modelType?om.includes(s.modelType)?o(D):s.modelType==="format"&&typeof w.value.input=="string"?ja(D,w.value.input,o(),{locale:s.locale}):ja(D,s.modelType,o(),{locale:s.locale}):o(D),ae=D=>D?s.modelType?s.modelType==="timestamp"?+D:s.modelType==="iso"?D.toISOString():s.modelType==="format"&&typeof w.value.input=="string"?g(D):g(D,s.modelType):D:null,ve=D=>{l("update:model-value",D)},ce=D=>Array.isArray(b.value)?v.value.enabled?b.value.map(R=>D(R)):[D(b.value[0]),b.value[1]?D(b.value[1]):null]:D(n(b.value)),_e=()=>{if(Array.isArray(b.value)){const D=p(b.value[0],s.weekStart),R=b.value[1]?p(b.value[1],s.weekStart):[];return[D.map(X=>o(X)),R.map(X=>o(X))]}return p(b.value,s.weekStart).map(D=>o(D))},me=D=>ve(n(ce(D))),Ee=()=>l("update:model-value",_e());return{checkBeforeEmit:()=>b.value?m.value.enabled?m.value.partialRange?b.value.length>=1:b.value.length===2:!!b.value:!1,parseExternalModelValue:K,formatInputValue:he,emitModelValue:()=>(he(),s.monthPicker?me(Y):s.timePicker?me(S):s.yearPicker?me(ge):s.weekPicker?Ee():ve(q()))}},bn=()=>{const{defaults:{transitions:e}}=Pe(),t=N(()=>n=>e.value?n?e.value.open:e.value.close:""),r=N(()=>n=>e.value?n?e.value.menuAppearTop:e.value.menuAppearBottom:"");return{transitionName:t,showTransition:!!e.value,menuTransition:r}},xn=e=>{const{today:t,time:r,modelValue:n,defaults:{range:a}}=Pe(),{setTimeModelValue:o}=Xe();it(a,(l,i)=>{l.enabled!==i.enabled&&o(r,n.value,t,a.value.enabled)},{deep:!0}),it(n,(l,i)=>{e&&JSON.stringify(l??{})!==JSON.stringify(i??{})&&e()},{deep:!0})},kt=()=>{const{defaults:{safeDates:e,range:t,multiDates:r,filters:n,timeConfig:a},rootProps:o,getDate:l}=Pe(),{getMapKeyType:i,getMapDate:s,errorMapper:c,convertType:f}=Xe(),{isDateBefore:m,isDateAfter:v,isDateEqual:u,resetDate:w,getDaysInBetween:b,setTimeValue:x,getTimeObj:d,setTime:p}=at(),g=T=>e.value.disabledDates?typeof e.value.disabledDates=="function"?e.value.disabledDates(l(T)):!!s(T,e.value.disabledDates):!1,_=T=>e.value.maxDate?o.yearPicker?ge(T)>ge(e.value.maxDate):v(T,e.value.maxDate):!1,S=T=>e.value.minDate?o.yearPicker?ge(T)<ge(e.value.minDate):m(T,e.value.minDate):!1,Y=T=>{if(!T)return!1;const F=_(T),te=S(T),P=g(T),V=n.value.months.map(M=>+M).includes(Oe(T)),y=n.value.weekDays?.length?n.value.weekDays.some(M=>+M===zp(T)):!1,$=H(T),A=ge(T),U=A<+o.yearRange[0]||A>+o.yearRange[1];return!(F||te||P||V||U||y||$)},k=(T,F)=>m(...Ee(e.value.minDate,T,F))||u(...Ee(e.value.minDate,T,F)),O=(T,F)=>v(...Ee(e.value.maxDate,T,F))||u(...Ee(e.value.maxDate,T,F)),C=(T,F,te)=>{let P=!1;return e.value.maxDate&&te&&O(T,F)&&(P=!0),e.value.minDate&&!te&&k(T,F)&&(P=!0),P},B=(T,F,te,P)=>{let V=!1;return P&&(e.value.minDate||e.value.maxDate)?e.value.minDate&&e.value.maxDate?V=C(T,F,te):(e.value.minDate&&k(T,F)||e.value.maxDate&&O(T,F))&&(V=!0):V=!0,V},H=T=>Array.isArray(e.value.allowedDates)&&!e.value.allowedDates.length?!0:e.value.allowedDates?!s(T,e.value.allowedDates,i(o.monthPicker,o.yearPicker)):!1,W=T=>!Y(T),J=T=>t.value.noDisabledRange?!fo({start:T[0],end:T[1]}).some(F=>W(F)):!0,ee=T=>{if(T){const F=ge(T);return F>=+o.yearRange[0]&&F<=o.yearRange[1]}return!0},j=(T,F)=>!!(Array.isArray(T)&&T[F]&&(t.value.maxRange||t.value.minRange)&&ee(T[F])),Q=(T,F,te=0)=>{if(j(F,te)&&ee(T)){const P=Hi(T,F[te]),V=b(F[te],T),y=V.length===1?0:V.filter(A=>W(A)).length,$=Math.abs(P)-(t.value.minMaxRawRange?0:y);if(t.value.minRange&&t.value.maxRange)return $>=+t.value.minRange&&$<=+t.value.maxRange;if(t.value.minRange)return $>=+t.value.minRange;if(t.value.maxRange)return $<=+t.value.maxRange}return!0},L=()=>!a.value.enableTimePicker||o.monthPicker||o.yearPicker||a.value.ignoreTimeValidation,q=T=>Array.isArray(T)?[T[0]?x(T[0]):null,T[1]?x(T[1]):null]:x(T),ie=(T,F,te)=>F?T.find(P=>+P.hours===qt(F)&&P.minutes==="*"?!0:+P.minutes===Gt(F)&&+P.hours===qt(F))&&te:!1,K=(T,F,te)=>{const[P,V]=T,[y,$]=F;return!ie(P,y,te)&&!ie(V,$,te)&&te},le=(T,F)=>{const te=Array.isArray(F)?F:[F];return Array.isArray(o.disabledTimes)?Array.isArray(o.disabledTimes[0])?K(o.disabledTimes,te,T):!te.some(P=>ie(o.disabledTimes,P,T)):T},he=(T,F)=>{const te=Array.isArray(F)?[d(F[0]),F[1]?d(F[1]):void 0]:d(F),P=!o.disabledTimes(te);return T&&P},ke=(T,F)=>o.disabledTimes?Array.isArray(o.disabledTimes)?le(F,T):he(F,T):F,ae=T=>{let F=!0;if(!T||L())return!0;const te=!e.value.minDate&&!e.value.maxDate?q(T):T;return(o.maxTime||e.value.maxDate)&&(F=R(o.maxTime,e.value.maxDate,"max",f(te),F)),(o.minTime||e.value.minDate)&&(F=R(o.minTime,e.value.minDate,"min",f(te),F)),ke(T,F)},ve=T=>{if(!o.monthPicker)return!0;let F=!0;const te=l(w(T));if(e.value.minDate&&e.value.maxDate){const P=l(w(e.value.minDate)),V=l(w(e.value.maxDate));return v(te,P)&&m(te,V)||u(te,P)||u(te,V)}if(e.value.minDate){const P=l(w(e.value.minDate));F=v(te,P)||u(te,P)}if(e.value.maxDate){const P=l(w(e.value.maxDate));F=m(te,P)||u(te,P)}return F},ce=N(()=>T=>!a.value.enableTimePicker||a.value.ignoreTimeValidation?!0:ae(T)),_e=N(()=>T=>o.monthPicker?Array.isArray(T)&&(t.value.enabled||r.value.enabled)?!T.filter(F=>!ve(F)).length:ve(T):!0),me=(T,F,te)=>{if(!F||te&&!e.value.maxDate||!te&&!e.value.minDate)return!1;const P=te?Ot(T,1):Ur(T,1),V=[Oe(P),ge(P)];return te?!O(...V):!k(...V)},Ee=(T,F,te)=>[Te(l(T),{date:1}),Te(l(),{month:F,year:te,date:1})],D=(T,F,te,P)=>{if(!T)return!0;if(P){const V=te==="max"?jt(T,F):Yt(T,F),y={seconds:0,milliseconds:0};return V||Er(Te(T,y),Te(F,y))}return te==="max"?T.getTime()<=F.getTime():T.getTime()>=F.getTime()},R=(T,F,te,P,V)=>{if(Array.isArray(P)){const $=X(T,P[0],F),A=X(T,P[1],F);return D(P[0],$,te,!!F)&&D(P[1],A,te,!!F)&&V}const y=X(T,P,F);return D(P,y,te,!!F)&&V},X=(T,F,te)=>T?p(T,F):l(te??F);return{isDisabled:W,validateDate:Y,validateMonthYearInRange:B,isDateRangeAllowed:J,checkMinMaxRange:Q,isValidTime:ae,validateMonthYear:me,validateMinDate:k,validateMaxDate:O,isValidDate:T=>Array.isArray(T)?an(T[0])&&(T[1]?an(T[1]):!0):T?an(T):!1,checkPartialRangeValue:T=>{if(T)return null;throw new Error(c.prop("partial-range"))},checkRangeEnabled:(T,F)=>{if(F)return T();throw new Error(c.prop("range"))},checkMinMaxValue:(T,F,te)=>{const P=te!=null,V=F!=null;if(!P&&!V)return!1;const y=+te,$=+F;return P&&V?+T>y||+T<$:P?+T>y:V?+T<$:!1},isTimeValid:ce,isMonthValid:_e}},sm=e=>{const{rootEmit:t,rootProps:r,defaults:{timeConfig:n,flow:a}}=Pe(),o=ue(0),l=Fr({[hr.timePicker]:!n.value.enableTimePicker||r.timePicker||r.monthPicker,[hr.calendar]:!1,[hr.header]:!1}),i=N(()=>r.monthPicker||r.timePicker),s=u=>{if(a.value?.steps?.length){if(!u&&i.value)return v();l[u]=!0,Object.keys(l).filter(w=>!l[w]).length||v()}},c=()=>{a.value?.steps?.length&&o.value!==-1&&(o.value+=1,t("flow-step",o.value),v()),a.value?.steps?.length===o.value&&st().then(()=>f())},f=()=>{o.value=-1},m=(u,w,...b)=>{a.value?.steps[o.value]===u&&e.value&&e.value[w]?.(...b)},v=(u=0)=>{u&&(o.value+=u),m(ot.month,"toggleMonthPicker",!0),m(ot.year,"toggleYearPicker",!0),m(ot.calendar,"toggleTimePicker",!1,!0),m(ot.time,"toggleTimePicker",!0,!0);const w=a.value?.steps[o.value];(w===ot.hours||w===ot.minutes||w===ot.seconds)&&m(w,"toggleTimePicker",!0,!0,w)};return{childMount:s,updateFlowStep:c,resetFlow:f,handleFlow:v,flowStep:o}};function Ea(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}function en(e){return(t,r)=>{const n=r?.context?String(r.context):"standalone";let a;if(n==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,i=r?.width?String(r.width):l;a=e.formattingValues[i]||e.formattingValues[l]}else{const l=e.defaultWidth,i=r?.width?String(r.width):e.defaultWidth;a=e.values[i]||e.values[l]}const o=e.argumentCallback?e.argumentCallback(t):t;return a[o]}}function tn(e){return(t,r={})=>{const n=r.width,a=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(a);if(!o)return null;const l=o[0],i=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],s=Array.isArray(i)?cm(i,m=>m.test(l)):um(i,m=>m.test(l));let c;c=e.valueCallback?e.valueCallback(s):s,c=r.valueCallback?r.valueCallback(c):c;const f=t.slice(l.length);return{value:c,rest:f}}}function um(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function cm(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function dm(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const a=n[0],o=t.match(e.parsePattern);if(!o)return null;let l=e.valueCallback?e.valueCallback(o[0]):o[0];l=r.valueCallback?r.valueCallback(l):l;const i=t.slice(a.length);return{value:l,rest:i}}}const fm={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},pm=(e,t,r)=>{let n;const a=fm[e];return typeof a=="string"?n=a:t===1?n=a.one:n=a.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n},hm={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},mm=(e,t,r,n)=>hm[e],vm={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ym={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},gm={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},wm={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},bm={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},xm={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},km=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},_m={ordinalNumber:km,era:en({values:vm,defaultWidth:"wide"}),quarter:en({values:ym,defaultWidth:"wide",argumentCallback:e=>e-1}),month:en({values:gm,defaultWidth:"wide"}),day:en({values:wm,defaultWidth:"wide"}),dayPeriod:en({values:bm,defaultWidth:"wide",formattingValues:xm,defaultFormattingWidth:"wide"})},Am=/^(\d+)(th|st|nd|rd)?/i,Dm=/\d+/i,Tm={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Mm={any:[/^b/i,/^(a|c)/i]},Pm={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Om={any:[/1/i,/2/i,/3/i,/4/i]},Cm={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Sm={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Em={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},$m={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Rm={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Lm={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Ym={ordinalNumber:dm({matchPattern:Am,parsePattern:Dm,valueCallback:e=>parseInt(e,10)}),era:tn({matchPatterns:Tm,defaultMatchWidth:"wide",parsePatterns:Mm,defaultParseWidth:"any"}),quarter:tn({matchPatterns:Pm,defaultMatchWidth:"wide",parsePatterns:Om,defaultParseWidth:"any",valueCallback:e=>e+1}),month:tn({matchPatterns:Cm,defaultMatchWidth:"wide",parsePatterns:Sm,defaultParseWidth:"any"}),day:tn({matchPatterns:Em,defaultMatchWidth:"wide",parsePatterns:$m,defaultParseWidth:"any"}),dayPeriod:tn({matchPatterns:Rm,defaultMatchWidth:"any",parsePatterns:Lm,defaultParseWidth:"any"})},Im={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Fm={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Nm={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Bm={date:Ea({formats:Im,defaultWidth:"full"}),time:Ea({formats:Fm,defaultWidth:"full"}),dateTime:Ea({formats:Nm,defaultWidth:"full"})},Vm={code:"en-US",formatDistance:pm,formatLong:Bm,formatRelative:mm,localize:_m,match:Ym,options:{weekStartsOn:0,firstWeekContainsDate:1}},vl={noDisabledRange:!1,showLastInRange:!0,minMaxRawRange:!1,partialRange:!0,disableTimeRangeValidation:!1,maxRange:void 0,minRange:void 0,autoRange:void 0,fixedStart:!1,fixedEnd:!1,autoSwitchStartEnd:!0},Hm={allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,arrowLeft:void 0,keepViewOnOffsetClick:!1,timeArrowHoldThreshold:0,shadowDom:!1,mobileBreakpoint:600,setDateOnMenuClose:!1,escClose:!0,spaceConfirm:!0,monthChangeOnArrows:!0,monthChangeOnScroll:!0},yl={enterSubmit:!0,tabSubmit:!0,openMenu:"open",selectOnFocus:!1,rangeSeparator:" - ",escClose:!0,format:void 0,maskFormat:void 0,applyOnBlur:!1,separators:void 0},qm={dates:[],years:[],months:[],quarters:[],weeks:[],weekdays:[],options:{highlightDisabled:!1}},Wm={showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,selectBtnLabel:"Select",cancelBtnLabel:"Cancel",nowBtnLabel:"Now",nowBtnRound:void 0},jm={toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:e=>`Increment ${e}`,decrementValue:e=>`Decrement ${e}`,openTpOverlay:e=>`Open ${e} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:void 0,weekDay:void 0,clearInput:"Clear value",calendarIcon:"Calendar icon",timePicker:"Time picker",monthPicker:e=>`Month picker${e?" overlay":""}`,yearPicker:e=>`Year picker${e?" overlay":""}`,timeOverlay:e=>`${e} overlay`},gl={menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down"},Um={weekDays:[],months:[],years:[],times:{hours:[],minutes:[],seconds:[]}},Km={month:"LLL",year:"yyyy",weekDay:"EEEEEE",quarter:"MMMM",day:"d",input:void 0,preview:void 0},Gm={enableTimePicker:!0,ignoreTimeValidation:!1,enableSeconds:!1,enableMinutes:!0,is24:!0,noHoursOverlay:!1,noMinutesOverlay:!1,noSecondsOverlay:!1,hoursGridIncrement:1,minutesGridIncrement:5,secondsGridIncrement:5,hoursIncrement:1,minutesIncrement:1,secondsIncrement:1,timePickerInline:!1,startTime:void 0},Qm={flowStep:0,menuWrapRef:null,collapse:!1},zm={weekStart:us.Monday,yearRange:()=>[1900,2100],ui:()=>({}),locale:()=>Vm,dark:!1,transitions:!0,hideNavigation:()=>[],vertical:!1,hideMonthYearSelect:!1,disableYearSelect:!1,autoApply:!1,disabledDates:()=>[],hideOffsetDates:!1,noToday:!1,markers:()=>[],presetDates:()=>[],preventMinMaxNavigation:!1,reverseYears:!1,weekPicker:!1,arrowNavigation:!1,monthPicker:!1,yearPicker:!1,quarterPicker:!1,timePicker:!1,modelAuto:!1,multiDates:!1,range:!1,inline:!1,sixWeeks:!1,focusStartDate:!1,yearFirst:!1,loading:!1,centered:!1},wl={name:void 0,required:!1,autocomplete:"off",state:void 0,clearable:!0,alwaysClearable:!1,hideInputIcon:!1,id:void 0,inputmode:"none"},Ln={type:"local",hideOnOffsetDates:!1,label:"W"},Xm=e=>{const{getMapKey:t,getMapKeyType:r,getTimeObjFromCurrent:n}=Xe();function a(L,q){let ie;return e.timezone?ie=new $r(L??new Date,e.timezone):ie=L?new Date(L):new Date,q?Te(ie,{hours:0,minutes:0,seconds:0,milliseconds:0}):ie}const o=()=>{const L=J.value.enableSeconds?":ss":"",q=J.value.enableMinutes?":mm":"";return J.value.is24?`HH${q}${L}`:`hh${q}${L} aa`},l=()=>e.monthPicker?"MM/yyyy":e.timePicker?o():e.weekPicker?`${Y.value?.type==="iso"?"II":"ww"}-RR`:e.yearPicker?"yyyy":e.quarterPicker?"QQQ/yyyy":J.value.enableTimePicker?`MM/dd/yyyy, ${o()}`:"MM/dd/yyyy",i=L=>n(a(),L,J.value.enableSeconds),s=()=>C.value.enabled?J.value.startTime&&Array.isArray(J.value.startTime)?[i(J.value.startTime[0]),i(J.value.startTime[1])]:null:J.value.startTime&&!Array.isArray(J.value.startTime)?i(J.value.startTime):null,c=L=>L?typeof L=="boolean"?L?2:0:Math.max(+L,2):0,f=L=>{const q=r(e.monthPicker,e.yearPicker);return new Map(L.map(ie=>{const K=a(ie,m.value);return[t(K,q),K]}))},m=N(()=>e.monthPicker||e.yearPicker||e.quarterPicker),v=N(()=>{const L=typeof e.multiCalendars=="object"&&e.multiCalendars,q={static:!0,solo:!1};if(!e.multiCalendars)return{...q,count:c(!1)};const ie=L?e.multiCalendars:{},K=L?ie.count??!0:e.multiCalendars,le=c(K);return Object.assign(q,ie,{count:le})}),u=N(()=>s()),w=N(()=>({...jm,...e.ariaLabels})),b=N(()=>({...Um,...e.filters})),x=N(()=>typeof e.transitions=="boolean"?e.transitions?gl:!1:{...gl,...e.transitions}),d=N(()=>({...Wm,...e.actionRow})),p=N(()=>typeof e.textInput=="object"?{...yl,...e.textInput,format:typeof e.textInput.format=="string"?e.textInput.format:H.value.input,pattern:e.textInput.format??H.value.input,enabled:!0}:{...yl,format:H.value.input,pattern:H.value.input,enabled:e.textInput}),g=N(()=>{const L={input:!1};return typeof e.inline=="object"?{...L,...e.inline,enabled:!0}:{enabled:e.inline,...L}}),_=N(()=>({...Hm,...e.config})),S=N(()=>typeof e.highlight=="function"?e.highlight:{...qm,...e.highlight}),Y=N(()=>typeof e.weekNumbers=="object"?{type:e.weekNumbers?.type??Ln.type,hideOnOffsetDates:e.weekNumbers?.hideOnOffsetDates??Ln.hideOnOffsetDates,label:e.weekNumbers.label??Ln.label}:e.weekNumbers?Ln:void 0),k=N(()=>typeof e.multiDates=="boolean"?{enabled:e.multiDates,dragSelect:!0,limit:null}:{enabled:!!e.multiDates,limit:e.multiDates?.limit?+e.multiDates.limit:null,dragSelect:e.multiDates?.dragSelect??!0}),O=N(()=>({minDate:e.minDate?a(e.minDate):null,maxDate:e.maxDate?a(e.maxDate):null,disabledDates:Array.isArray(e.disabledDates)?f(e.disabledDates):e.disabledDates,allowedDates:Array.isArray(e.allowedDates)?f(e.allowedDates):null,highlight:typeof S.value=="object"&&Array.isArray(S.value.dates)?f(S.value.dates):S.value,markers:e.markers?.length?new Map(e.markers.map(L=>{const q=a(L.date);return[t(q,Rr.DATE),L]})):null})),C=N(()=>typeof e.range=="object"?{enabled:!0,...vl,...e.range}:{enabled:e.range,...vl}),B=N(()=>({...Object.fromEntries(Object.keys(e.ui).map(L=>{const q=L,ie=e.ui[q];if(q==="dayClass")return[q,e.ui[q]];const K=typeof e.ui[q]=="string"?{[ie]:!0}:Object.fromEntries(ie.map(le=>[le,!0]));return[L,K]}))})),H=N(()=>({...Km,...e.formats,input:e.formats?.input??l(),preview:e.formats?.preview??l()})),W=N(()=>{if(e.teleport)return typeof e.teleport=="string"?e.teleport:typeof e.teleport=="boolean"?"body":e.teleport}),J=N(()=>({...Gm,...e.timeConfig})),ee=N(()=>{if(e.flow)return{steps:[],partial:!1,...e.flow}}),j=N(()=>{const L=p.value.enabled?"text":"none";return e.inputAttrs?{...wl,inputmode:L,...e.inputAttrs}:{...wl,inputmode:L}}),Q=N(()=>({offset:e.floating?.offset??10,arrow:e.floating?.arrow??!0,strategy:e.floating?.strategy??void 0,placement:e.floating?.placement??void 0,flip:e.floating?.flip??!0,shift:e.floating?.shift??!0}));return{transitions:x,multiCalendars:v,startTime:u,ariaLabels:w,filters:b,actionRow:d,textInput:p,inline:g,config:_,highlight:S,weekNumbers:Y,range:C,safeDates:O,multiDates:k,ui:B,formats:H,teleport:W,timeConfig:J,flow:ee,inputAttrs:j,floatingConfig:Q,getDate:a}},Xe=()=>{const e=(p,g)=>yt(p,g??Rr.DATE),t=(p,g)=>p?Rr.MONTH_AND_YEAR:g?Rr.YEAR:Rr.DATE,r=(p,g,_)=>g.get(e(p,_)),n=p=>p,a=p=>p===0?p:!p||Number.isNaN(+p)?null:+p,o=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", "),l=(p,g)=>{let _=[...document.querySelectorAll(o())];_=_.filter(Y=>!p.contains(Y)||"datepicker-instance"in Y.dataset);const S=_.indexOf(p);if(S>=0&&(g?S-1>=0:S+1<=_.length))return _[S+(g?-1:1)]},i=p=>String(p).padStart(2,"0"),s=(p,g)=>p?.querySelector(`[data-dp-element="${g}"]`),c=(p,g,_=!1)=>{p&&g.allowStopPropagation&&(_&&p.stopImmediatePropagation(),p.stopPropagation())},f=(p,g,_=!1,S)=>{if(p.key===Ie.enter||p.key===Ie.space)return _&&p.preventDefault(),g();if(S)return S(p)},m=(p,g)=>{g.allowStopPropagation&&p.stopPropagation(),g.allowPreventDefault&&p.preventDefault()},v=p=>{if(p)return[...p.querySelectorAll("input, button, select, textarea, a[href]")][0]},u=()=>"ontouchstart"in globalThis||navigator.maxTouchPoints>0,w=p=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][p],b=p=>{const g=[],_=S=>S.filter(Y=>!!Y);for(let S=0;S<p.length;S+=3){const Y=[p[S],p[S+1],p[S+2]];g.push(_(Y))}return g},x={prop:p=>`"${p}" prop must be enabled!`,dateArr:p=>`You need to use array as "model-value" binding in order to support "${p}"`},d=(p,g,_,S,Y)=>{const k={hours:qt,minutes:Gt,seconds:or};if(!g)return S?[k[p](_),k[p](_)]:k[p](_);if(Array.isArray(g)&&S){const O=g[0]??_,C=g[1];return[k[p](O),C?k[p](C):Y[p][1]??k[p](_)]}return Array.isArray(g)&&!S?k[p](g[g.length-1]??_):k[p](g)};return{getMapKey:e,getMapKeyType:t,getMapDate:r,convertType:n,getNumVal:a,findNextFocusableElement:l,padZero:i,getElWithin:s,checkStopPropagation:c,checkKeyDown:f,handleEventPropagation:m,findFocusableEl:v,isTouchDevice:u,hoursToAmPmHours:w,getGroupedList:b,setTimeModelValue:(p,g,_,S)=>{p.hours=d("hours",g,_,S,p),p.minutes=d("minutes",g,_,S,p),p.seconds=d("seconds",g,_,S,p)},getTimeObjFromCurrent:(p,g,_)=>{const S={hours:qt(p),minutes:Gt(p),seconds:_?or(p):0};return Object.assign(S,g)},errorMapper:x}},at=()=>{const{getDate:e}=Pe(),{getMapDate:t,getGroupedList:r}=Xe(),n=(d,p)=>{if(!d)return e();const g=e(d),_=Te(g,{hours:0,minutes:0,seconds:0,milliseconds:0});return p?Yp(_):_},a=(d,p)=>{const g=e(p);return Te(g,{hours:+(d.hours??qt(g)),minutes:+(d.minutes??Gt(g)),seconds:+(d.seconds??or(g)),milliseconds:0})},o=(d,p)=>{const g=xt(d,{weekStartsOn:+p}),_=po(d,{weekStartsOn:+p});return[g,_]},l=(d,p)=>!d||!p?!1:jt(n(d),n(p)),i=(d,p)=>!d||!p?!1:Er(n(d),n(p)),s=(d,p)=>!d||!p?!1:Yt(n(d),n(p)),c=(d,p,g)=>d?.[0]&&d?.[1]?s(g,d[0])&&l(g,d[1]):d?.[0]&&p?s(g,d[0])&&l(g,p)||l(g,d[0])&&s(g,p):!1,f=(d,p)=>{const g=s(d,p)?p:d,_=s(p,d)?p:d;return fo({start:g,end:_})},m=d=>`dp-${yt(d,"yyyy-MM-dd")}`,v=d=>n(Te(e(d),{date:1})),u=(d,p)=>{if(p){const g=ge(e(p));if(g>d)return 12;if(g===d)return Oe(e(p))}},w=(d,p)=>{if(p){const g=ge(e(p));return g<d?-1:g===d?Oe(e(p)):void 0}},b=d=>{if(d)return ge(e(d))},x=d=>({hours:qt(d),minutes:Gt(d),seconds:or(d)});return{resetDateTime:n,groupListAndMap:(d,p)=>r(d).map(g=>g.map(_=>{const{active:S,disabled:Y,isBetween:k,highlighted:O}=p(_);return{..._,active:S,disabled:Y,className:{dp__overlay_cell_active:S,dp__overlay_cell:!S,dp__overlay_cell_disabled:Y,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:Y&&S,dp__cell_in_between:k,"dp--highlighted":O}}})),setTime:a,getWeekFromDate:o,isDateAfter:s,isDateBefore:l,isDateBetween:c,isDateEqual:i,getDaysInBetween:f,getCellId:m,resetDate:v,getMinMonth:u,getMaxMonth:w,getYearFromDate:b,getTimeObj:x,setTimeValue:d=>Te(e(),x(d)),sanitizeTime:(d,p,g)=>p&&(g||g===0)?Object.fromEntries(["hours","minutes","seconds"].map(_=>_===p?[_,g]:[_,Number.isNaN(+d[_])?void 0:+d[_]])):{hours:Number.isNaN(+d.hours)?void 0:+d.hours,minutes:Number.isNaN(+d.minutes)?void 0:+d.minutes,seconds:Number.isNaN(+(d.seconds??""))?void 0:+d.seconds},getBeforeAndAfterInRange:(d,p)=>{const g=Ji(n(p),d),_=gt(n(p),d);return{before:g,after:_}},isModelAuto:d=>Array.isArray(d)?!!d[0]&&!!d[1]:!1,matchDate:(d,p)=>d?p?p instanceof Map?!!t(d,p):p(e(d)):!1:!0,checkHighlightMonth:(d,p,g)=>typeof d=="function"?d({month:p,year:g}):d.months.some(_=>_.month===p&&_.year===g),checkHighlightYear:(d,p)=>typeof d=="function"?d(p):d.years.includes(p)}},aa=()=>{const{defaults:{config:e}}=Pe(),t=ue(0);Je(()=>{r(),globalThis.addEventListener("resize",r,{passive:!0})}),gr(()=>{globalThis.removeEventListener("resize",r)});const r=()=>{t.value=globalThis.document.documentElement.clientWidth};return{isMobile:N(()=>t.value<=e.value.mobileBreakpoint?!0:void 0)}},ir=()=>{const{getDate:e,state:t,modelValue:r,rootProps:n,defaults:{formats:a,textInput:o}}=Pe(),l=w=>yt(Mt(e(),w),a.value.year,{locale:n.locale}),i=w=>yt(es(e(),w),a.value.month,{locale:n.locale}),s=w=>yt(w,a.value.weekDay,{locale:n.locale}),c=w=>yt(w,a.value.quarter,{locale:n.locale}),f=(w,b)=>[w,b].map(x=>c(x)).join("-"),m=w=>yt(w,a.value.day,{locale:n.locale}),v=(w,b,x)=>{const d=x?a.value.preview:a.value.input;if(!w)return"";if(typeof d=="function")return d(w);const p=b??d,g={locale:n.locale};return Array.isArray(w)?`${yt(w[0],p,g)}${n.modelAuto&&!w[1]?"":o.value.rangeSeparator}${w[1]?yt(w[1],p,g):""}`:yt(w,p,g)},u=()=>{const w=b=>yt(b,o.value.format);return Array.isArray(r.value)?`${w(r.value[0])} ${o.value.rangeSeparator} ${r.value[1]?w(r.value[1]):""}`:""};return{formatYear:l,formatMonth:i,formatWeekDay:s,formatQuarter:c,formatSelectedDate:v,formatForTextInput:()=>t.isInputFocused&&r.value?Array.isArray(r.value)?u():yt(r.value,o.value.format):v(r.value),formatPreview:w=>v(w,void 0,!0),formatQuarterText:f,formatDay:m}},oa=()=>{const{rootProps:e}=Pe(),{formatYear:t,formatMonth:r}=ir();return{getMonths:()=>[0,1,2,3,4,5,6,7,8,9,10,11].map(n=>({text:r(n),value:n})),getYears:()=>{const n=[];for(let a=+e.yearRange[0];a<=+e.yearRange[1];a++)n.push({value:+a,text:t(a)});return e.reverseYears?n.reverse():n},isOutOfYearRange:n=>n<+e.yearRange[0]||n>+e.yearRange[1]}},Zm=e=>({openMenu:()=>e.value?.openMenu(),closeMenu:()=>e.value?.closeMenu(),selectDate:()=>e.value?.selectDate(),clearValue:()=>e.value?.clearValue(),formatInputValue:()=>e.value?.formatInputValue(),updateInternalModelValue:t=>e.value?.updateInternalModelValue(t),setMonthYear:(t,r)=>e.value?.setMonthYear(t,r),parseModel:()=>e.value?.parseModel(),switchView:(t,r)=>e.value?.switchView(t,r),handleFlow:()=>e.value?.handleFlow(),toggleMenu:()=>e.value?.toggleMenu(),dpMenuRef:()=>e.value?.dpMenuRef(),dpWrapMenuRef:()=>e.value?.dpWrapMenuRef(),inputRef:()=>e.value?.inputRef()}),Qr=()=>({boolHtmlAttribute:e=>e?!0:void 0}),Jm=()=>{const{getDate:e,rootProps:t,defaults:{textInput:r,startTime:n,timeConfig:a}}=Pe(),{getTimeObjFromCurrent:o}=Xe(),l=ue(!1),i=N(()=>Array.isArray(n.value)?n.value[0]:n.value??o(e(),{},a.value.enableSeconds)),s=(f,m)=>{const v=/[^a-zA-Z]+/g,u=/\D+/g,w=m.split(u),b=f.split(v),x=f.match(v)||[],d=m.match(u)||[];let p="";for(let g=0;g<w.length&&g<b.length;g++){g>0&&d[g-1]&&(p+=x[g-1]||d[g-1]);const _=w[g]?.length;p+=b[g]?.slice(0,_)}return p},c=(f,m,v)=>{const u=ja(f,s(m,f),e(),{locale:t.locale});return an(u)&&qi(u)?v||l.value?u:Te(u,{hours:+i.value.hours,minutes:+i.value.minutes,seconds:+(i.value.seconds??0),milliseconds:0}):null};return{textPasted:l,parseFreeInput:(f,m)=>{if(typeof r.value.pattern=="string")return c(f,r.value.pattern,m);if(Array.isArray(r.value.pattern)){let v=null;for(const u of r.value.pattern)if(v=c(f,u,m),v)break;return v}return typeof r.value.pattern=="function"?r.value.pattern(f):null},applyMaxValues:(f,m)=>{const v={MM:12,DD:31,hh:23,mm:59,ss:59};let u="",w=0;for(let b=0;b<m.length;b++){const x=m[b],d=x.length,p=f.slice(w,w+d);if(!p)break;if(p.length<d)u+=p;else{let g=Number.parseInt(p,10);v[x]&&g>v[x]&&(g=v[x]),u+=g.toString().padStart(d,"0").slice(0,d)}w+=d}return u},createMaskedValue:(f,m)=>{const v=/(YYYY|MM|DD|hh|mm|ss)/g,u=[...m.matchAll(v)].map(p=>p[0]),w=m.replace(v,"|").split("|").filter(Boolean),b=u.map(p=>p.length);let x="",d=0;for(let p=0;p<u.length;p++){const g=b[p],_=f.slice(d,d+g);if(!_)break;x+=_,_.length===g&&w[p]&&(x+=w[p]),d+=g}return x}}};var St=(e=>(e.Input="input",e.DatePicker="date-picker",e.Calendar="calendar",e.DatePickerHeader="date-picker-header",e.Menu="menu",e.ActionRow="action-row",e.TimePicker="time-picker",e.TimeInput="time-input",e.PassTrough="pass-trough",e.MonthPicker="month-picker",e.YearMode="year-mode",e.QuarterPicker="quarter-picker",e.YearPicker="year-picker",e))(St||{});const Tr=["time-input","time-picker","pass-trough"],cs=[{name:"trigger",use:["input"]},{name:"input-icon",use:["input"]},{name:"clear-icon",use:["input"]},{name:"dp-input",use:["input"]},{name:"clock-icon",use:["time-picker","time-input","pass-trough"]},{name:"arrow-left",use:["date-picker-header","pass-trough","year-mode"]},{name:"arrow-right",use:["date-picker-header","pass-trough","year-mode"]},{name:"arrow-up",use:["time-picker","time-input","date-picker-header","pass-trough"]},{name:"arrow-down",use:["time-picker","time-input","date-picker-header","pass-trough"]},{name:"calendar-icon",use:["date-picker-header","time-picker","pass-trough","year-mode"]},{name:"day",use:["calendar","pass-trough"]},{name:"month-overlay-value",use:["date-picker-header","pass-trough","month-picker"]},{name:"year-overlay-value",use:["date-picker-header","pass-trough","year-mode","year-picker"]},{name:"year-overlay",use:["date-picker-header","pass-trough"]},{name:"month-overlay",use:["date-picker-header","pass-trough"]},{name:"month-overlay-header",use:["date-picker-header","pass-trough"]},{name:"year-overlay-header",use:["date-picker-header","pass-trough"]},{name:"hours-overlay-value",use:Tr},{name:"hours-overlay-header",use:Tr},{name:"minutes-overlay-value",use:Tr},{name:"minutes-overlay-header",use:Tr},{name:"seconds-overlay-value",use:Tr},{name:"seconds-overlay-header",use:Tr},{name:"hours",use:["time-input","time-picker","pass-trough"]},{name:"minutes",use:["time-input","time-picker","pass-trough"]},{name:"seconds",use:["time-input","time-picker","pass-trough"]},{name:"month",use:["date-picker-header","time-picker","pass-trough"]},{name:"year",use:["date-picker-header","time-picker","pass-trough","year-mode"]},{name:"action-buttons",use:["action-row"]},{name:"action-preview",use:["action-row"]},{name:"calendar-header",use:["calendar","pass-trough"]},{name:"marker-tooltip",use:["calendar","pass-trough"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["time-picker","time-picker","pass-trough"]},{name:"am-pm-button",use:["time-picker","time-input","pass-trough"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["date-picker-header","pass-trough","month-picker","year-picker"]},{name:"time-picker",use:["date-picker","pass-trough"]},{name:"action-row",use:["action-row"]},{name:"marker",use:["calendar","pass-trough"]},{name:"quarter",use:["quarter-picker","pass-trough"]},{name:"top-extra",use:["date-picker-header","pass-trough","month-picker","quarter-picker","year-picker"]},{name:"tp-inline-arrow-up",use:["date-picker","time-input","time-picker","pass-trough"]},{name:"tp-inline-arrow-down",use:["date-picker","time-input","time-picker","pass-trough"]},{name:"arrow",use:["menu"]},{name:"menu-header",use:["menu"]}],Vt=(e,t)=>cs.filter(r=>e[r.name]&&r.use.includes(t)).map(r=>r.name),ds=(e,t)=>cs.map(r=>r.name).concat(t?.filter(r=>r.slot).map(r=>r.slot)??[]).filter(r=>!!e[r]),ev={key:1,class:"dp__input_wrap"},tv=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],rv={key:1,class:"dp--clear-btn"},nv=["aria-label"],av=ze({__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1}},emits:["clear","open","set-input-date","close","select-date","set-empty-date","toggle","focus","blur","real-blur"],setup(e,{expose:t,emit:r}){const n=r,a=e,{rootEmit:o,inputValue:l,rootProps:i,defaults:{textInput:s,ariaLabels:c,inline:f,config:m,range:v,multiDates:u,ui:w,inputAttrs:b}}=Pe(),{checkMinMaxRange:x,isValidDate:d}=kt(),{parseFreeInput:p,textPasted:g,createMaskedValue:_,applyMaxValues:S}=Jm(),{checkKeyDown:Y,checkStopPropagation:k}=Xe(),{boolHtmlAttribute:O}=Qr(),C=Be("dp-input"),B=ue(null),H=ue(!1),W=N(()=>({dp__pointer:!i.disabled&&!i.readonly&&!s.value.enabled,dp__disabled:i.disabled,dp__input_readonly:!s.value.enabled,dp__input:!0,dp__input_not_clearable:!b.value.clearable,dp__input_icon_pad:!b.value.hideInputIcon,dp__input_valid:typeof b.value.state=="boolean"?b.value.state:!1,dp__input_invalid:typeof b.value.state=="boolean"?!b.value.state:!1,dp__input_focus:H.value||a.isMenuOpen,dp__input_reg:!s.value.enabled,...w.value.input})),J=()=>{n("set-input-date",null),b&&i.autoApply&&(n("set-empty-date"),B.value=null)},ee=D=>{if(s.value.separators?.length){const R=new RegExp(s.value.separators.map(X=>X.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")).join("|"));return D.split(R)}return D.split(s.value.rangeSeparator)},j=D=>{const[R,X]=ee(D);if(R){const T=p(R.trim(),l.value),F=X?p(X.trim(),l.value):void 0;if(Yt(T,F))return;const te=T&&F?[T,F]:[T];x(F,te,0)&&(B.value=T?te:null)}},Q=()=>{g.value=!0},L=D=>{if(v.value.enabled)j(D);else if(u.value.enabled){const R=D.split(";");B.value=R.map(X=>p(X.trim())).filter(X=>!!X)}else B.value=p(D,l.value)},q=D=>{const R=typeof D=="string"?D:D.target?.value,X=s?.value?.maskFormat;let T=R;if(typeof X=="string"){const F=/(YYYY|MM|DD|hh|mm|ss)/g,te=[...X.matchAll(F)].map(y=>y[0]),P=R.replace(/\D/g,""),V=S(P,te);T=_(V,X)}T===""?J():(s.value.openMenu&&!a.isMenuOpen&&n("open"),L(T),n("set-input-date",B.value)),g.value=!1,l.value=T,o("text-input",D,B.value)},ie=D=>{s.value.enabled?(L(D.target.value),s.value.enterSubmit&&d(B.value)&&l.value!==""?(n("set-input-date",B.value,!0),B.value=null):s.value.enterSubmit&&l.value===""&&(B.value=null,n("clear"))):he(D)},K=(D,R)=>{s.value.enabled&&s.value.tabSubmit&&!R&&L(D.target.value),s.value.tabSubmit&&d(B.value)&&l.value!==""?(n("set-input-date",B.value,!0,!0),B.value=null):s.value.tabSubmit&&l.value===""&&(B.value=null,n("clear"))},le=()=>{H.value=!0,n("focus"),st().then(()=>{s.value.enabled&&s.value.selectOnFocus&&C.value?.select()})},he=D=>{if(k(D,m.value,!0),s.value.enabled&&s.value.openMenu&&!f.value.input){if(s.value.openMenu==="open"&&!a.isMenuOpen)return n("open");if(s.value.openMenu==="toggle")return n("toggle")}else s.value.enabled||n("toggle")},ke=()=>{n("real-blur"),H.value=!1,(!a.isMenuOpen||f.value.enabled&&f.value.input)&&n("blur"),(i.autoApply&&s.value.enabled&&B.value&&!a.isMenuOpen||s.value.applyOnBlur)&&(n("set-input-date",B.value),n("select-date"),B.value=null)},ae=D=>{k(D,m.value,!0),n("clear")},ve=()=>{n("close")},ce=D=>{if(D.key==="Tab"&&K(D),D.key==="Enter"&&ie(D),D.key==="Escape"&&s.value.escClose&&ve(),!s.value.enabled){if(D.code==="Tab")return;D.preventDefault()}},_e=()=>{C.value?.focus({preventScroll:!0})},me=D=>{B.value=D},Ee=D=>{D.key===Ie.tab&&K(D,!0)};return t({focusInput:_e,setParsedDate:me}),(D,R)=>(I(),Z("div",{onClick:he},[!D.$slots["dp-input"]&&!h(f).enabled?oe(D.$slots,"trigger",{key:0}):z("",!0),!D.$slots.trigger&&(!h(f).enabled||h(f).input)?(I(),Z("div",ev,[!D.$slots.trigger&&(!h(f).enabled||h(f).enabled&&h(f).input)?oe(D.$slots,"dp-input",{key:0,value:h(l),isMenuOpen:e.isMenuOpen,onInput:q,onEnter:ie,onTab:K,onClear:ae,onBlur:ke,onKeypress:ce,onPaste:Q,onFocus:le,openMenu:()=>D.$emit("open"),closeMenu:()=>D.$emit("close"),toggleMenu:()=>D.$emit("toggle")},()=>[we("input",{id:h(b).id,ref:"dp-input","data-test-id":"dp-input",name:h(b).name,class:be(W.value),inputmode:h(b).inputmode,placeholder:h(i).placeholder,disabled:h(O)(h(i).disabled),readonly:h(O)(h(i).readonly),required:h(O)(h(b).required),value:h(l),autocomplete:h(b).autocomplete,"aria-label":h(c).input,"aria-disabled":h(i).disabled||void 0,"aria-invalid":h(b).state===!1?!0:void 0,onInput:q,onBlur:ke,onFocus:le,onKeypress:ce,onKeydown:R[0]||(R[0]=X=>ce(X)),onPaste:Q,onInvalid:R[1]||(R[1]=X=>h(o)("invalid",X))},null,42,tv)]):z("",!0),we("div",{onClick:R[4]||(R[4]=X=>n("toggle"))},[D.$slots["input-icon"]&&!h(b).hideInputIcon?(I(),Z("span",{key:0,class:"dp__input_icon",onClick:R[2]||(R[2]=X=>n("toggle"))},[oe(D.$slots,"input-icon")])):z("",!0),!D.$slots["input-icon"]&&!h(b).hideInputIcon&&!D.$slots["dp-input"]?(I(),xe(h(wn),{key:1,"aria-label":h(c)?.calendarIcon,class:"dp__input_icon dp__input_icons",onClick:R[3]||(R[3]=X=>n("toggle"))},null,8,["aria-label"])):z("",!0)]),D.$slots["clear-icon"]&&(h(b).alwaysClearable||h(l)&&h(b).clearable&&!h(i).disabled&&!h(i).readonly)?(I(),Z("span",rv,[oe(D.$slots,"clear-icon",{clear:ae})])):z("",!0),!D.$slots["clear-icon"]&&(h(b).alwaysClearable||h(b).clearable&&h(l)&&!h(i).disabled&&!h(i).readonly)?(I(),Z("button",{key:2,"aria-label":h(c)?.clearInput,class:"dp--clear-btn",type:"button","data-test-id":"clear-input-value-btn",onKeydown:R[5]||(R[5]=X=>h(Y)(X,()=>ae(X),!0,Ee)),onClick:R[6]||(R[6]=mr(X=>ae(X),["prevent"]))},[Se(h(nm),{class:"dp__input_icons"})],40,nv)):z("",!0)])):z("",!0)]))}}),ov={ref:"action-row",class:"dp__action_row"},lv=["title"],iv={ref:"action-buttons-container",class:"dp__action_buttons","data-dp-element":"action-row"},sv=["disabled"],uv=ze({__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{default:0}},emits:["close-picker","select-date","select-now"],setup(e,{emit:t}){const r=t,n=e,{rootEmit:a,rootProps:o,modelValue:l,defaults:{actionRow:i,multiCalendars:s,inline:c,range:f,multiDates:m,formats:v}}=Pe(),{isTimeValid:u,isMonthValid:w}=kt(),{formatPreview:b}=ir(),{checkKeyDown:x,convertType:d}=Xe(),{boolHtmlAttribute:p}=Qr(),g=Be("action-buttons-container"),_=Be("action-row"),S=ue(!1),Y=ue({});Je(()=>{k(),globalThis.addEventListener("resize",k)}),gr(()=>{globalThis.removeEventListener("resize",k)});const k=()=>{S.value=!1,setTimeout(()=>{const Q=g.value?.getBoundingClientRect(),L=_.value?.getBoundingClientRect();Q&&L&&(Y.value.maxWidth=`${L.width-Q.width-20}px`),S.value=!0},0)},O=N(()=>f.value.enabled&&!f.value.partialRange&&l.value?l.value.length===2:!0),C=N(()=>!u.value(l.value)||!w.value(l.value)||!O.value),B=()=>{const Q=v.value.preview;return o.timePicker||o.monthPicker,Q(d(l.value))},H=()=>{const Q=l.value;return s.value.count>0?`${b(Q[0])} - ${b(Q[1])}`:[b(Q[0]),b(Q[1])]},W=N(()=>!l.value||!n.menuMount?"":typeof v.value.preview=="string"?Array.isArray(l.value)?l.value.length===2&&l.value[1]?H():m.value.enabled?l.value.map(Q=>`${b(Q)}`):o.modelAuto?`${b(l.value[0])}`:`${b(l.value[0])} -`:b(l.value):B()),J=()=>m.value.enabled?"; ":" - ",ee=N(()=>Array.isArray(W.value)?W.value.join(J()):W.value),j=()=>{u.value(l.value)&&w.value(l.value)&&O.value?r("select-date"):a("invalid-select")};return(Q,L)=>(I(),Z("div",ov,[Q.$slots["action-row"]?oe(Q.$slots,"action-row",ft(bt({key:0},{modelValue:h(l),disabled:C.value,selectDate:()=>Q.$emit("select-date"),closePicker:()=>Q.$emit("close-picker")}))):(I(),Z($e,{key:1},[h(i).showPreview?(I(),Z("div",{key:0,class:"dp__selection_preview",title:ee.value||void 0,style:pt(Y.value)},[Q.$slots["action-preview"]&&S.value?oe(Q.$slots,"action-preview",{key:0,value:h(l),formatValue:ee.value}):z("",!0),!Q.$slots["action-preview"]&&S.value?(I(),Z($e,{key:1},[Ce(Fe(ee.value),1)],64)):z("",!0)],12,lv)):z("",!0),we("div",iv,[Q.$slots["action-buttons"]?oe(Q.$slots,"action-buttons",{key:0,value:h(l),selectDate:j,selectionDisabled:C.value}):z("",!0),Q.$slots["action-buttons"]?z("",!0):(I(),Z($e,{key:1},[!h(c).enabled&&h(i).showCancel?(I(),Z("button",{key:0,ref:"cancel-btn",type:"button","data-dp-action-element":"0",class:"dp__action_button dp__action_cancel",onClick:L[0]||(L[0]=q=>Q.$emit("close-picker")),onKeydown:L[1]||(L[1]=q=>h(x)(q,()=>Q.$emit("close-picker")))},Fe(h(i).cancelBtnLabel),545)):z("",!0),h(i).showNow?(I(),Z("button",{key:1,type:"button","data-dp-action-element":"0",class:"dp__action_button dp__action_cancel",onClick:L[2]||(L[2]=q=>Q.$emit("select-now")),onKeydown:L[3]||(L[3]=q=>h(x)(q,()=>Q.$emit("select-now")))},Fe(h(i).nowBtnLabel),33)):z("",!0),h(i).showSelect?(I(),Z("button",{key:2,ref:"select-btn",type:"button","data-dp-action-element":"0",class:"dp__action_button dp__action_select",disabled:h(p)(C.value),"data-test-id":"select-button",onKeydown:L[4]||(L[4]=q=>h(x)(q,()=>j())),onClick:j},Fe(h(i).selectBtnLabel),41,sv)):z("",!0)],64))],512)],64))],512))}}),la=()=>{const{rootProps:e,defaults:{multiCalendars:t}}=Pe(),r=N(()=>o=>e.hideNavigation?.includes(o)),n=N(()=>o=>t.value.count?t.value.solo?!0:o===0:!0),a=N(()=>o=>t.value.count?t.value.solo?!0:o===t.value.count-1:!0);return{hideNavigationButtons:r,showLeftIcon:n,showRightIcon:a}},cv=["role","aria-label","tabindex"],dv={class:"dp__selection_grid_header"},fv=["aria-selected","aria-disabled","data-dp-action-element","data-dp-element-active","data-test-id","onClick","onKeydown","onMouseover"],pv=["aria-label","data-dp-action-element"],kn=ze({__name:"SelectionOverlay",props:{items:{},type:{},useRelative:{type:Boolean},height:{},overlayLabel:{},isLast:{type:Boolean},level:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(e,{emit:t}){const r=t,n=e,{setState:a,defaults:{ariaLabels:o,config:l}}=Pe(),{hideNavigationButtons:i}=la(),{handleEventPropagation:s,checkKeyDown:c}=Xe(),f=Be("toggle-button"),m=Be("overlay-container"),v=Be("grid-wrap"),u=ue(!1),w=ue(null),b=ue(),x=ue(0);Rs(()=>{w.value=null}),Je(async()=>{await st(),Y(),a("arrowNavigationLevel",n.level??1)}),gr(()=>{a("arrowNavigationLevel",(n.level??1)-1)});const d=N(()=>({dp__overlay:!0,"dp--overlay-absolute":!n.useRelative,"dp--overlay-relative":n.useRelative})),p=N(()=>n.useRelative?{height:`${n.height}px`,width:"var(--dp-menu-min-width)"}:void 0),g=N(()=>({dp__overlay_col:!0})),_=N(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:u.value,dp__button_bottom:n.isLast})),S=N(()=>({dp__overlay_container:!0,dp__container_flex:n.items?.length<=6,dp__container_block:n.items?.length>6}));it(()=>n.items,()=>Y(!1),{deep:!0});const Y=(J=!0)=>{st().then(()=>{const ee=document.querySelector(`[data-dp-element-active="${n.level??1}"]`),j=ht(v),Q=ht(f),L=ht(m),q=Q?Q.getBoundingClientRect().height:0;j&&(j.getBoundingClientRect().height?x.value=j.getBoundingClientRect().height-q:x.value=l.value.modeHeight-q),ee&&L&&J&&(L.scrollTop=ee.offsetTop-L.offsetTop-(x.value/2-ee.getBoundingClientRect().height)-q)})},k=J=>{J.disabled||r("selected",J.value)},O=()=>{r("toggle"),r("reset-flow")},C=J=>{l.value.escClose&&(O(),s(J,l.value))},B=J=>{b.value=J,r("hover-value",J)},H=J=>{if(J.key===Ie.esc)return C(J)},W=J=>{if(J.key===Ie.enter)return O()};return(J,ee)=>(I(),Z("div",{ref:"grid-wrap",class:be(d.value),style:pt(p.value),role:e.useRelative?void 0:"dialog","aria-label":e.overlayLabel,tabindex:e.useRelative?void 0:"0",onKeydown:H,onClick:ee[0]||(ee[0]=mr(()=>{},["prevent"]))},[we("div",{ref:"overlay-container",class:be(S.value),style:pt({"--dp-overlay-height":`${x.value}px`}),role:"grid"},[we("div",dv,[oe(J.$slots,"header")]),oe(J.$slots,"overlay",{},()=>[(I(!0),Z($e,null,Ye(e.items,(j,Q)=>(I(),Z("div",{key:Q,class:be(["dp__overlay_row",{dp__flex_row:e.items.length>=3}]),role:"row"},[(I(!0),Z($e,null,Ye(j,L=>(I(),Z("div",{key:L.value,role:"gridcell",class:be(g.value),"aria-selected":L.active||void 0,"aria-disabled":L.disabled||void 0,"data-dp-action-element":e.level??1,"data-dp-element-active":L.active?e.level??1:void 0,tabindex:"0","data-test-id":L.text,onClick:mr(q=>k(L),["prevent"]),onKeydown:q=>h(c)(q,()=>k(L),!0),onMouseover:q=>B(L.value)},[we("div",{class:be(L.className)},[oe(J.$slots,"item",{item:L},()=>[Ce(Fe(L.text),1)])],2)],42,fv))),128))],2))),128))])],6),J.$slots["button-icon"]?In((I(),Z("button",{key:0,ref:"toggle-button",type:"button","aria-label":h(o)?.toggleOverlay,class:be(_.value),tabindex:"0","data-dp-action-element":e.level??1,onClick:O,onKeydown:W},[oe(J.$slots,"button-icon")],42,pv)),[[Fn,!h(i)(e.type)]]):z("",!0)],46,cv))}}),hv=["data-dp-mobile"],ia=ze({__name:"InstanceWrap",props:{stretch:{type:Boolean},collapse:{type:Boolean}},setup(e){const{defaults:{multiCalendars:t}}=Pe(),{isMobile:r}=aa(),n=N(()=>t.value.count>0?[...new Array(t.value.count).keys()]:[0]);return(a,o)=>(I(),Z("div",{class:be({dp__menu_inner:!e.stretch,"dp--menu--inner-stretched":e.stretch,dp__flex_display:h(t).count>0,"dp--flex-display-collapsed":e.collapse}),"data-dp-mobile":h(r)},[oe(a.$slots,"default",{instances:n.value,wrapClass:{dp__instance_calendar:h(t).count>0}})],10,hv))}}),mv=["data-dp-element","aria-label","aria-disabled"],on=ze({__name:"ArrowBtn",props:{ariaLabel:{},elName:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(e,{emit:t}){const{checkKeyDown:r}=Xe(),n=t;return(a,o)=>(I(),Z("button",{ref:"arrow-btn",type:"button","data-dp-element":e.elName,"data-dp-action-element":"0",class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":e.ariaLabel,"aria-disabled":e.disabled||void 0,onClick:o[0]||(o[0]=l=>n("activate")),onKeydown:o[1]||(o[1]=l=>h(r)(l,()=>n("activate"),!0))},[we("span",{class:be(["dp__inner_nav",{dp__inner_nav_disabled:e.disabled}])},[oe(a.$slots,"default")],2)],40,mv))}}),vv=["aria-label","data-test-id"],fs=ze({__name:"YearModePicker",props:{items:{},instance:{},year:{},showYearPicker:{type:Boolean,default:!1},isDisabled:{}},emits:["handle-year","year-select","toggle-year-picker"],setup(e,{emit:t}){const r=t,n=e,{showRightIcon:a,showLeftIcon:o}=la(),{rootProps:l,defaults:{config:i,ariaLabels:s,ui:c}}=Pe(),{showTransition:f,transitionName:m}=bn(),{formatYear:v}=ir(),{boolHtmlAttribute:u}=Qr(),w=ue(!1),b=N(()=>v(n.year)),x=(g=!1,_)=>{w.value=!w.value,r("toggle-year-picker",{flow:g,show:_})},d=g=>{w.value=!1,r("year-select",g)},p=(g=!1)=>{r("handle-year",g)};return(g,_)=>(I(),Z($e,null,[we("div",{class:be(["dp--year-mode-picker",{"dp--hidden-el":w.value}])},[h(o)(e.instance)?(I(),xe(on,{key:0,ref:"mpPrevIconRef","aria-label":h(s)?.prevYear,disabled:h(u)(e.isDisabled(!1)),class:be(h(c)?.navBtnPrev),onActivate:_[0]||(_[0]=S=>p(!1))},{default:se(()=>[g.$slots["arrow-left"]?oe(g.$slots,"arrow-left",{key:0}):z("",!0),g.$slots["arrow-left"]?z("",!0):(I(),xe(h(ns),{key:1}))]),_:3},8,["aria-label","disabled","class"])):z("",!0),we("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":`${e.year}-${h(s)?.openYearsOverlay}`,"data-test-id":`year-mode-btn-${e.instance}`,"data-dp-action-element":"0",onClick:_[1]||(_[1]=()=>x(!1)),onKeydown:_[2]||(_[2]=Ls(mr(()=>x(!1),["prevent"]),["enter"]))},[g.$slots.year?oe(g.$slots,"year",{key:0,text:b.value,value:e.year}):z("",!0),g.$slots.year?z("",!0):(I(),Z($e,{key:1},[Ce(Fe(e.year),1)],64))],40,vv),h(a)(e.instance)?(I(),xe(on,{key:1,ref:"mpNextIconRef","aria-label":h(s)?.nextYear,disabled:h(u)(e.isDisabled(!0)),class:be(h(c)?.navBtnNext),onActivate:_[3]||(_[3]=S=>p(!0))},{default:se(()=>[g.$slots["arrow-right"]?oe(g.$slots,"arrow-right",{key:0}):z("",!0),g.$slots["arrow-right"]?z("",!0):(I(),xe(h(as),{key:1}))]),_:3},8,["aria-label","disabled","class"])):z("",!0)],2),Se(Kr,{name:h(m)(e.showYearPicker),css:h(f)},{default:se(()=>[e.showYearPicker?(I(),xe(kn,{key:0,items:e.items,config:h(i),"is-last":h(l).autoApply&&!h(i).keepActionRow,"overlay-label":h(s)?.yearPicker?.(!0),type:"year",onToggle:x,onSelected:_[4]||(_[4]=S=>d(S))},Ze({"button-icon":se(()=>[g.$slots["calendar-icon"]?oe(g.$slots,"calendar-icon",{key:0}):z("",!0),g.$slots["calendar-icon"]?z("",!0):(I(),xe(h(wn),{key:1}))]),_:2},[g.$slots["year-overlay-value"]?{name:"item",fn:se(({item:S})=>[oe(g.$slots,"year-overlay-value",{text:S.text,value:S.value})]),key:"0"}:void 0]),1032,["items","config","is-last","overlay-label"])):z("",!0)]),_:3},8,["name","css"])],64))}}),ps=e=>{const{getDate:t,rootEmit:r,state:n,month:a,year:o,modelValue:l,calendars:i,rootProps:s,defaults:{multiCalendars:c,range:f,safeDates:m,filters:v,highlight:u}}=Pe(),{resetDate:w,getYearFromDate:b,checkHighlightYear:x,groupListAndMap:d}=at(),{getYears:p}=oa(),{validateMonthYear:g,checkMinMaxValue:_}=kt(),S=ue([!1]),Y=N(()=>p()),k=N(()=>(K,le)=>{const he=Te(w(t()),{month:a.value(K),year:o.value(K)}),ke=le?ji(he):Ir(he);return g(ke,s.preventMinMaxNavigation,le)}),O=()=>Array.isArray(l.value)&&c.value.solo&&l.value[1],C=()=>{for(let K=0;K<c.value.count;K++)if(K===0)i.value[K]=i.value[0];else if(K===c.value.count-1&&O())i.value[K]={month:Oe(l.value[1]),year:ge(l.value[1])};else{const le=Te(t(),i.value[K-1]);i.value[K]={month:Oe(le),year:ge(co(le,1))}}},B=K=>{if(!K)return C();const le=Te(t(),i.value[K]);return i.value[0].year=ge(ts(le,c.value.count-1)),C()},H=(K,le)=>{const he=Rp(le,K);return f.value.showLastInRange&&he>1?le:K},W=K=>s.focusStartDate||c.value.solo?K[0]:K[1]?H(K[0],K[1]):K[0],J=()=>{if(l.value){const K=Array.isArray(l.value)?W(l.value):l.value;i.value[0]={month:Oe(K),year:ge(K)}}},ee=()=>{J(),c.value.count&&C()};it(l,(K,le)=>{n.isTextInputDate&&JSON.stringify(K??{})!==JSON.stringify(le??{})&&ee()}),Je(()=>{ee()});const j=(K,le)=>{i.value[le].year=K,r("update-month-year",{instance:le,year:K,month:i.value[le].month}),c.value.count&&!c.value.solo&&B(le)},Q=N(()=>K=>d(Y.value,le=>{const he=o.value(K)===le.value,ke=_(le.value,b(m.value.minDate),b(m.value.maxDate))||v.value.years?.includes(o.value(K)),ae=x(u.value,le.value);return{active:he,disabled:ke,highlighted:ae}})),L=(K,le)=>{j(K,le),ie(le)},q=(K,le=!1)=>{if(!k.value(K,le)){const he=le?o.value(K)+1:o.value(K)-1;j(he,K)}},ie=(K,le=!1,he)=>{le||e("reset-flow"),he===void 0?S.value[K]=!S.value[K]:S.value[K]=he,S.value[K]?r("overlay-toggle",{open:!0,overlay:ot.year}):r("overlay-toggle",{open:!1,overlay:ot.year})};return{isDisabled:k,groupedYears:Q,showYearPicker:S,selectYear:j,setStartDate:()=>{s.startDate&&(l.value&&s.focusStartDate||!l.value)&&j(ge(t(s.startDate)),0)},toggleYearPicker:ie,handleYearSelect:L,handleYear:q}},sa=()=>{const{isDateAfter:e,isDateBefore:t,isDateEqual:r}=at(),{getDate:n,rootEmit:a,rootProps:o,modelValue:l,defaults:{range:i}}=Pe();return{getRangeWithFixedDate:s=>Array.isArray(l.value)&&(l.value.length===2||l.value.length===1&&i.value.partialRange)?i.value.fixedStart&&(e(s,l.value[0])||r(s,l.value[0]))?[l.value[0],s]:i.value.fixedEnd&&(t(s,l.value[1])||r(s,l.value[1]))?[s,l.value[1]]:(a("invalid-fixed-range",s),l.value):[],setPresetDate:s=>{Array.isArray(s.value)&&s.value.length<=2&&i.value.enabled?l.value=s.value.map(c=>n(c)):Array.isArray(s.value)||(l.value=n(s.value))},checkRangeAutoApply:(s,c,f)=>{i&&(s[0]&&s[1]&&o.autoApply&&c("auto-apply",f),s[0]&&!s[1]&&(o.modelAuto||i.value.partialRange)&&o.autoApply&&c("auto-apply",f))},setMonthOrYearRange:s=>{let c=l.value?l.value.slice():[];return c.length===2&&c[1]!==null&&(c=[]),c.length?(t(s,c[0])?c.unshift(s):c[1]=s,a("range-end",s)):(c=[s],a("range-start",s)),c},handleMultiDatesSelect:(s,c)=>{if(l.value&&Array.isArray(l.value))if(l.value.some(f=>r(s,f))){const f=l.value.filter(m=>!r(m,s));l.value=f.length?f:null}else(c&&+c>l.value.length||!c)&&l.value.push(s);else l.value=[s]}}},yv=(e,t)=>{const{getDate:r,rootEmit:n,state:a,calendars:o,year:l,modelValue:i,rootProps:s,defaults:{range:c,highlight:f,safeDates:m,filters:v,multiDates:u}}=Pe();xn(()=>{a.isTextInputDate&&L(ge(r(s.startDate)),0)});const{checkMinMaxRange:w,checkMinMaxValue:b}=kt(),{isDateBetween:x,resetDateTime:d,resetDate:p,getMinMonth:g,getMaxMonth:_,checkHighlightMonth:S,groupListAndMap:Y}=at(),{checkRangeAutoApply:k,getRangeWithFixedDate:O,handleMultiDatesSelect:C,setMonthOrYearRange:B,setPresetDate:H}=sa(),{padZero:W}=Xe(),{getMonths:J,isOutOfYearRange:ee}=oa(),j=N(()=>J()),Q=ue(null),{selectYear:L,groupedYears:q,showYearPicker:ie,toggleYearPicker:K,handleYearSelect:le,handleYear:he,isDisabled:ke,setStartDate:ae}=ps(t);Je(()=>{ae()});const ve=M=>M?{month:Oe(M),year:ge(M)}:{month:null,year:null},ce=()=>i.value?Array.isArray(i.value)?i.value.map(M=>ve(M)):ve(i.value):ve(),_e=(M,ne)=>{const re=o.value[M],Me=ce();return Array.isArray(Me)?Me.some(Ae=>Ae.year===re?.year&&Ae.month===ne):re?.year===Me.year&&ne===Me.month},me=(M,ne,re)=>{const Me=ce();return Array.isArray(Me)?l.value(ne)===Me[re]?.year&&M===Me[re]?.month:!1},Ee=(M,ne)=>{if(c.value.enabled){const re=ce();if(Array.isArray(i.value)&&Array.isArray(re)){const Me=me(M,ne,0)||me(M,ne,1),Ae=Te(p(r()),{month:M,year:l.value(ne)});return x(i.value,Q.value,Ae)&&!Me}return!1}return!1},D=N(()=>M=>Y(j.value,ne=>{const re=_e(M,ne.value),Me=b(ne.value,g(l.value(M),m.value.minDate),_(l.value(M),m.value.maxDate))||A(m.value.disabledDates,l.value(M),ne.value)||v.value.months?.includes(ne.value)||!U(m.value.allowedDates,l.value(M),ne.value)||ee(l.value(M)),Ae=Ee(ne.value,M),xr=S(f.value,ne.value,l.value(M));return{active:re,disabled:Me,isBetween:Ae,highlighted:xr}})),R=(M,ne)=>Te(p(r()),{month:M,year:l.value(ne)}),X=(M,ne)=>{const re=i.value?i.value:p(r());i.value=Te(re,{month:M,year:l.value(ne)}),t("auto-apply"),t("update-flow-step")},T=(M,ne)=>{const re=R(M,ne);c.value.fixedEnd||c.value.fixedStart?i.value=O(re):i.value?w(re,i.value)&&(i.value=B(R(M,ne))):i.value=[R(M,ne)],st().then(()=>{k(i.value,t,i.value.length<2)})},F=(M,ne)=>{C(R(M,ne),u.value.limit),t("auto-apply",!0)},te=(M,ne)=>(o.value[ne].month=M,V(ne,o.value[ne].year,M),u.value.enabled?F(M,ne):c.value.enabled?T(M,ne):X(M,ne)),P=(M,ne)=>{L(M,ne),V(ne,M,null)},V=(M,ne,re)=>{let Me=re;if(!Me&&Me!==0){const Ae=ce();Me=Array.isArray(Ae)?Ae[M].month:Ae.month}n("update-month-year",{instance:M,year:ne,month:Me})},y=(M,ne)=>{Q.value=R(M,ne)},$=M=>{H({value:M}),t("auto-apply")},A=(M,ne,re)=>{if(M instanceof Map){const Me=`${W(re+1)}-${ne}`;return M.size?M.has(Me):!1}return typeof M=="function"?M(d(Te(r(),{month:re,year:ne}),!0)):!1},U=(M,ne,re)=>{if(M instanceof Map){const Me=`${W(re+1)}-${ne}`;return M.size?M.has(Me):!0}return!0};return{groupedMonths:D,groupedYears:q,year:l,isDisabled:ke,showYearPicker:ie,modelValue:i,toggleYearPicker:K,handleYearSelect:le,handleYear:he,presetDate:$,setHoverDate:y,selectMonth:te,selectYear:P,getModelMonthYear:ce}},gv=ze({__name:"MonthPicker",props:{flowStep:{},collapse:{type:Boolean},menuWrapRef:{},noOverlayFocus:{type:Boolean}},emits:["reset-flow","auto-apply","update-flow-step","mount"],setup(e,{expose:t,emit:r}){const n=r,a=e,o=lr(),{rootProps:l,defaults:{config:i}}=Pe(),s=Vt(o,St.YearMode);Je(()=>{n("mount")});const{groupedMonths:c,groupedYears:f,year:m,isDisabled:v,showYearPicker:u,modelValue:w,presetDate:b,setHoverDate:x,selectMonth:d,selectYear:p,toggleYearPicker:g,handleYearSelect:_,handleYear:S,getModelMonthYear:Y}=yv(a,n);return t({getSidebarProps:()=>({modelValue:w,year:m,getModelMonthYear:Y,selectMonth:d,selectYear:p,handleYear:S}),presetDate:b,toggleYearPicker:k=>g(0,k)}),(k,O)=>(I(),xe(ia,{collapse:e.collapse,stretch:""},{default:se(({instances:C,wrapClass:B})=>[(I(!0),Z($e,null,Ye(C,H=>(I(),Z("div",{key:H,class:be(B)},[k.$slots["top-extra"]?oe(k.$slots,"top-extra",{key:0,value:h(w)}):z("",!0),oe(k.$slots,"month-year",bt({ref_for:!0},{year:h(m),months:h(c)(H),years:h(f)(H),selectMonth:h(d),selectYear:h(p),instance:H}),()=>[Se(kn,{items:h(c)(H),"is-last":h(l).autoApply&&!h(i).keepActionRow,height:h(i).modeHeight,"no-overlay-focus":!!(e.noOverlayFocus||h(l).textInput),"use-relative":"",level:0,type:"month",onSelected:W=>h(d)(W,H),onHoverValue:W=>h(x)(W,H)},Ze({header:se(()=>[Se(fs,{items:h(f)(H),instance:H,"show-year-picker":h(u)[H],year:h(m)(H),"is-disabled":W=>h(v)(H,W),onHandleYear:W=>h(S)(H,W),onYearSelect:W=>h(_)(W,H),onToggleYearPicker:W=>h(g)(H,W?.flow,W?.show)},Ze({_:2},[Ye(h(s),(W,J)=>({name:W,fn:se(ee=>[oe(k.$slots,W,bt({ref_for:!0},ee))])}))]),1032,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},[k.$slots["month-overlay-value"]?{name:"item",fn:se(({item:W})=>[oe(k.$slots,"month-overlay-value",{text:W.text,value:W.value})]),key:"0"}:void 0]),1032,["items","is-last","height","no-overlay-focus","onSelected","onHoverValue"])])],2))),128))]),_:3},8,["collapse"]))}}),wv=(e,t)=>{const{rootEmit:r,getDate:n,state:a,modelValue:o,rootProps:l,defaults:{highlight:i,multiDates:s,filters:c,range:f,safeDates:m}}=Pe(),{getYears:v}=oa(),{isDateBetween:u,resetDate:w,resetDateTime:b,getYearFromDate:x,checkHighlightYear:d,groupListAndMap:p}=at(),{checkRangeAutoApply:g,setMonthOrYearRange:_}=sa(),{checkMinMaxValue:S,checkMinMaxRange:Y}=kt();xn(()=>{a.isTextInputDate&&(O.value=ge(n(l.startDate)))});const k=ue(null),O=ue();Je(()=>{l.startDate&&(o.value&&l.focusStartDate||!o.value)&&(O.value=ge(n(l.startDate)))});const C=j=>Array.isArray(o.value)?o.value.some(Q=>ge(Q)===j):o.value?ge(o.value)===j:!1,B=j=>f.value.enabled&&Array.isArray(o.value)?u(o.value,k.value,ee(j)):!1,H=j=>m.value.allowedDates?.size?m.value.allowedDates.has(`${j}`):!0,W=j=>m.value.disabledDates instanceof Map?m.value.disabledDates.size?m.value.disabledDates.has(`${j}`):!1:typeof m.value.disabledDates=="function"?m.value.disabledDates(Mt(b(Ir(n())),j)):!0,J=N(()=>p(v(),j=>{const Q=C(j.value),L=S(j.value,x(m.value.minDate),x(m.value.maxDate))||c.value.years.includes(j.value)||!H(j.value)||W(j.value),q=B(j.value)&&!Q,ie=d(i.value,j.value);return{active:Q,disabled:L,isBetween:q,highlighted:ie}})),ee=j=>Mt(w(Ir(n())),j);return{groupedYears:J,focusYear:O,setHoverValue:j=>{k.value=Mt(w(n()),j)},selectYear:j=>{if(r("update-month-year",{instance:0,year:j,month:Number.NaN}),s.value.enabled)return o.value?Array.isArray(o.value)&&((o.value?.map(Q=>ge(Q))).includes(j)?o.value=o.value.filter(Q=>ge(Q)!==j):o.value.push(Mt(b(n()),j))):o.value=[Mt(b(Ir(n())),j)],t("auto-apply",!0);f.value.enabled?Y(ee(j),o.value)&&(o.value=_(ee(j)),st().then(()=>{g(o.value,t,o.value.length<2)})):(o.value=ee(j),t("auto-apply"))}}},bv=ze({__name:"YearPicker",props:{flowStep:{},collapse:{type:Boolean},menuWrapRef:{},noOverlayFocus:{type:Boolean}},emits:["reset-flow","auto-apply"],setup(e,{expose:t,emit:r}){const n=r,a=e,{modelValue:o,defaults:{config:l},rootProps:i}=Pe(),{groupedYears:s,focusYear:c,selectYear:f,setHoverValue:m}=wv(a,n);return t({getSidebarProps:()=>({modelValue:o,selectYear:f})}),(v,u)=>(I(),Z("div",null,[v.$slots["top-extra"]?oe(v.$slots,"top-extra",{key:0,value:h(o)}):z("",!0),v.$slots["month-year"]?oe(v.$slots,"month-year",ft(bt({key:1},{years:h(s),selectYear:h(f)}))):(I(),xe(kn,{key:2,items:h(s),"is-last":h(i).autoApply&&!h(l).keepActionRow,height:h(l).modeHeight,"no-overlay-focus":!!(e.noOverlayFocus||h(i).textInput),"focus-value":h(c),type:"year","use-relative":"",onSelected:h(f),onHoverValue:h(m)},Ze({_:2},[v.$slots["year-overlay-value"]?{name:"item",fn:se(({item:w})=>[oe(v.$slots,"year-overlay-value",{text:w.text,value:w.value})]),key:"0"}:void 0]),1032,["items","is-last","height","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),xv={key:0,class:"dp__time_input"},kv=["data-compact","data-collapsed"],_v=["data-test-id","aria-label","data-dp-action-element","onKeydown","onClick","onMousedown"],Av=["aria-label","disabled","data-dp-action-element","data-test-id","onKeydown","onClick"],Dv=["data-test-id","aria-label","data-dp-action-element","onKeydown","onClick","onMousedown"],Tv={key:0},Mv=["aria-label","data-dp-action-element","data-compact"],Pv=ze({__name:"TimeInput",props:{hours:{},minutes:{},seconds:{},order:{},closeTimePickerBtn:{},disabledTimesConfig:{},validateTime:{}},emits:["update:hours","update:minutes","update:seconds","overlay-opened","overlay-closed","set-hours","set-minutes","reset-flow","mounted"],setup(e,{expose:t,emit:r}){const n=r,a=e,{getDate:o,rootEmit:l,rootProps:i,defaults:{ariaLabels:s,filters:c,config:f,range:m,multiCalendars:v,timeConfig:u}}=Pe(),{checkKeyDown:w,hoursToAmPmHours:b}=Xe(),{boolHtmlAttribute:x}=Qr(),{sanitizeTime:d,groupListAndMap:p}=at(),{transitionName:g,showTransition:_}=bn(),S=Fr({hours:!1,minutes:!1,seconds:!1}),Y=ue("AM"),k=ue(null),O=ue(),C=ue(!1);Je(()=>{n("mounted")});const B=A=>Te(o(),{hours:A.hours,minutes:A.minutes,seconds:u.value.enableSeconds?A.seconds:0,milliseconds:0}),H=N(()=>i.timePicker||u.value.timePickerInline?0:1),W=N(()=>A=>ve(A,a[A])||ee(A,a[A])),J=N(()=>({hours:a.hours,minutes:a.minutes,seconds:a.seconds})),ee=(A,U)=>m.value.enabled&&!m.value.disableTimeRangeValidation?!a.validateTime(A,U):!1,j=(A,U)=>{if(m.value.enabled&&!m.value.disableTimeRangeValidation){const M=U?+u.value[`${A}Increment`]:-+u.value[`${A}Increment`],ne=a[A]+M;return!a.validateTime(A,ne)}return!1},Q=N(()=>A=>!D(+a[A]+ +u.value[`${A}Increment`],A)||j(A,!0)),L=N(()=>A=>!D(+a[A]-+u.value[`${A}Increment`],A)||j(A,!1)),q=(A,U)=>Bi(Te(o(),A),U),ie=(A,U)=>Zh(Te(o(),A),U),K=N(()=>({dp__time_col:!0,dp__time_col_block:!u.value.timePickerInline,dp__time_col_reg_block:!u.value.enableSeconds&&u.value.is24&&!u.value.timePickerInline,dp__time_col_reg_inline:!u.value.enableSeconds&&u.value.is24&&u.value.timePickerInline,dp__time_col_reg_with_button:!u.value.enableSeconds&&!u.value.is24,dp__time_col_sec:u.value.enableSeconds&&u.value.is24,dp__time_col_sec_with_button:u.value.enableSeconds&&!u.value.is24})),le=N(()=>u.value.timePickerInline&&m.value.enabled&&!v.value.count),he=N(()=>{const A=[{type:"hours"}];return u.value.enableMinutes&&A.push({type:"",separator:!0},{type:"minutes"}),u.value.enableSeconds&&A.push({type:"",separator:!0},{type:"seconds"}),A}),ke=N(()=>he.value.filter(A=>!A.separator)),ae=N(()=>A=>{if(A==="hours"){const U=P(+a.hours);return{text:U<10?`0${U}`:`${U}`,value:U}}return{text:a[A]<10?`0${a[A]}`:`${a[A]}`,value:a[A]}}),ve=(A,U)=>{if(!a.disabledTimesConfig)return!1;const M=a.disabledTimesConfig(a.order,A==="hours"?U:void 0);return M[A]?!!M[A]?.includes(U):!0},ce=(A,U)=>U!=="hours"||Y.value==="AM"?A:A+12,_e=A=>{const U=u.value.is24?24:12,M=A==="hours"?U:60,ne=+u.value[`${A}GridIncrement`],re=A==="hours"&&!u.value.is24?ne:0,Me=[];for(let Ae=re;Ae<M;Ae+=ne)Me.push({value:u.value.is24?Ae:ce(Ae,A),text:Ae<10?`0${Ae}`:`${Ae}`});return A==="hours"&&!u.value.is24&&Me.unshift({value:Y.value==="PM"?12:0,text:"12"}),p(Me,Ae=>({active:!1,disabled:c.value.times[A].includes(Ae.value)||!D(Ae.value,A)||ve(A,Ae.value)||ee(A,Ae.value)}))},me=A=>A>=0?A:59,Ee=A=>A>=0?A:23,D=(A,U)=>{const M=i.minTime?B(d(i.minTime)):null,ne=i.maxTime?B(d(i.maxTime)):null,re=B(d(J.value,U,U==="minutes"||U==="seconds"?me(A):Ee(A)));return M&&ne?(jt(re,ne)||Er(re,ne))&&(Yt(re,M)||Er(re,M)):M?Yt(re,M)||Er(re,M):ne?jt(re,ne)||Er(re,ne):!0},R=A=>u.value[`no${A[0].toUpperCase()+A.slice(1)}Overlay`],X=A=>{R(A)||(S[A]=!S[A],S[A]?(C.value=!0,n("overlay-opened",A)):(C.value=!1,n("overlay-closed",A)))},T=A=>A==="hours"?qt:A==="minutes"?Gt:or,F=()=>{O.value&&clearTimeout(O.value)},te=(A,U=!0,M)=>{const ne=U?q:ie,re=U?+u.value[`${A}Increment`]:-+u.value[`${A}Increment`];D(+a[A]+re,A)&&n(`update:${A}`,T(A)(ne({[A]:+a[A]},{[A]:+u.value[`${A}Increment`]}))),!M?.keyboard&&f.value.timeArrowHoldThreshold&&(O.value=setTimeout(()=>{te(A,U)},f.value.timeArrowHoldThreshold))},P=A=>u.value.is24?A:(A>=12?Y.value="PM":Y.value="AM",b(A)),V=()=>{Y.value==="PM"?(Y.value="AM",n("update:hours",a.hours-12)):(Y.value="PM",n("update:hours",a.hours+12)),l("am-pm-change",Y.value)},y=A=>{S[A]=!0},$=(A,U)=>(X(A),n(`update:${A}`,U));return t({openChildCmp:y}),(A,U)=>h(i).disabled?z("",!0):(I(),Z("div",xv,[(I(!0),Z($e,null,Ye(he.value,(M,ne)=>(I(),Z("div",{key:ne,class:be(K.value),"data-compact":le.value&&!h(u).enableSeconds,"data-collapsed":le.value&&h(u).enableSeconds},[M.separator?(I(),Z($e,{key:0},[C.value?z("",!0):(I(),Z($e,{key:0},[Ce(":")],64))],64)):(I(),Z($e,{key:1},[we("button",{type:"button",class:be({dp__btn:!0,dp__inc_dec_button:!h(u).timePickerInline,dp__inc_dec_button_inline:h(u).timePickerInline,dp__tp_inline_btn_top:h(u).timePickerInline,dp__inc_dec_button_disabled:Q.value(M.type),"dp--hidden-el":C.value}),"data-test-id":`${M.type}-time-inc-btn-${a.order}`,"aria-label":h(s)?.incrementValue(M.type),tabindex:"0","data-dp-action-element":H.value,onKeydown:re=>h(w)(re,()=>te(M.type,!0,{keyboard:!0}),!0),onClick:re=>h(f).timeArrowHoldThreshold?void 0:te(M.type,!0),onMousedown:re=>h(f).timeArrowHoldThreshold?te(M.type,!0):void 0,onMouseup:F},[h(u).timePickerInline?oe(A.$slots,"tp-inline-arrow-up",{key:1},()=>[U[2]||(U[2]=we("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1)),U[3]||(U[3]=we("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1))]):oe(A.$slots,"arrow-up",{key:0},()=>[Se(h(ls))])],42,_v),we("button",{type:"button","aria-label":`${ae.value(M.type).text}-${h(s)?.openTpOverlay(M.type)}`,class:be({dp__time_display:!0,dp__time_display_block:!h(u).timePickerInline,dp__time_display_inline:h(u).timePickerInline,"dp--time-invalid":W.value(M.type),"dp--time-overlay-btn":!W.value(M.type),"dp--hidden-el":C.value}),disabled:h(x)(R(M.type)),tabindex:"0","data-dp-action-element":H.value,"data-test-id":`${M.type}-toggle-overlay-btn-${a.order}`,onKeydown:re=>h(w)(re,()=>X(M.type),!0),onClick:re=>X(M.type)},[oe(A.$slots,M.type,{text:ae.value(M.type).text,value:ae.value(M.type).value},()=>[Ce(Fe(ae.value(M.type).text),1)])],42,Av),we("button",{type:"button",class:be({dp__btn:!0,dp__inc_dec_button:!h(u).timePickerInline,dp__inc_dec_button_inline:h(u).timePickerInline,dp__tp_inline_btn_bottom:h(u).timePickerInline,dp__inc_dec_button_disabled:L.value(M.type),"dp--hidden-el":C.value}),"data-test-id":`${M.type}-time-dec-btn-${a.order}`,"aria-label":h(s)?.decrementValue(M.type),tabindex:"0","data-dp-action-element":H.value,onKeydown:re=>h(w)(re,()=>te(M.type,!1,{keyboard:!0}),!0),onClick:re=>h(f).timeArrowHoldThreshold?void 0:te(M.type,!1),onMousedown:re=>h(f).timeArrowHoldThreshold?te(M.type,!1):void 0,onMouseup:F},[h(u).timePickerInline?oe(A.$slots,"tp-inline-arrow-down",{key:1},()=>[U[4]||(U[4]=we("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1)),U[5]||(U[5]=we("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1))]):oe(A.$slots,"arrow-down",{key:0},()=>[Se(h(is))])],42,Dv)],64))],10,kv))),128)),h(u).is24?z("",!0):(I(),Z("div",Tv,[oe(A.$slots,"am-pm-button",{toggle:V,value:Y.value},()=>[we("button",{ref_key:"amPmButton",ref:k,type:"button",class:"dp__pm_am_button",role:"button","aria-label":h(s)?.amPmButton,tabindex:"0","data-dp-action-element":H.value,"data-compact":le.value,onClick:V,onKeydown:U[0]||(U[0]=M=>h(w)(M,()=>V(),!0))},Fe(Y.value),41,Mv)])])),(I(!0),Z($e,null,Ye(ke.value,(M,ne)=>(I(),xe(Kr,{key:ne,name:h(g)(S[M.type]),css:h(_)},{default:se(()=>[S[M.type]?(I(),xe(kn,{key:0,items:_e(M.type),"is-last":h(i).autoApply&&!h(f).keepActionRow,type:M.type,"aria-labels":h(s),level:h(u).timePickerInline||h(i).timePicker?1:2,"overlay-label":h(s).timeOverlay?.(M.type),onSelected:re=>$(M.type,re),onToggle:re=>X(M.type),onResetFlow:U[1]||(U[1]=re=>A.$emit("reset-flow"))},Ze({"button-icon":se(()=>[oe(A.$slots,"clock-icon",{},()=>[A.$slots["clock-icon"]?z("",!0):(I(),xe(Ka(h(u).timePickerInline?h(wn):h(os)),{key:0}))])]),_:2},[A.$slots[`${M.type}-overlay-value`]?{name:"item",fn:se(({item:re})=>[oe(A.$slots,`${M.type}-overlay-value`,{text:re.text,value:re.value})]),key:"0"}:void 0,A.$slots[`${M.type}-overlay-header`]?{name:"header",fn:se(()=>[oe(A.$slots,`${M.type}-overlay-header`,{toggle:()=>X(M.type)})]),key:"1"}:void 0]),1032,["items","is-last","type","aria-labels","level","overlay-label","onSelected","onToggle"])):z("",!0)]),_:2},1032,["name","css"]))),128))]))}}),Ov=["data-dp-mobile"],Cv=["aria-label","tabindex"],Sv=["role","aria-label","tabindex"],Ev=["aria-label"],hs=ze({__name:"TimePicker",props:{hours:{},minutes:{},seconds:{},disabledTimesConfig:{type:[Function,null]},noOverlayFocus:{type:Boolean},validateTime:{type:Function}},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow"],setup(e,{expose:t,emit:r}){const n=r,a=e,{rootEmit:o,setState:l,modelValue:i,rootProps:s,defaults:{ariaLabels:c,textInput:f,config:m,range:v,timeConfig:u}}=Pe(),{isModelAuto:w}=at(),{checkKeyDown:b,findFocusableEl:x}=Xe(),{transitionName:d,showTransition:p}=bn(),{hideNavigationButtons:g}=la(),{isMobile:_}=aa(),S=lr(),Y=Be("overlay"),k=Be("close-tp-btn"),O=Be("tp-input"),C=ue(!1);Je(()=>{n("mount")});const B=N(()=>v.value.enabled&&s.modelAuto?w(i.value):!0),H=ue(!1),W=ae=>({hours:Array.isArray(a.hours)?a.hours[ae]:a.hours,minutes:Array.isArray(a.minutes)?a.minutes[ae]:a.minutes,seconds:Array.isArray(a.seconds)?a.seconds[ae]:a.seconds}),J=N(()=>{const ae=[];if(v.value.enabled)for(let ve=0;ve<2;ve++)ae.push(W(ve));else ae.push(W(0));return ae}),ee=(ae,ve=!1,ce="")=>{ve||n("reset-flow"),H.value=ae,l("arrowNavigationLevel",ae?1:0),o("overlay-toggle",{open:ae,overlay:ot.time}),st(()=>{ce!==""&&O.value?.[0]&&O.value[0].openChildCmp(ce)})},j=N(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:s.autoApply&&!m.value.keepActionRow})),Q=Vt(S,St.TimeInput),L=(ae,ve,ce)=>v.value.enabled?ve===0?[ae,J.value[1][ce]]:[J.value[0][ce],ae]:ae,q=ae=>{n("update:hours",ae)},ie=ae=>{n("update:minutes",ae)},K=ae=>{n("update:seconds",ae)},le=()=>{if(Y.value&&!f.value.enabled&&!a.noOverlayFocus){const ae=x(Y.value);ae&&ae.focus({preventScroll:!0})}},he=ae=>{C.value=!1,o("overlay-toggle",{open:!1,overlay:ae})},ke=ae=>{C.value=!0,o("overlay-toggle",{open:!0,overlay:ae})};return t({toggleTimePicker:ee}),(ae,ve)=>(I(),Z("div",{class:"dp--tp-wrap","data-dp-mobile":h(_)},[!h(s).timePicker&&!h(u).timePickerInline?In((I(),Z("button",{key:0,ref:"open-tp-btn",type:"button","data-dp-action-element":"0",class:be({...j.value,"dp--hidden-el":H.value}),"aria-label":h(c)?.openTimePicker,tabindex:e.noOverlayFocus?void 0:0,"data-test-id":"open-time-picker-btn",onKeydown:ve[0]||(ve[0]=ce=>h(b)(ce,()=>ee(!0))),onClick:ve[1]||(ve[1]=ce=>ee(!0))},[oe(ae.$slots,"clock-icon",{},()=>[Se(h(os))])],42,Cv)),[[Fn,!h(g)("time")]]):z("",!0),Se(Kr,{name:h(d)(H.value),css:h(p)&&!h(u).timePickerInline},{default:se(()=>[H.value||h(s).timePicker||h(u).timePickerInline?(I(),Z("div",{key:0,ref:"overlay",role:h(u).timePickerInline?void 0:"dialog",class:be({dp__overlay:!h(u).timePickerInline,"dp--overlay-absolute":!h(s).timePicker&&!h(u).timePickerInline,"dp--overlay-relative":h(s).timePicker}),style:pt(h(s).timePicker?{height:`${h(m).modeHeight}px`}:void 0),"aria-label":h(c)?.timePicker,tabindex:h(u).timePickerInline?void 0:0},[we("div",{class:be(h(u).timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[oe(ae.$slots,"time-picker-overlay",{hours:e.hours,minutes:e.minutes,seconds:e.seconds,setHours:q,setMinutes:ie,setSeconds:K},()=>[we("div",{class:be(h(u).timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(I(!0),Z($e,null,Ye(J.value,(ce,_e)=>In((I(),xe(Pv,bt({key:_e},{ref_for:!0},{order:_e,hours:ce.hours,minutes:ce.minutes,seconds:ce.seconds,closeTimePickerBtn:k.value,disabledTimesConfig:e.disabledTimesConfig,disabled:_e===0?h(v).fixedStart:h(v).fixedEnd},{ref_for:!0,ref:"tp-input","validate-time":(me,Ee)=>e.validateTime(me,L(Ee,_e,me)),"onUpdate:hours":me=>q(L(me,_e,"hours")),"onUpdate:minutes":me=>ie(L(me,_e,"minutes")),"onUpdate:seconds":me=>K(L(me,_e,"seconds")),onMounted:le,onOverlayClosed:he,onOverlayOpened:ke}),Ze({_:2},[Ye(h(Q),(me,Ee)=>({name:me,fn:se(D=>[oe(ae.$slots,me,bt({ref_for:!0},D))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[Fn,_e===0?!0:B.value]])),128))],2)]),!h(s).timePicker&&!h(u).timePickerInline?In((I(),Z("button",{key:0,ref:"close-tp-btn","data-dp-action-element":"1",type:"button",class:be({...j.value,"dp--hidden-el":C.value}),"aria-label":h(c)?.closeTimePicker,tabindex:"0",onKeydown:ve[2]||(ve[2]=ce=>h(b)(ce,()=>ee(!1))),onClick:ve[3]||(ve[3]=ce=>ee(!1))},[oe(ae.$slots,"calendar-icon",{},()=>[Se(h(wn))])],42,Ev)),[[Fn,!h(g)("time")]]):z("",!0)],2)],14,Sv)):z("",!0)]),_:3},8,["name","css"])],8,Ov))}}),ms=e=>{const{getDate:t,modelValue:r,time:n,rootProps:a,defaults:{range:o,timeConfig:l}}=Pe(),{isDateEqual:i,setTime:s}=at(),c=(k,O)=>Array.isArray(n[k])?n[k][O]:n[k],f=k=>l.value.enableSeconds?Array.isArray(n.seconds)?n.seconds[k]:n.seconds:0,m=(k,O)=>k?s(O!==void 0?{hours:c("hours",O),minutes:c("minutes",O),seconds:f(O)}:{hours:n.hours,minutes:n.minutes,seconds:f()},k):Xh(t(),f(O)),v=(k,O)=>{n[k]=O},u=N(()=>a.modelAuto&&o.value.enabled?Array.isArray(r.value)?r.value.length>1:!1:o.value.enabled),w=(k,O)=>{const C=Object.fromEntries(Object.keys(n).map(B=>B===k?[B,O]:[B,n[B]].slice()));if(u.value&&!o.value.disableTimeRangeValidation){const B=W=>r.value?s({hours:C.hours[W],minutes:C.minutes[W],seconds:C.seconds[W]},r.value[W]):null,H=W=>zh(r.value[W],0);return!(i(B(0),B(1))&&(Yt(B(0),H(1))||jt(B(1),H(0))))}return!0},b=(k,O)=>{w(k,O)&&(v(k,O),e&&e())},x=k=>{b("hours",k)},d=k=>{b("minutes",k)},p=k=>{b("seconds",k)},g=(k,O)=>{x(k.hours),d(k.minutes),p(k.seconds),r.value&&O(r.value)},_=k=>{if(k){const O=Array.isArray(k),C=O?[+k[0].hours,+k[1].hours]:+k.hours,B=O?[+k[0].minutes,+k[1].minutes]:+k.minutes,H=O?[+(k[0].seconds??0),+(k[1].seconds??0)]:+(k.seconds??0);v("hours",C),v("minutes",B),l.value.enableSeconds&&v("seconds",H)}},S=(k,O)=>{const C={hours:Array.isArray(n.hours)?n.hours[k]:n.hours,disabledArr:[]};return(O||O===0)&&(C.hours=O),Array.isArray(a.disabledTimes)&&(C.disabledArr=o.value.enabled&&Array.isArray(a.disabledTimes[k])?a.disabledTimes[k]:a.disabledTimes),C},Y=N(()=>(k,O)=>{if(Array.isArray(a.disabledTimes)){const{disabledArr:C,hours:B}=S(k,O),H=C.filter(W=>+W.hours===B);return H[0]?.minutes==="*"?{hours:[B],minutes:void 0,seconds:void 0}:{hours:[],minutes:H?.map(W=>+W.minutes)??[],seconds:H?.map(W=>W.seconds?+W.seconds:void 0)??[]}}return{hours:[],minutes:[],seconds:[]}});return{assignTime:v,updateHours:x,updateMinutes:d,updateSeconds:p,getSetDateTime:m,updateTimeValues:g,getSecondsValue:f,assignStartTime:_,validateTime:w,disabledTimesConfig:Y}},$v=e=>{const{getDate:t,time:r,modelValue:n,state:a,defaults:{startTime:o,range:l,timeConfig:i}}=Pe(),{getTimeObj:s}=at();xn(()=>{a.isTextInputDate&&S()});const{updateTimeValues:c,getSetDateTime:f,assignTime:m,assignStartTime:v,disabledTimesConfig:u,validateTime:w}=ms(b);function b(){e("update-flow-step")}const x=k=>{const{hours:O,minutes:C,seconds:B}=k;return{hours:+O,minutes:+C,seconds:B?+B:0}},d=()=>{if(i.value.startTime){if(Array.isArray(i.value.startTime)){const O=x(i.value.startTime[0]),C=x(i.value.startTime[1]);return[Te(t(),O),Te(t(),C)]}const k=x(i.value.startTime);return Te(t(),k)}return l.value.enabled?[null,null]:null},p=()=>{if(l.value.enabled){const[k,O]=d();n.value=[f(k,0),f(O,1)]}else n.value=f(d())},g=k=>Array.isArray(k)?[s(t(k[0])),s(t(k[1]))]:[s(k??t())],_=(k,O,C)=>{m("hours",k),m("minutes",O),m("seconds",i.value.enableSeconds?C:0)},S=()=>{const[k,O]=g(n.value);return l.value.enabled?_([k.hours,O.hours],[k.minutes,O.minutes],[k.seconds,O.seconds]):_(k.hours,k.minutes,k.seconds)};Je(()=>(v(o.value),n.value?S():p()));const Y=()=>{Array.isArray(n.value)?n.value=n.value.map((k,O)=>k&&f(k,O)):n.value=f(n.value),e("time-update")};return{modelValue:n,time:r,disabledTimesConfig:u,validateTime:w,updateTime:k=>{c(k,Y)}}},Rv=ze({__name:"TimePickerSolo",props:{flowStep:{},collapse:{type:Boolean},menuWrapRef:{},noOverlayFocus:{type:Boolean}},emits:["time-update","mount","reset-flow","update-flow-step"],setup(e,{expose:t,emit:r}){const n=r,a=lr(),o=Vt(a,St.TimePicker),l=Be("time-input"),{time:i,modelValue:s,disabledTimesConfig:c,updateTime:f,validateTime:m}=$v(n);return Je(()=>{n("mount")}),t({getSidebarProps:()=>({modelValue:s,time:i,updateTime:f}),toggleTimePicker:(v,u=!1,w="")=>{l.value?.toggleTimePicker(v,u,w)}}),(v,u)=>(I(),xe(ia,{"multi-calendars":0,stretch:""},{default:se(({wrapClass:w})=>[we("div",{class:be(w)},[Se(hs,bt({ref:"time-input"},v.$props,{hours:h(i).hours,minutes:h(i).minutes,seconds:h(i).seconds,"disabled-times-config":h(c),"validate-time":h(m),"onUpdate:hours":u[0]||(u[0]=b=>h(f)({hours:b,minutes:h(i).minutes,seconds:h(i).seconds})),"onUpdate:minutes":u[1]||(u[1]=b=>h(f)({hours:h(i).hours,minutes:b,seconds:h(i).seconds})),"onUpdate:seconds":u[2]||(u[2]=b=>h(f)({hours:h(i).hours,minutes:h(i).minutes,seconds:b})),onResetFlow:u[3]||(u[3]=b=>v.$emit("reset-flow"))}),Ze({_:2},[Ye(h(o),(b,x)=>({name:b,fn:se(d=>[oe(v.$slots,b,ft(Pt(d)))])}))]),1040,["hours","minutes","seconds","disabled-times-config","validate-time"])],2)]),_:3}))}}),Lv=(e,t)=>{const{getDate:r,rootProps:n,defaults:{filters:a}}=Pe(),{validateMonthYearInRange:o,validateMonthYear:l}=kt(),i=(v,u)=>{let w=v;return a.value.months.includes(Oe(w))?(w=u?Ot(v,1):Ur(v,1),i(w,u)):w},s=(v,u)=>{let w=v;return a.value.years.includes(ge(w))?(w=u?co(v,1):ts(v,1),s(w,u)):w},c=(v,u=!1)=>{const w=Te(r(),{month:e.month,year:e.year});let b=v?Ot(w,1):Ur(w,1);n.disableYearSelect&&(b=Mt(b,e.year));let x=Oe(b),d=ge(b);a.value.months.includes(x)&&(b=i(b,v),x=Oe(b),d=ge(b)),a.value.years.includes(d)&&(b=s(b,v),d=ge(b)),o(x,d,v,n.preventMinMaxNavigation)&&f(x,d,u)},f=(v,u,w=!1)=>{t("update-month-year",{month:v,year:u,fromNav:w})},m=N(()=>v=>l(Te(r(),{month:e.month,year:e.year}),n.preventMinMaxNavigation,v));return{handleMonthYearChange:c,isDisabled:m,updateMonthYear:f}},Yv={class:"dp--header-wrap"},Iv={key:0,class:"dp__month_year_wrap"},Fv={key:0},Nv={class:"dp__month_year_wrap"},Bv=["data-dp-element","aria-label","data-test-id","onClick","onKeydown"],Vv=ze({__name:"DpHeader",props:{month:{},year:{},instance:{},years:{},months:{},menuWrapRef:{}},emits:["mount","reset-flow","update-month-year"],setup(e,{expose:t,emit:r}){const n=r,a=e,{rootEmit:o,rootProps:l,modelValue:i,defaults:{ariaLabels:s,filters:c,config:f,highlight:m,safeDates:v,ui:u}}=Pe(),{transitionName:w,showTransition:b}=bn(),{showLeftIcon:x,showRightIcon:d}=la(),{handleMonthYearChange:p,isDisabled:g,updateMonthYear:_}=Lv(a,n),{getMaxMonth:S,getMinMonth:Y,getYearFromDate:k,groupListAndMap:O,checkHighlightYear:C,checkHighlightMonth:B}=at(),{checkKeyDown:H}=Xe(),{formatYear:W}=ir(),{checkMinMaxValue:J}=kt(),{boolHtmlAttribute:ee}=Qr(),j=ue(!1),Q=ue(!1),L=ue(!1);Je(()=>{n("mount")});const q=R=>({get:()=>a[R],set:X=>{const T=R===Dt.month?Dt.year:Dt.month;n("update-month-year",{[R]:X,[T]:a[T]}),R===Dt.month?ce(!0):_e(!0)}}),ie=N(q(Dt.month)),K=N(q(Dt.year)),le=N(()=>R=>({month:a.month,year:a.year,items:R===Dt.month?a.months:a.years,instance:a.instance,updateMonthYear:_,toggle:R===Dt.month?ce:_e})),he=N(()=>a.months.find(X=>X.value===a.month)||{text:"",value:0}),ke=N(()=>O(a.months,R=>{const X=a.month===R.value,T=J(R.value,Y(a.year,v.value.minDate),S(a.year,v.value.maxDate))||c.value.months.includes(R.value),F=B(m.value,R.value,a.year);return{active:X,disabled:T,highlighted:F}})),ae=N(()=>O(a.years,R=>{const X=a.year===R.value,T=J(R.value,k(v.value.minDate),k(v.value.maxDate))||c.value.years.includes(R.value),F=C(m.value,R.value);return{active:X,disabled:T,highlighted:F}})),ve=(R,X,T)=>{T===void 0?R.value=!R.value:R.value=T,R.value?(L.value=!0,o("overlay-toggle",{open:!0,overlay:X})):(L.value=!1,o("overlay-toggle",{open:!1,overlay:X}))},ce=(R=!1,X)=>{me(R),ve(j,ot.month,X)},_e=(R=!1,X)=>{me(R),ve(Q,ot.year,X)},me=R=>{R||n("reset-flow")},Ee=N(()=>[{type:Dt.month,index:1,toggle:ce,modelValue:ie.value,updateModelValue:R=>ie.value=R,text:he.value.text,showSelectionGrid:j.value,items:ke.value,ariaLabel:s.value?.openMonthsOverlay,overlayLabel:s.value.monthPicker?.(!0)??void 0},{type:Dt.year,index:2,toggle:_e,modelValue:K.value,updateModelValue:R=>K.value=R,text:W(a.year),showSelectionGrid:Q.value,items:ae.value,ariaLabel:s.value?.openYearsOverlay,overlayLabel:s.value.yearPicker?.(!0)??void 0}]),D=N(()=>l.disableYearSelect?[Ee.value[0]]:l.yearFirst?[...Ee.value].reverse():Ee.value);return t({toggleMonthPicker:ce,toggleYearPicker:_e,handleMonthYearChange:p}),(R,X)=>(I(),Z("div",Yv,[R.$slots["month-year"]?(I(),Z("div",Iv,[oe(R.$slots,"month-year",ft(Pt({month:e.month,year:e.year,months:e.months,years:e.years,updateMonthYear:h(_),handleMonthYearChange:h(p),instance:e.instance,isDisabled:h(g)})))])):(I(),Z($e,{key:1},[R.$slots["top-extra"]?(I(),Z("div",Fv,[oe(R.$slots,"top-extra",{value:h(i)})])):z("",!0),we("div",Nv,[h(x)(e.instance)&&!h(l).vertical?(I(),xe(on,{key:0,"aria-label":h(s)?.prevMonth,disabled:h(ee)(h(g)(!1)),class:be(h(u)?.navBtnPrev),"el-name":"action-prev",onActivate:X[0]||(X[0]=T=>h(p)(!1,!0))},{default:se(()=>[R.$slots["arrow-left"]?oe(R.$slots,"arrow-left",{key:0}):z("",!0),R.$slots["arrow-left"]?z("",!0):(I(),xe(h(ns),{key:1}))]),_:3},8,["aria-label","disabled","class"])):z("",!0),we("div",{class:be(["dp__month_year_wrap",{dp__year_disable_select:h(l).disableYearSelect}])},[(I(!0),Z($e,null,Ye(D.value,T=>(I(),Z($e,{key:T.type},[we("button",{type:"button","data-dp-element":`overlay-${T.type}`,class:be(["dp__btn dp__month_year_select",{"dp--hidden-el":L.value}]),"aria-label":`${T.text}-${T.ariaLabel}`,"data-test-id":`${T.type}-toggle-overlay-${e.instance}`,tabindex:"0","data-dp-action-element":"0",onClick:F=>T.toggle(!1),onKeydown:F=>h(H)(F,()=>T.toggle(),!0)},[R.$slots[T.type]?oe(R.$slots,T.type,{key:0,text:T.text,value:a[T.type]}):z("",!0),R.$slots[T.type]?z("",!0):(I(),Z($e,{key:1},[Ce(Fe(T.text),1)],64))],42,Bv),Se(Kr,{name:h(w)(T.showSelectionGrid),css:h(b)},{default:se(()=>[T.showSelectionGrid?(I(),xe(kn,{key:0,items:T.items,"is-last":h(l).autoApply&&!h(f).keepActionRow,"skip-button-ref":!1,type:T.type,"header-refs":[],"menu-wrap-ref":e.menuWrapRef,"overlay-label":T.overlayLabel,onSelected:T.updateModelValue,onToggle:T.toggle},Ze({"button-icon":se(()=>[R.$slots["calendar-icon"]?oe(R.$slots,"calendar-icon",{key:0}):z("",!0),R.$slots["calendar-icon"]?z("",!0):(I(),xe(h(wn),{key:1}))]),_:2},[R.$slots[`${T.type}-overlay-value`]?{name:"item",fn:se(({item:F})=>[oe(R.$slots,`${T.type}-overlay-value`,{text:F.text,value:F.value})]),key:"0"}:void 0,R.$slots[`${T.type}-overlay`]?{name:"overlay",fn:se(()=>[oe(R.$slots,`${T.type}-overlay`,bt({ref_for:!0},le.value(T.type)))]),key:"1"}:void 0,R.$slots[`${T.type}-overlay-header`]?{name:"header",fn:se(()=>[oe(R.$slots,`${T.type}-overlay-header`,{toggle:T.toggle})]),key:"2"}:void 0]),1032,["items","is-last","type","menu-wrap-ref","overlay-label","onSelected","onToggle"])):z("",!0)]),_:2},1032,["name","css"])],64))),128))],2),h(x)(e.instance)&&h(l).vertical?(I(),xe(on,{key:1,"aria-label":h(s)?.prevMonth,"el-name":"action-prev",disabled:h(ee)(h(g)(!1)),class:be(h(u)?.navBtnPrev),onActivate:X[1]||(X[1]=T=>h(p)(!1,!0))},{default:se(()=>[R.$slots["arrow-up"]?oe(R.$slots,"arrow-up",{key:0}):z("",!0),R.$slots["arrow-up"]?z("",!0):(I(),xe(h(ls),{key:1}))]),_:3},8,["aria-label","disabled","class"])):z("",!0),h(d)(e.instance)?(I(),xe(on,{key:2,ref:"rightIcon","el-name":"action-next",disabled:h(ee)(h(g)(!0)),"aria-label":h(s)?.nextMonth,class:be(h(u)?.navBtnNext),onActivate:X[2]||(X[2]=T=>h(p)(!0,!0))},{default:se(()=>[R.$slots[h(l).vertical?"arrow-down":"arrow-right"]?oe(R.$slots,h(l).vertical?"arrow-down":"arrow-right",{key:0}):z("",!0),R.$slots[h(l).vertical?"arrow-down":"arrow-right"]?z("",!0):(I(),xe(Ka(h(l).vertical?h(is):h(as)),{key:1}))]),_:3},8,["disabled","aria-label","class"])):z("",!0)])],64))]))}}),Hv={class:"dp__calendar_header",role:"row"},qv={key:0,class:"dp__calendar_header_item",role:"gridcell"},Wv=["aria-label"],jv={key:0,class:"dp__calendar_item dp__week_num",role:"gridcell"},Uv={class:"dp__cell_inner"},Kv=["id","aria-selected","aria-disabled","aria-label","tabindex","data-test-id","data-dp-element-active","onClick","onTouchend","onKeydown","onMouseenter","onMouseleave","onMousedown"],Gv=ze({__name:"DpCalendar",props:{instance:{},mappedDates:{},month:{},year:{}},emits:["mount","select-date","set-hover-date","handle-scroll","handle-swipe"],setup(e,{expose:t,emit:r}){const n=r,a=e,{getDate:o,rootEmit:l,rootProps:i,defaults:{transitions:s,config:c,ariaLabels:f,multiCalendars:m,weekNumbers:v,multiDates:u,ui:w}}=Pe(),{isDateAfter:b,isDateEqual:x,resetDateTime:d,getCellId:p}=at(),{checkKeyDown:g,checkStopPropagation:_,isTouchDevice:S}=Xe(),{formatWeekDay:Y}=ir(),k=Be("calendar-wrap"),O=Be("active-tooltip"),C=ue([]),B=ue(null),H=ue(!0),W=ue(!1),J=ue(""),ee=ue({bottom:"",left:"",transform:""}),j=ue({left:"50%"});Sf(k,{onSwipeEnd:(y,$)=>{c.value.noSwipe||(i.vertical?($==="up"||$==="down")&&n("handle-swipe",$==="up"?"left":"right"):($==="left"||$==="right")&&n("handle-swipe",$==="right"?"left":"right"))}});const Q=N(()=>i.calendar?i.calendar(a.mappedDates):a.mappedDates),L=N(()=>i.dayNames?Array.isArray(i.dayNames)?i.dayNames:i.dayNames():V());Je(()=>{n("mount",{cmp:"calendar",dayRefs:C.value}),c.value.monthChangeOnScroll&&k.value&&k.value.addEventListener("wheel",R,{passive:!1})}),gr(()=>{c.value.monthChangeOnScroll&&k.value&&k.value.removeEventListener("wheel",R)});const q=y=>y?i.vertical?"vNext":"next":i.vertical?"vPrevious":"previous",ie=(y,$)=>{if(i.transitions){const A=d(Te(o(),{month:a.month,year:a.year}));J.value=b(d(Te(o(),{month:y,year:$})),A)?s.value[q(!0)]:s.value[q(!1)],H.value=!1,st(()=>{H.value=!0})}},K=N(()=>({...w.value.calendar})),le=y=>({type:"dot",...y}),he=N(()=>y=>{const $=le(y);return{dp__marker_dot:$.type==="dot",dp__marker_line:$.type==="line"}}),ke=N(()=>y=>x(y,B.value)),ae=N(()=>({dp__calendar:!0,dp__calendar_next:m.value.count>0&&a.instance!==0})),ve=N(()=>y=>i.hideOffsetDates?y.current:!0),ce=async(y,$)=>{const{width:A,height:U}=y.getBoundingClientRect();B.value=$.value;let M={left:`${A/2}px`},ne=-50;if(await st(),O.value?.[0]){const{left:re,width:Me}=O.value[0].getBoundingClientRect();re<0&&(M={left:"0"},ne=0,j.value.left=`${A/2}px`),globalThis.innerWidth<re+Me&&(M={right:"0"},ne=0,j.value.left=`${Me-A/2}px`)}ee.value={bottom:`${U}px`,...M,transform:`translateX(${ne}%)`}},_e=async(y,$,A)=>{const U=ht(C.value?.[$]?.[A]);U&&(y.marker?.customPosition&&y.marker?.tooltip?.length?ee.value=y.marker.customPosition(U):await ce(U,y),l("tooltip-open",y.marker))},me=async(y,$,A)=>{if(W.value&&u.value.enabled&&u.value.dragSelect)return n("select-date",y);if(n("set-hover-date",y),y.marker?.tooltip?.length){if(i.hideOffsetDates&&!y.current)return;await _e(y,$,A)}},Ee=y=>{B.value&&(B.value=null,ee.value=structuredClone({bottom:"",left:"",transform:""}),l("tooltip-close",y.marker))},D=(y,$,A)=>{y&&(Array.isArray(C.value[$])?C.value[$][A]=y:C.value[$]=[y])},R=y=>{c.value.monthChangeOnScroll&&(y.preventDefault(),n("handle-scroll",y))},X=y=>v.value?v.value.type==="local"?vo(y.value,{weekStartsOn:+i.weekStart,locale:i.locale}):v.value.type==="iso"?ho(y.value):typeof v.value.type=="function"?v.value.type(y.value):"":"",T=y=>{const $=y[0];return v.value?.hideOnOffsetDates?y.some(A=>A.current)?X($):"":X($)},F=(y,$,A=!0)=>{!A&&S()||(!u.value.enabled||c.value.allowPreventDefault)&&(_(y,c.value),n("select-date",$))},te=y=>{_(y,c.value)},P=y=>{u.value.enabled&&u.value.dragSelect?(W.value=!0,n("select-date",y)):u.value.enabled&&n("select-date",y)},V=()=>{const y=o(),$=xt(y,{locale:i.locale,weekStartsOn:+i.weekStart}),A=po(y,{locale:i.locale,weekStartsOn:+i.weekStart});return fo({start:$,end:A}).map(U=>Y(U))};return t({triggerTransition:ie}),(y,$)=>(I(),Z("div",{class:be(ae.value)},[we("div",{ref:"calendar-wrap",class:be(K.value),role:"grid"},[we("div",Hv,[h(v)?(I(),Z("div",qv,Fe(h(v).label),1)):z("",!0),(I(!0),Z($e,null,Ye(L.value,(A,U)=>(I(),Z("div",{key:U,class:"dp__calendar_header_item",role:"gridcell","data-test-id":"calendar-header","aria-label":h(f)?.weekDay?.(U)},[oe(y.$slots,"calendar-header",{day:A,index:U},()=>[Ce(Fe(A),1)])],8,Wv))),128))]),$[2]||($[2]=we("div",{class:"dp__calendar_header_separator"},null,-1)),Se(Kr,{name:J.value,css:!!h(s)},{default:se(()=>[H.value?(I(),Z("div",{key:0,class:"dp__calendar",role:"rowgroup",onMouseleave:$[1]||($[1]=A=>W.value=!1)},[(I(!0),Z($e,null,Ye(Q.value,(A,U)=>(I(),Z("div",{key:U,class:"dp__calendar_row",role:"row"},[h(v)?(I(),Z("div",jv,[we("div",Uv,Fe(T(A.days)),1)])):z("",!0),(I(!0),Z($e,null,Ye(A.days,(M,ne)=>(I(),Z("div",{id:h(p)(M.value),ref_for:!0,ref:re=>D(re,U,ne),key:ne+U,role:"gridcell",class:"dp__calendar_item","aria-selected":(M.classData.dp__active_date||M.classData.dp__range_start||M.classData.dp__range_end)??void 0,"aria-disabled":M.classData.dp__cell_disabled||void 0,"aria-label":h(f)?.day?.(M),tabindex:!M.current&&h(i).hideOffsetDates?void 0:0,"data-test-id":h(p)(M.value),"data-dp-element-active":M.classData.dp__active_date?0:void 0,"data-dp-action-element":"0",onClick:mr(re=>F(re,M),["prevent"]),onTouchend:re=>F(re,M,!1),onKeydown:re=>h(g)(re,()=>y.$emit("select-date",M)),onMouseenter:re=>me(M,U,ne),onMouseleave:re=>Ee(M),onMousedown:re=>P(M),onMouseup:$[0]||($[0]=re=>W.value=!1)},[we("div",{class:be(["dp__cell_inner",M.classData])},[y.$slots.day&&ve.value(M)?oe(y.$slots,"day",{key:0,day:+M.text,date:M.value}):z("",!0),y.$slots.day?z("",!0):(I(),Z($e,{key:1},[Ce(Fe(M.text),1)],64)),M.marker&&ve.value(M)?oe(y.$slots,"marker",{key:2,marker:M.marker,day:+M.text,date:M.value},()=>[we("div",{class:be(he.value(M.marker)),style:pt(M.marker.color?{backgroundColor:M.marker.color}:{})},null,6)]):z("",!0),ke.value(M.value)?(I(),Z("div",{key:3,ref_for:!0,ref:"active-tooltip",class:"dp__marker_tooltip",style:pt(ee.value)},[M.marker?.tooltip?(I(),Z("div",{key:0,class:"dp__tooltip_content",onClick:te},[(I(!0),Z($e,null,Ye(M.marker.tooltip,(re,Me)=>(I(),Z("div",{key:Me,class:"dp__tooltip_text"},[oe(y.$slots,"marker-tooltip",{tooltip:re,day:M.value},()=>[we("div",{class:"dp__tooltip_mark",style:pt(re.color?{backgroundColor:re.color}:{})},null,4),we("div",null,Fe(re.text),1)])]))),128)),we("div",{class:"dp__arrow_bottom_tp",style:pt(j.value)},null,4)])):z("",!0)],4)):z("",!0)],2)],40,Kv))),128))]))),128))],32)):z("",!0)]),_:3},8,["name","css"])],2)],2))}}),Qv=(e,t,r,n)=>{const a=ue([]),o=ue(new Date),l=ue(),{getDate:i,rootEmit:s,calendars:c,month:f,year:m,time:v,modelValue:u,rootProps:w,today:b,state:x,defaults:{multiCalendars:d,startTime:p,range:g,config:_,safeDates:S,multiDates:Y,timeConfig:k,flow:O}}=Pe(),{validateMonthYearInRange:C,isDisabled:B,isDateRangeAllowed:H,checkMinMaxRange:W}=kt(),{updateTimeValues:J,getSetDateTime:ee,assignTime:j,assignStartTime:Q,validateTime:L,disabledTimesConfig:q}=ms(n),{formatDay:ie}=ir(),{resetDateTime:K,setTime:le,isDateBefore:he,isDateEqual:ke,getDaysInBetween:ae}=at(),{checkRangeAutoApply:ve,getRangeWithFixedDate:ce,handleMultiDatesSelect:_e,setPresetDate:me}=sa(),{getMapDate:Ee}=Xe();xn(()=>P(x.isTextInputDate));const D=E=>!_.value.keepViewOnOffsetClick||E?!0:!l.value,R=(E,G,pe,De=!1)=>{D(De)&&(c.value[E]??=c.value[E]={month:0,year:0},c.value[E].month=G??c.value[E]?.month,c.value[E].year=pe??c.value[E]?.year)},X=()=>{w.autoApply&&t("select-date")},T=()=>{p.value&&Q(p.value)};Je(()=>{u.value||(An(),T()),P(!0),w.focusStartDate&&w.startDate&&An()});const F=N(()=>O.value?.steps?.length&&!O.value?.partial?e.flowStep===O.value.steps.length:!0),te=()=>{w.autoApply&&F.value&&t("auto-apply",O.value?.partial?e.flowStep!==O.value?.steps?.length:!1)},P=(E=!1)=>{if(u.value)return Array.isArray(u.value)?(a.value=u.value,re(E)):A(u.value,E);if(d.value.count&&E&&!w.startDate)return $(i(),E)},V=()=>Array.isArray(u.value)&&g.value.enabled?Oe(u.value[0])===Oe(u.value[1]??u.value[0]):!1,y=E=>{const G=Ot(E,1);return{month:Oe(G),year:ge(G)}},$=(E=i(),G=!1)=>{if((!d.value.count||!d.value.static||G)&&R(0,Oe(E),ge(E)),d.value.count&&(!u.value||V()||!d.value.solo)&&(!d.value.solo||G))for(let pe=1;pe<d.value.count;pe++){const De=Te(i(),{month:f.value(pe-1),year:m.value(pe-1)}),qe=Bi(De,{months:1});c.value[pe]={month:Oe(qe),year:ge(qe)}}},A=(E,G)=>{$(E),j("hours",qt(E)),j("minutes",Gt(E)),j("seconds",or(E)),d.value.count&&G&&xr()},U=E=>{if(d.value.count){if(d.value.solo)return 0;const G=Oe(E[0]),pe=Oe(E[1]);return Math.abs(pe-G)<d.value.count?0:1}return 1},M=(E,G)=>{E[1]&&g.value.showLastInRange?$(E[U(E)],G):$(E[0],G);const pe=(De,qe)=>[De(E[0]),E?.[1]?De(E[1]):v[qe][1]];j("hours",pe(qt,"hours")),j("minutes",pe(Gt,"minutes")),j("seconds",pe(or,"seconds"))},ne=(E,G)=>{if((g.value.enabled||w.weekPicker)&&!Y.value.enabled)return M(E,G);if(Y.value.enabled&&G){const pe=E[E.length-1];return A(pe,G)}},re=E=>{const G=u.value;ne(G,E),d.value.count&&d.value.solo&&xr()},Me=(E,G)=>{const pe=Te(i(),{month:f.value(G),year:m.value(G)}),De=E<0?Ot(pe,1):Ur(pe,1);C(Oe(De),ge(De),E<0,w.preventMinMaxNavigation)&&(R(G,Oe(De),ge(De)),s("update-month-year",{instance:G,month:Oe(De),year:ge(De)}),d.value.count&&!d.value.solo&&Ae(G),r())},Ae=E=>{for(let G=E-1;G>=0;G--){const pe=Ur(Te(i(),{month:f.value(G+1),year:m.value(G+1)}),1);R(G,Oe(pe),ge(pe))}for(let G=E+1;G<=d.value.count-1;G++){const pe=Ot(Te(i(),{month:f.value(G-1),year:m.value(G-1)}),1);R(G,Oe(pe),ge(pe))}},xr=()=>{if(Array.isArray(u.value)&&u.value.length===2){const E=i(i(u.value[1]??Ot(u.value[0],1))),[G,pe]=[Oe(u.value[0]),ge(u.value[0])],[De,qe]=[Oe(u.value[1]),ge(u.value[1])];(G!==De||G===De&&pe!==qe)&&d.value.solo&&R(1,Oe(E),ge(E))}else u.value&&!Array.isArray(u.value)&&(R(0,Oe(u.value),ge(u.value)),$(i()))},An=()=>{w.startDate&&(R(0,Oe(i(w.startDate)),ge(i(w.startDate))),d.value.count&&Ae(0))},Dn=(E,G)=>{if(_.value.monthChangeOnScroll){const pe=Date.now()-o.value.getTime(),De=Math.abs(E.deltaY);let qe=500;De>1&&(qe=100),De>100&&(qe=0),pe>qe&&(o.value=new Date,Me(_.value.monthChangeOnScroll==="inverse"?E.deltaY:-E.deltaY,G))}},va=(E,G,pe=!1)=>{_.value.monthChangeOnArrows&&w.vertical===pe&&Tn(E,G)},Tn=(E,G)=>{Me(E==="right"?-1:1,G)},ya=E=>{if(S.value.markers)return Ee(E.value,S.value.markers)},ga=(E,G)=>{switch(w.sixWeeks===!0?"append":w.sixWeeks){case"prepend":return[!0,!1];case"center":return[E==0,!0];case"fair":return[E==0||G>E,!0];case"append":return[!1,!1];default:return[!1,!1]}},wa=(E,G,pe,De)=>{if(w.sixWeeks&&E.length<6){const qe=6-E.length,zt=(G.getDay()+7-De)%7,kr=6-(pe.getDay()+7-De)%7,[Zr,On]=ga(zt,kr);for(let Jr=1;Jr<=qe;Jr++)if(On?!!(Jr%2)==Zr:Zr){const Xt=E[0].days[0],_a=zr(gt(Xt.value,-7),Oe(G));E.unshift({days:_a})}else{const Xt=E[E.length-1],_a=Xt.days[Xt.days.length-1],Ps=zr(gt(_a.value,1),Oe(G));E.push({days:Ps})}}return E},zr=(E,G)=>{const pe=i(E),De=[];for(let qe=0;qe<7;qe++){const zt=gt(pe,qe),kr=Oe(zt)!==G;De.push({text:w.hideOffsetDates&&kr?"":ie(zt),value:zt,current:!kr,classData:{}})}return De},ba=(E,G)=>{const pe=[],De=i(new Date(G,E)),qe=i(new Date(G,E+1,0)),zt=w.weekStart,kr=xt(De,{weekStartsOn:zt}),Zr=On=>{const Jr=zr(On,E);if(pe.push({days:Jr}),!pe[pe.length-1].days.some(Xt=>ke(i(Xt.value),K(qe)))){const Xt=gt(On,7);Zr(Xt)}};return Zr(kr),wa(pe,De,qe,zt)},xa=E=>{const G=le({hours:v.hours,minutes:v.minutes,seconds:Pn()},i(E.value));s("date-click",G),Y.value.enabled?_e(G,Y.value.limit):u.value=G,n(),st().then(()=>{te()})},Mn=E=>g.value.noDisabledRange?ae(a.value[0],E).some(G=>B(G)):!1,fe=()=>{a.value=u.value?u.value.slice().filter(E=>!!E):[],a.value.length===2&&!(g.value.fixedStart||g.value.fixedEnd)&&(a.value=[])},ut=(E,G)=>{const pe=[i(E.value),gt(i(E.value),+g.value.autoRange)];H(pe)?(G&&_t(E.value),a.value=pe):s("invalid-date",E.value)},_t=E=>{const G=Oe(i(E)),pe=ge(i(E));if(R(0,G,pe),d.value.count>0)for(let De=1;De<d.value.count;De++){const qe=y(Te(i(E),{year:m.value(De-1),month:f.value(De-1)}));R(De,qe.month,qe.year)}},Xr=E=>{if(Mn(E.value)||!W(E.value,u.value,g.value.fixedStart?0:1))return s("invalid-date",E.value);a.value=ce(i(E.value))},sr=(E,G)=>{if(fe(),g.value.autoRange)return ut(E,G);if(g.value.fixedStart||g.value.fixedEnd)return Xr(E);a.value[0]?W(i(E.value),u.value)&&!Mn(E.value)?he(i(E.value),i(a.value[0]))?g.value.autoSwitchStartEnd?(a.value.unshift(i(E.value)),s("range-end",a.value[0])):(a.value[0]=i(E.value),s("range-start",a.value[0])):(a.value[1]=i(E.value),s("range-end",a.value[1])):s("invalid-date",E.value):(a.value[0]=i(E.value),s("range-start",a.value[0]))},Pn=(E=!0)=>k.value.enableSeconds?Array.isArray(v.seconds)?E?v.seconds[0]:v.seconds[1]:v.seconds:0,ka=E=>{a.value[E]=le({hours:v.hours[E],minutes:v.minutes[E],seconds:Pn(E!==1)},a.value[E])},gs=()=>{a.value[0]&&a.value[1]&&+a.value?.[0]>+a.value?.[1]&&(a.value.reverse(),s("range-start",a.value[0]),s("range-end",a.value[1]))},ws=()=>{a.value.length&&(a.value[0]&&!a.value[1]?ka(0):(ka(0),ka(1),n()),gs(),u.value=a.value.slice(),ve(a.value,t,a.value.length<2||O.value?.steps.length?e.flowStep!==O.value?.steps?.length:!1))},bs=(E,G=!1)=>{if(B(E.value)||!E.current&&w.hideOffsetDates)return s("invalid-date",E.value);if(l.value=structuredClone(E),!g.value.enabled)return xa(E);Array.isArray(v.hours)&&Array.isArray(v.minutes)&&!Y.value.enabled&&(sr(E,G),ws())},xs=(E,G)=>{R(E,G.month,G.year,!0),d.value.count&&!d.value.solo&&Ae(E),s("update-month-year",{instance:E,month:G.month,year:G.year}),r(d.value.solo?E:void 0);const pe=O.value?.steps?.length?O.value.steps[e.flowStep]:void 0;!G.fromNav&&(pe===ot.month||pe===ot.year)&&n()},ks=E=>{me({value:E}),X(),w.multiCalendars&&st().then(()=>P(!0))},_s=()=>{let E=i();return w.actionRow?.nowBtnRound&&(E=Qh(E,{roundingMethod:w.actionRow.nowBtnRound.rounding??"ceil",nearestTo:w.actionRow.nowBtnRound.roundTo??15})),E},As=()=>{const E=_s();!g.value.enabled&&!Y.value.enabled?u.value=E:u.value&&Array.isArray(u.value)&&u.value[0]?Y.value.enabled?u.value=[...u.value,E]:u.value=he(E,u.value[0])?[E,u.value[0]]:[u.value[0],E]:u.value=[E],X()},Ds=()=>{if(Array.isArray(u.value))if(Y.value.enabled){const E=Ts();u.value[u.value.length-1]=ee(E)}else u.value=u.value.map((E,G)=>E&&ee(E,G));else u.value=ee(u.value);t("time-update")},Ts=()=>Array.isArray(u.value)&&u.value.length?u.value[u.value.length-1]:null,Ms=E=>{let G="";if(g.value.enabled&&Array.isArray(u.value))for(const pe of Object.keys(E)){const De=E[pe];Array.isArray(De)&&(v[pe][0]!==De[0]&&(G="range-start"),v[pe][1]!==De[1]&&(G="range-start"))}return G};return{calendars:c,modelValue:u,month:f,year:m,time:v,disabledTimesConfig:q,today:b,validateTime:L,getCalendarDays:ba,getMarker:ya,handleScroll:Dn,handleSwipe:Tn,handleArrow:va,selectDate:bs,updateMonthYear:xs,presetDate:ks,selectCurrentDate:As,updateTime:E=>{const G=Ms(E);J(E,Ds),G&&s(G,u.value[G==="range-start"?0:1])},assignMonthAndYear:$,setStartTime:T}},zv=()=>{const{isModelAuto:e,matchDate:t,isDateAfter:r,isDateBefore:n,isDateBetween:a,isDateEqual:o,getWeekFromDate:l,getBeforeAndAfterInRange:i}=at(),{getDate:s,today:c,rootProps:f,defaults:{multiCalendars:m,multiDates:v,ui:u,highlight:w,safeDates:b,range:x},modelValue:d}=Pe(),{isDisabled:p}=kt(),g=ue(null),_=y=>{!y.current&&f.hideOffsetDates||(g.value=y.value)},S=()=>{g.value=null},Y=y=>Array.isArray(d.value)&&x.value.enabled&&d.value[0]&&g.value?y?r(g.value,d.value[0]):n(g.value,d.value[0]):!0,k=(y,$)=>{const A=()=>d.value?$?d.value[0]||null:d.value[1]:null,U=d.value&&Array.isArray(d.value)?A():null;return o(s(y.value),U)},O=y=>{const $=Array.isArray(d.value)?d.value[0]:null;return y?!n(g.value,$):!0},C=(y,$=!0)=>(x.value.enabled||f.weekPicker)&&Array.isArray(d.value)&&d.value.length===2?f.hideOffsetDates&&!y.current?!1:o(s(y.value),d.value[$?0:1]):x.value.enabled?k(y,$)&&O($)||o(y.value,Array.isArray(d.value)?d.value[0]:null)&&Y($):!1,B=(y,$)=>{if(Array.isArray(d.value)&&d.value[0]&&d.value.length===1){const A=o(y.value,g.value);return $?r(d.value[0],y.value)&&A:n(d.value[0],y.value)&&A}return!1},H=y=>!d.value||f.hideOffsetDates&&!y.current?!1:x.value.enabled?f.modelAuto&&Array.isArray(d.value)?o(y.value,d.value[0]??c):!1:v.value.enabled&&Array.isArray(d.value)?d.value.some($=>o($,y.value)):o(y.value,d.value?d.value:c),W=y=>{if(x.value.autoRange||f.weekPicker){if(g.value){if(f.hideOffsetDates&&!y.current)return!1;const $=gt(g.value,+x.value.autoRange),A=l(s(g.value),f.weekStart);return f.weekPicker?o(A[1],s(y.value)):o($,s(y.value))}return!1}return!1},J=y=>{if(x.value.autoRange||f.weekPicker){if(g.value){const $=gt(g.value,+x.value.autoRange);if(f.hideOffsetDates&&!y.current)return!1;const A=l(s(g.value),f.weekStart);return f.weekPicker?r(y.value,A[0])&&n(y.value,A[1]):r(y.value,g.value)&&n(y.value,$)}return!1}return!1},ee=y=>{if(x.value.autoRange||f.weekPicker){if(g.value){if(f.hideOffsetDates&&!y.current)return!1;const $=l(s(g.value),f.weekStart);return f.weekPicker?o($[0],y.value):o(g.value,y.value)}return!1}return!1},j=y=>a(d.value,g.value,y.value),Q=()=>f.modelAuto&&Array.isArray(d.value)?!!d.value[0]:!1,L=()=>f.modelAuto?e(d.value):!0,q=y=>{if(f.weekPicker)return!1;const $=x.value.enabled?!C(y)&&!C(y,!1):!0;return!p(y.value)&&!H(y)&&!(!y.current&&f.hideOffsetDates)&&$},ie=y=>x.value.enabled?f.modelAuto?Q()&&H(y):!1:H(y),K=y=>w.value?t(y.value,b.value.highlight):!1,le=y=>{const $=p(y.value);return $&&(typeof w.value=="function"?!w.value(y.value,$):!w.value.options.highlightDisabled)},he=y=>typeof w.value=="function"?w.value(y.value):w.value.weekdays?.includes(y.value.getDay()),ke=y=>(x.value.enabled||f.weekPicker)&&(!(m.value.count>0)||y.current)&&L()&&!(!y.current&&f.hideOffsetDates)&&!H(y)?j(y):!1,ae=y=>{if(Array.isArray(d.value)&&d.value.length===1){const{before:$,after:A}=i(+x.value.maxRange,d.value[0]);return jt(y.value,$)||Yt(y.value,A)}return!1},ve=y=>{if(Array.isArray(d.value)&&d.value.length===1){const{before:$,after:A}=i(+x.value.minRange,d.value[0]);return a([$,A],d.value[0],y.value)}return!1},ce=y=>x.value.enabled&&(x.value.maxRange||x.value.minRange)?x.value.maxRange&&x.value.minRange?ae(y)||ve(y):x.value.maxRange?ae(y):ve(y):!1,_e=y=>{const{isRangeStart:$,isRangeEnd:A}=R(y),U=x.value.enabled?$||A:!1;return{dp__cell_offset:!y.current,dp__pointer:!f.disabled&&!(!y.current&&f.hideOffsetDates)&&!p(y.value)&&!ce(y),dp__cell_disabled:p(y.value)||ce(y),dp__cell_highlight:!le(y)&&(K(y)||he(y))&&!ie(y)&&!U&&!ee(y)&&!(ke(y)&&f.weekPicker)&&!A,dp__cell_highlight_active:!le(y)&&(K(y)||he(y))&&ie(y),dp__today:!f.noToday&&o(y.value,c)&&y.current,"dp--past":n(y.value,c),"dp--future":r(y.value,c)}},me=y=>({dp__active_date:ie(y),dp__date_hover:q(y)}),Ee=y=>{if(d.value&&!Array.isArray(d.value)){const $=l(d.value,f.weekStart);return{...P(y),dp__range_start:o($[0],y.value),dp__range_end:o($[1],y.value),dp__range_between_week:r(y.value,$[0])&&n(y.value,$[1])}}return{...P(y)}},D=y=>{if(d.value&&Array.isArray(d.value)){const $=l(d.value[0],f.weekStart),A=d.value[1]?l(d.value[1],f.weekStart):[];return{...P(y),dp__range_start:o($[0],y.value)||o(A[0],y.value),dp__range_end:o($[1],y.value)||o(A[1],y.value),dp__range_between_week:r(y.value,$[0])&&n(y.value,$[1])||r(y.value,A[0])&&n(y.value,A[1]),dp__range_between:r(y.value,$[1])&&n(y.value,A[0])}}return{...P(y)}},R=y=>{const $=m.value.count>0?y.current&&C(y)&&L():C(y)&&L(),A=m.value.count>0?y.current&&C(y,!1)&&L():C(y,!1)&&L();return{isRangeStart:$,isRangeEnd:A}},X=y=>x.value.enabled&&(x.value.fixedStart||x.value.fixedEnd)&&Array.isArray(d.value)&&d.value.length===2,T=(y,$,A,U)=>!X(d.value)||!g.value?!1:$?x.value.fixedEnd&&o(y.value,g.value)&&jt(y.value,d.value[0])&&!A:x.value.fixedStart&&o(y.value,g.value)&&Yt(y.value,d.value[1])&&!U,F=(y,$)=>!X(d.value)||!g.value?!1:$?x.value.fixedEnd&&Yt(y.value,g.value)&&jt(y.value,d.value[0]):x.value.fixedStart&&jt(y.value,g.value)&&Yt(y.value,d.value[1]),te=y=>{const{isRangeStart:$,isRangeEnd:A}=R(y);return{dp__range_start:$,dp__range_end:A,dp__range_between:ke(y),dp__date_hover:o(y.value,g.value)&&!$&&!A&&!f.weekPicker,dp__date_hover_start:B(y,!0)||T(y,!0,$,A),dp__date_hover_end:B(y,!1)||T(y,!1,$,A),"dp--extended-fixed-start":F(y,!0),"dp--extended-fixed-end":F(y,!1)}},P=y=>({...te(y),dp__cell_auto_range:J(y),dp__cell_auto_range_start:ee(y),dp__cell_auto_range_end:W(y)}),V=y=>x.value.enabled?x.value.autoRange?P(y):f.modelAuto?{...me(y),...te(y)}:f.weekPicker?D(y):te(y):f.weekPicker?Ee(y):me(y);return{setHoverDate:_,clearHoverDate:S,getDayClassData:y=>f.hideOffsetDates&&!y.current?{}:{..._e(y),...V(y),[u.value.dayClass?u.value.dayClass(y.value,d.value):""]:!0,...u.value.calendarCell}}},Xv={key:0},Zv=ze({__name:"DatePicker",props:kl({flowStep:{},collapse:{type:Boolean},menuWrapRef:{},noOverlayFocus:{type:Boolean}},Qm),emits:["mount","update-flow-step","reset-flow","focus-menu","select-date","time-update","auto-apply"],setup(e,{expose:t,emit:r}){const n=r,a=e,{month:o,year:l,modelValue:i,time:s,disabledTimesConfig:c,today:f,validateTime:m,getCalendarDays:v,getMarker:u,handleArrow:w,handleScroll:b,handleSwipe:x,selectDate:d,updateMonthYear:p,presetDate:g,selectCurrentDate:_,updateTime:S,assignMonthAndYear:Y,setStartTime:k}=Qv(a,n,me,Ee),O=lr(),{setHoverDate:C,getDayClassData:B,clearHoverDate:H}=zv(),{getDate:W,rootEmit:J,rootProps:ee,defaults:{multiCalendars:j,timeConfig:Q}}=Pe(),{getYears:L,getMonths:q}=oa(),{getCellId:ie}=at(),K=Be("calendar-header"),le=Be("calendar"),he=Be("time-picker"),ke=Vt(O,St.Calendar),ae=Vt(O,St.DatePickerHeader),ve=Vt(O,St.TimePicker),ce=V=>{n("mount",V)};it(j,(V,y)=>{V.count-y.count>0&&Y()},{deep:!0});const _e=N(()=>V=>v(o.value(V),l.value(V)).map(y=>({...y,days:y.days.map($=>($.marker=u($),$.classData=B($),$))})));function me(V){V||V===0?le.value?.[V]?.triggerTransition(o.value(V),l.value(V)):le.value?.forEach((y,$)=>y?.triggerTransition(o.value($),l.value($)))}function Ee(){n("update-flow-step")}const D=(V,y,$=0)=>{K.value?.[$]?.toggleMonthPicker(V,y)},R=(V,y,$=0)=>{K.value?.[$]?.toggleYearPicker(V,y)},X=(V,y,$)=>{he.value?.toggleTimePicker(V,y,$)},T=(V,y)=>{if(!ee.range){const $=i.value?i.value:f,A=y?W(y):$,U=V?xt(A,{weekStartsOn:1}):po(A,{weekStartsOn:1});d({value:U,current:Oe(A)===o.value(0),text:"",classData:{}}),document.getElementById(ie(U))?.focus()}},F=V=>{K.value?.[0]?.handleMonthYearChange(V,!0)},te=V=>{p(0,{month:o.value(0),year:l.value(0)+(V?1:-1),fromNav:!0})},P=V=>{J("overlay-toggle",{open:!1,overlay:V}),n("focus-menu")};return t({clearHoverDate:H,presetDate:g,selectCurrentDate:_,handleArrow:w,updateMonthYear:p,setStartTime:k,toggleMonthPicker:D,toggleYearPicker:R,toggleTimePicker:X,getSidebarProps:()=>({modelValue:i,month:o,year:l,time:s,updateTime:S,updateMonthYear:p,selectDate:d,presetDate:g}),changeMonth:F,changeYear:te,selectWeekDate:T}),(V,y)=>(I(),Z($e,null,[Se(ia,{collapse:e.collapse},{default:se(({instances:$,wrapClass:A})=>[(I(!0),Z($e,null,Ye($,U=>(I(),Z("div",{key:U,class:be(A)},[h(ee).hideMonthYearSelect?z("",!0):(I(),xe(Vv,{key:0,ref_for:!0,ref:"calendar-header",months:h(q)(),years:h(L)(),month:h(o)(U),year:h(l)(U),instance:U,"menu-wrap-ref":e.menuWrapRef,onMount:y[0]||(y[0]=M=>ce(h(hr).header)),onResetFlow:y[1]||(y[1]=M=>V.$emit("reset-flow")),onUpdateMonthYear:M=>h(p)(U,M),onOverlayClosed:P},Ze({_:2},[Ye(h(ae),(M,ne)=>({name:M,fn:se(re=>[oe(V.$slots,M,bt({ref_for:!0},re))])}))]),1032,["months","years","month","year","instance","menu-wrap-ref","onUpdateMonthYear"])),Se(Gv,{ref_for:!0,ref:"calendar","mapped-dates":_e.value(U),instance:U,month:h(o)(U),year:h(l)(U),onSelectDate:M=>h(d)(M,U!==1),onSetHoverDate:y[2]||(y[2]=M=>h(C)(M)),onHandleScroll:M=>h(b)(M,U),onHandleSwipe:M=>h(x)(M,U),onMount:y[3]||(y[3]=M=>ce(h(hr).calendar))},Ze({_:2},[Ye(h(ke),(M,ne)=>({name:M,fn:se(re=>[oe(V.$slots,M,bt({ref_for:!0},re))])}))]),1032,["mapped-dates","instance","month","year","onSelectDate","onHandleScroll","onHandleSwipe"])],2))),128))]),_:3},8,["collapse"]),h(Q).enableTimePicker?(I(),Z("div",Xv,[oe(V.$slots,"time-picker",ft(Pt({time:h(s),updateTime:h(S)})),()=>[Se(hs,{ref:"time-picker",hours:h(s).hours,minutes:h(s).minutes,seconds:h(s).seconds,"disabled-times-config":h(c),"validate-time":h(m),"no-overlay-focus":e.noOverlayFocus,onMount:y[4]||(y[4]=$=>ce(h(hr).timePicker)),"onUpdate:hours":y[5]||(y[5]=$=>h(S)({hours:$,minutes:h(s).minutes,seconds:h(s).seconds})),"onUpdate:minutes":y[6]||(y[6]=$=>h(S)({hours:h(s).hours,minutes:$,seconds:h(s).seconds})),"onUpdate:seconds":y[7]||(y[7]=$=>h(S)({hours:h(s).hours,minutes:h(s).minutes,seconds:$})),onResetFlow:y[8]||(y[8]=$=>V.$emit("reset-flow"))},Ze({_:2},[Ye(h(ve),($,A)=>({name:$,fn:se(U=>[oe(V.$slots,$,ft(Pt(U)))])}))]),1032,["hours","minutes","seconds","disabled-times-config","validate-time","no-overlay-focus"])])])):z("",!0)],64))}}),Jv=(e,t)=>{const{getDate:r,modelValue:n,year:a,calendars:o,defaults:{highlight:l,range:i,multiDates:s}}=Pe(),{isDateBetween:c,isDateEqual:f}=at(),{checkRangeAutoApply:m,handleMultiDatesSelect:v,setMonthOrYearRange:u}=sa();xn();const{isDisabled:w}=kt(),{formatQuarterText:b}=ir(),{selectYear:x,groupedYears:d,showYearPicker:p,isDisabled:g,toggleYearPicker:_,handleYearSelect:S,handleYear:Y,setStartDate:k}=ps(t),O=ue();Je(()=>{k()});const C=N(()=>L=>n.value?Array.isArray(n.value)?n.value.some(q=>pl(L,q)):pl(n.value,L):!1),B=L=>{if(i.value.enabled){if(Array.isArray(n.value)){const q=f(L,n.value[0])||f(L,n.value[1]);return c(n.value,O.value,L)&&!q}return!1}return!1},H=(L,q)=>L.quarter===il(q)&&L.year===ge(q),W=L=>typeof l.value=="function"?l.value({quarter:il(L),year:ge(L)}):l.value.quarters.some(q=>H(q,L)),J=N(()=>L=>{const q=Te(r(),{year:a.value(L)});return Lp({start:Ir(q),end:ji(q)}).map(ie=>{const K=cr(ie),le=sl(ie),he=w(ie),ke=B(K),ae=W(K);return{text:b(K,le),value:K,active:C.value(K),highlighted:ae,disabled:he,isBetween:ke}})}),ee=L=>{v(L,s.value.limit),t("auto-apply",!0)},j=L=>{n.value=u(L),m(n.value,t,n.value.length<2)},Q=L=>{n.value=L,t("auto-apply")};return{groupedYears:d,year:a,isDisabled:g,quarters:J,showYearPicker:p,modelValue:n,selectYear:x,toggleYearPicker:_,handleYearSelect:S,handleYear:Y,setHoverDate:L=>{O.value=L},selectQuarter:(L,q,ie)=>{if(!ie)return o.value[q].month=Oe(sl(L)),s.value.enabled?ee(L):i.value.enabled?j(L):Q(L)}}},ey={class:"dp--quarter-items"},ty=["data-test-id","disabled","onClick","onMouseover"],ry=ze({__name:"QuarterPicker",props:{flowStep:{},collapse:{type:Boolean},menuWrapRef:{},noOverlayFocus:{type:Boolean}},emits:["reset-flow","auto-apply"],setup(e,{expose:t,emit:r}){const n=r,a=e,{defaults:{config:o}}=Pe(),l=lr(),{boolHtmlAttribute:i}=Qr(),s=Vt(l,St.YearMode),{groupedYears:c,year:f,isDisabled:m,quarters:v,modelValue:u,showYearPicker:w,setHoverDate:b,selectQuarter:x,toggleYearPicker:d,handleYearSelect:p,handleYear:g}=Jv(a,n);return t({getSidebarProps:()=>({modelValue:u,year:f,selectQuarter:x,handleYearSelect:p,handleYear:g})}),(_,S)=>(I(),xe(ia,{collapse:e.collapse,stretch:""},{default:se(({instances:Y,wrapClass:k})=>[(I(!0),Z($e,null,Ye(Y,O=>(I(),Z("div",{key:O,class:be(k)},[we("div",{class:"dp-quarter-picker-wrap",style:pt({minHeight:`${h(o).modeHeight}px`})},[_.$slots["top-extra"]?oe(_.$slots,"top-extra",{key:0,value:h(u)}):z("",!0),we("div",null,[Se(fs,{items:h(c)(O),instance:O,"show-year-picker":h(w)[O],year:h(f)(O),"is-disabled":C=>h(m)(O,C),onHandleYear:C=>h(g)(O,C),onYearSelect:C=>h(p)(C,O),onToggleYearPicker:C=>h(d)(O,C?.flow,C?.show)},Ze({_:2},[Ye(h(s),(C,B)=>({name:C,fn:se(H=>[oe(_.$slots,C,bt({ref_for:!0},H))])}))]),1032,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),we("div",ey,[(I(!0),Z($e,null,Ye(h(v)(O),(C,B)=>(I(),Z("div",{key:B},[we("button",{type:"button",class:be(["dp--qr-btn",{"dp--qr-btn-active":C.active,"dp--qr-btn-between":C.isBetween,"dp--qr-btn-disabled":C.disabled,"dp--highlighted":C.highlighted}]),"data-dp-action-element":"0","data-test-id":C.value,disabled:h(i)(C.disabled),onClick:H=>h(x)(C.value,O,C.disabled),onMouseover:H=>h(b)(C.value)},[oe(_.$slots,"quarter",{value:C.value,text:C.text},()=>[Ce(Fe(C.text),1)])],42,ty)]))),128))])],4)],2))),128))]),_:3},8,["collapse"]))}}),ny=["id","tabindex","role","aria-label"],ay={key:0,class:"dp--menu-load-container"},oy={key:1,class:"dp--menu-header"},ly=["data-dp-mobile"],iy={key:0,class:"dp__sidebar_left"},sy=["data-dp-mobile"],uy=["data-test-id","data-dp-mobile","onClick","onKeydown"],cy={class:"dp__instance_calendar"},dy={key:2,class:"dp__sidebar_right"},fy={key:2,class:"dp__action_extra"},py=ze({__name:"DatepickerMenu",props:{collapse:{type:Boolean},noOverlayFocus:{type:Boolean},getInputRect:{type:Function}},emits:["close-picker","select-date","auto-apply","time-update","menu-blur"],setup(e,{expose:t,emit:r}){const n=r,a=lr(),{state:o,rootProps:l,defaults:{textInput:i,inline:s,config:c,ui:f,ariaLabels:m},setState:v}=Pe(),{isMobile:u}=aa(),{handleEventPropagation:w,getElWithin:b,checkStopPropagation:x,checkKeyDown:d}=Xe();lm();const p=Be("inner-menu"),g=Be("dp-menu"),_=Be("dyn-cmp"),S=ue(0),Y=ue(!1),k=ue(!1),{flowStep:O,updateFlowStep:C,childMount:B,resetFlow:H,handleFlow:W}=sm(_),J=P=>{k.value=!0,c.value.allowPreventDefault&&P.preventDefault(),x(P,c.value,!0)};Je(()=>{Y.value=!0,ee(),globalThis.addEventListener("resize",ee);const P=ht(g);P&&!i.value.enabled&&!s.value.enabled&&v("menuFocused",!0),P&&(P.addEventListener("pointerdown",J),P.addEventListener("mousedown",J)),document.addEventListener("mousedown",te)}),gr(()=>{globalThis.removeEventListener("resize",ee),document.removeEventListener("mousedown",te);const P=ht(g);P&&(P.removeEventListener("pointerdown",J),P.removeEventListener("mousedown",J))});const ee=()=>{const P=ht(p);P&&(S.value=P.getBoundingClientRect().width)},j=N(()=>l.monthPicker?gv:l.yearPicker?bv:l.timePicker?Rv:l.quarterPicker?ry:Zv),Q=()=>{const P=ht(g);P&&P.focus({preventScroll:!0})},L=N(()=>_.value?.getSidebarProps()||{}),q=Vt(a,St.ActionRow),ie=Vt(a,St.PassTrough),K=N(()=>({dp__menu_disabled:l.disabled,dp__menu_readonly:l.readonly,"dp-menu-loading":l.loading})),le=N(()=>({dp__menu:!0,dp__menu_index:!s.value.enabled,dp__relative:s.value.enabled,...f.value.menu})),he=P=>{x(P,c.value,!0)},ke=P=>{c.value.escClose&&(n("close-picker"),w(P,c.value))},ae=P=>{l.arrowNavigation||(P===Tt.left||P===Tt.up?me("handleArrow",Tt.left,0,P===Tt.up):me("handleArrow",Tt.right,0,P===Tt.down))},ve=P=>{v("shiftKeyInMenu",P.shiftKey),!l.hideMonthYearSelect&&P.code===Ie.tab&&P.target.classList.contains("dp__menu")&&o.shiftKeyInMenu&&(P.preventDefault(),x(P,c.value,!0),n("close-picker"))},ce=P=>{_.value?.toggleTimePicker(!1,!1),_.value?.toggleMonthPicker(!1,!1,P),_.value?.toggleYearPicker(!1,!1,P)},_e=(P,V=0)=>P==="month"?_.value?.toggleMonthPicker(!1,!0,V):P==="year"?_.value?.toggleYearPicker(!1,!0,V):P==="time"?_.value?.toggleTimePicker(!0,!1):ce(V),me=(P,...V)=>{_.value?.[P]&&_.value?.[P](...V)},Ee=()=>{me("selectCurrentDate")},D=P=>{me("presetDate",tr(P))},R=()=>{me("clearHoverDate")},X=(P,V)=>{me("updateMonthYear",P,V)},T=(P,V)=>{P.preventDefault(),ae(V)},F=P=>{if(ve(P),P.key===Ie.home||P.key===Ie.end)return me("selectWeekDate",P.key===Ie.home,P.target.getAttribute("id"));switch((P.key===Ie.pageUp||P.key===Ie.pageDown)&&(P.shiftKey?(me("changeYear",P.key===Ie.pageUp),b(g.value,"overlay-year")?.focus()):(me("changeMonth",P.key===Ie.pageUp),b(g.value,P.key===Ie.pageUp?"action-prev":"action-next")?.focus()),P.target.getAttribute("id")&&g.value?.focus({preventScroll:!0})),P.key){case Ie.esc:return ke(P);case Ie.arrowLeft:return T(P,Tt.left);case Ie.arrowRight:return T(P,Tt.right);case Ie.arrowUp:return T(P,Tt.up);case Ie.arrowDown:return T(P,Tt.down);default:return}},te=P=>{s.value.enabled&&!s.value.input&&!g.value?.contains(P.target)&&k.value&&(k.value=!1,n("menu-blur"))};return t({updateMonthYear:X,switchView:_e,onValueCleared:()=>{_.value?.setStartTime?.()},handleFlow:W}),(P,V)=>(I(),Z("div",{id:h(l).menuId,ref:"dp-menu",tabindex:h(s).enabled?void 0:"0",role:h(s).enabled?void 0:"dialog","aria-label":h(m)?.menu,class:be(le.value),onMouseleave:R,onClick:he,onKeydown:F},[(h(l).disabled||h(l).readonly)&&h(s).enabled||h(l).loading?(I(),Z("div",{key:0,class:be(K.value)},[h(l).loading?(I(),Z("div",ay,[...V[5]||(V[5]=[we("span",{class:"dp--menu-loader"},null,-1)])])):z("",!0)],2)):z("",!0),P.$slots["menu-header"]?(I(),Z("div",oy,[oe(P.$slots,"menu-header")])):z("",!0),oe(P.$slots,"arrow"),we("div",{ref:"inner-menu",class:be({dp__menu_content_wrapper:h(l).presetDates?.length||!!P.$slots["left-sidebar"]||!!P.$slots["right-sidebar"],"dp--menu-content-wrapper-collapsed":e.collapse&&(h(l).presetDates?.length||!!P.$slots["left-sidebar"]||!!P.$slots["right-sidebar"])}),"data-dp-mobile":h(u),style:pt({"--dp-menu-width":`${S.value}px`})},[P.$slots["left-sidebar"]?(I(),Z("div",iy,[oe(P.$slots,"left-sidebar",ft(Pt(L.value)))])):z("",!0),h(l).presetDates.length?(I(),Z("div",{key:1,class:be({"dp--preset-dates-collapsed":e.collapse,"dp--preset-dates":!0}),"data-dp-mobile":h(u)},[(I(!0),Z($e,null,Ye(h(l).presetDates,(y,$)=>(I(),Z($e,{key:$},[y.slot?oe(P.$slots,y.slot,{key:0,presetDate:D,label:y.label,value:y.value}):(I(),Z("button",{key:1,type:"button",style:pt(y.style||{}),class:be(["dp__btn dp--preset-range",{"dp--preset-range-collapsed":e.collapse}]),"data-test-id":y.testId??void 0,"data-dp-mobile":h(u),onClick:mr(A=>D(y.value),["prevent"]),onKeydown:A=>h(d)(A,()=>D(y.value),!0)},Fe(y.label),47,uy))],64))),128))],10,sy)):z("",!0),we("div",cy,[(I(),xe(Ka(j.value),{ref:"dyn-cmp","flow-step":h(O),collapse:e.collapse,"no-overlay-focus":e.noOverlayFocus,"menu-wrap-ref":g.value,onMount:h(B),onUpdateFlowStep:h(C),onResetFlow:h(H),onFocusMenu:Q,onSelectDate:V[0]||(V[0]=y=>P.$emit("select-date")),onAutoApply:V[1]||(V[1]=y=>P.$emit("auto-apply",y)),onTimeUpdate:V[2]||(V[2]=y=>P.$emit("time-update"))},Ze({_:2},[Ye(h(ie),(y,$)=>({name:y,fn:se(A=>[oe(P.$slots,y,ft(Pt({...A})))])}))]),1064,["flow-step","collapse","no-overlay-focus","menu-wrap-ref","onMount","onUpdateFlowStep","onResetFlow"]))]),P.$slots["right-sidebar"]?(I(),Z("div",dy,[oe(P.$slots,"right-sidebar",ft(Pt(L.value)))])):z("",!0)],14,ly),P.$slots["action-extra"]?(I(),Z("div",fy,[P.$slots["action-extra"]?oe(P.$slots,"action-extra",{key:0,selectCurrentDate:Ee}):z("",!0)])):z("",!0),!h(l).autoApply||h(c).keepActionRow?(I(),xe(uv,{key:3,"menu-mount":Y.value,"calendar-width":S.value,onClosePicker:V[3]||(V[3]=y=>P.$emit("close-picker")),onSelectDate:V[4]||(V[4]=y=>P.$emit("select-date")),onSelectNow:Ee},Ze({_:2},[Ye(h(q),(y,$)=>({name:y,fn:se(A=>[oe(P.$slots,y,ft(Pt(A)))])}))]),1032,["menu-mount","calendar-width"])):z("",!0)],42,ny))}}),hy=["data-dp-mobile"],my=ze({__name:"VueDatePicker",setup(e,{expose:t}){const{rootEmit:r,setState:n,inputValue:a,modelValue:o,rootProps:l,defaults:{inline:i,config:s,textInput:c,range:f,multiDates:m,teleport:v,floatingConfig:u}}=Pe(),{validateDate:w,isValidTime:b}=kt(),{menuTransition:x,showTransition:d}=bn(),{isMobile:p}=aa(),{findNextFocusableElement:g,getNumVal:_}=Xe(),S=lr(),Y=ue(!1),k=ue(i.value.enabled||l.centered),O=_o(l,"modelValue"),C=_o(l,"timezone"),B=Be("dp-menu-wrap"),H=Be("dp-menu"),W=Be("input-cmp"),J=Be("picker-wrapper"),ee=Be("menu-arrow"),j=ue(!1),Q=ue(!1),L=ue(!1),q=ue(!0),ie=fe=>(u.value.arrow&&fe.push(Pp({element:u.value.arrow===!0?ee:u.value.arrow})),u.value.flip&&fe.push(Ap(typeof u.value.flip=="object"?u.value.flip:{})),u.value.shift&&fe.push(_p(typeof u.value.shift=="object"?u.value.shift:{})),fe),{floatingStyles:K,middlewareData:le,placement:he,y:ke}=Op(W,B,{strategy:u.value.strategy,placement:u.value.placement,middleware:ie([kp(u.value.offset)]),whileElementsMounted:xp});Je(()=>{ce(l.modelValue),st().then(()=>{i.value.enabled||globalThis.addEventListener("resize",te)}),i.value.enabled&&(Y.value=!0),globalThis.addEventListener("keyup",P),globalThis.addEventListener("keydown",V)}),gr(()=>{i.value.enabled||globalThis.removeEventListener("resize",te),globalThis.removeEventListener("keyup",P),globalThis.removeEventListener("keydown",V)});const ae=ds(S,l.presetDates),ve=Vt(S,St.Input);it([O,C],()=>{ce(O.value)},{deep:!0}),it([he,ke],()=>{!i.value.enabled&&!l.centered&&q.value&&(k.value=!1,st().then(()=>{q.value=!1,k.value=!0}))});const{parseExternalModelValue:ce,emitModelValue:_e,formatInputValue:me,checkBeforeEmit:Ee}=im(),D=N(()=>({dp__main:!0,dp__theme_dark:l.dark,dp__theme_light:!l.dark,dp__flex_display:i.value.enabled,"dp--flex-display-collapsed":L.value,dp__flex_display_with_input:i.value.input})),R=N(()=>l.dark?"dp__theme_dark":"dp__theme_light"),X=N(()=>i.value.enabled&&(l.timePicker||l.monthPicker||l.yearPicker||l.quarterPicker)),T=()=>W.value?.$el?.getBoundingClientRect()??{width:0,left:0,right:0},F=()=>{Y.value&&s.value.closeOnScroll&&Ae()},te=()=>{const fe=H.value?.$el.getBoundingClientRect().width??0;L.value=document.body.offsetWidth<=fe},P=fe=>{fe.key==="Tab"&&!i.value.enabled&&!l.teleport&&s.value.tabOutClosesMenu&&(J.value.contains(document.activeElement)||Ae()),Q.value=fe.shiftKey},V=fe=>{Q.value=fe.shiftKey},y=()=>{!l.disabled&&!l.readonly&&(q.value=!0,Y.value=!0,Y.value&&r("open"),Y.value||Me(),ce(l.modelValue))},$=()=>{a.value="",Me(),H.value?.onValueCleared(),W.value?.setParsedDate(null),r("update:model-value",null),r("cleared"),s.value.closeOnClearValue&&Ae()},A=()=>{const fe=o.value;return!fe||!Array.isArray(fe)&&w(fe)?!0:Array.isArray(fe)?m.value.enabled||fe.length===2&&w(fe[0])&&w(fe[1])?!0:f.value.partialRange&&!l.timePicker?w(fe[0]):!1:!1},U=()=>{Ee()&&A()?(_e(),Ae()):r("invalid-select")},M=fe=>{ne(),_e(),s.value.closeOnAutoApply&&!fe&&Ae()},ne=()=>{W.value&&c.value.enabled&&W.value.setParsedDate(o.value)},re=(fe=!1)=>{l.autoApply&&b(o.value)&&A()&&(f.value.enabled&&Array.isArray(o.value)?(f.value.partialRange||o.value.length===2)&&M(fe):M(fe))},Me=()=>{c.value.enabled||(o.value=null)},Ae=(fe=!1)=>{q.value=!0,fe&&o.value&&s.value.setDateOnMenuClose&&U(),i.value.enabled||(Y.value&&(Y.value=!1,n("menuFocused",!1),n("shiftKeyInMenu",!1),r("closed"),a.value&&ce(O.value)),Me(),r("blur"))},xr=(fe,ut,_t=!1)=>{if(!fe){o.value=null;return}const Xr=Array.isArray(fe)?fe.every(Pn=>w(Pn)):w(fe),sr=b(fe);Xr&&sr?(n("isTextInputDate",!0),o.value=fe,ut?(j.value=_t,U(),r("text-submit")):l.autoApply&&re(!0),st().then(()=>{n("isTextInputDate",!1)})):r("invalid-date",fe)},An=()=>{l.autoApply&&b(o.value)&&_e(),ne()},Dn=()=>Y.value?Ae():y(),va=fe=>{o.value=fe},Tn=()=>{c.value.enabled&&(n("isInputFocused",!0),me()),r("focus")},ya=()=>{c.value.enabled&&(n("isInputFocused",!1),ce(l.modelValue),j.value&&g(J.value,Q.value)?.focus()),r("blur")},ga=(fe,ut)=>{H.value&&H.value.updateMonthYear(ut??0,{month:_(fe.month),year:_(fe.year)})},wa=fe=>{ce(fe??l.modelValue)},zr=(fe,ut)=>{H.value?.switchView(fe,ut)},ba=(fe,ut)=>{if(Y.value)return s.value.onClickOutside?s.value.onClickOutside(fe,ut):Ae(!0)},xa=(fe=0)=>{H.value?.handleFlow(fe)},Mn=()=>B;return Cf(B,fe=>ba(A,fe),{ignore:[W]}),t({closeMenu:Ae,selectDate:U,clearValue:$,openMenu:y,onScroll:F,formatInputValue:me,updateInternalModelValue:va,setMonthYear:ga,parseModel:wa,switchView:zr,toggleMenu:Dn,handleFlow:xa,getDpWrapMenuRef:Mn,dpMenuRef:()=>H,dpWrapMenuRef:()=>B,inputRef:()=>W}),(fe,ut)=>(I(),Z("div",{ref:"picker-wrapper",class:be(D.value),"data-datepicker-instance":"","data-dp-mobile":h(p)},[Se(av,{ref:"input-cmp","is-menu-open":Y.value,onClear:$,onOpen:y,onSetInputDate:xr,onSetEmptyDate:h(_e),onSelectDate:U,onToggle:Dn,onClose:Ae,onFocus:Tn,onBlur:ya,onRealBlur:ut[0]||(ut[0]=_t=>h(n)("isInputFocused",!1))},Ze({_:2},[Ye(h(ve),(_t,Xr)=>({name:_t,fn:se(sr=>[oe(fe.$slots,_t,ft(Pt(sr)))])}))]),1032,["is-menu-open","onSetEmptyDate"]),Se(Es,{to:h(v),disabled:!h(v)},{default:se(()=>[we("div",{ref:"dp-menu-wrap",class:be({"dp--menu-wrapper":!h(i).enabled,dp__outer_menu_wrap:!0,"dp--centered":h(l).centered}),style:pt(!h(i).enabled&&!h(l).centered?h(K):void 0)},[Se(Kr,{name:h(x)(h(he).startsWith("top")),css:h(d)&&!h(i).enabled&&!h(l).centered&&k.value},{default:se(()=>[Y.value&&k.value?(I(),xe(py,{key:0,ref:"dp-menu",class:be({[R.value]:!0}),"no-overlay-focus":X.value,collapse:L.value,"get-input-rect":T,onClosePicker:Ae,onSelectDate:U,onAutoApply:re,onTimeUpdate:An,onMenuBlur:ut[1]||(ut[1]=_t=>h(r)("blur"))},Ze({_:2},[Ye(h(ae),(_t,Xr)=>({name:_t,fn:se(sr=>[oe(fe.$slots,_t,ft(Pt({...sr})))])})),!h(i).enabled&&!h(l).centered&&h(u).arrow===!0?{name:"arrow",fn:se(()=>[we("div",{ref:"menu-arrow",class:be({dp__arrow_top:h(he)==="bottom",dp__arrow_bottom:h(he)==="top"}),style:pt({left:h(le).arrow?.x!=null?`${h(le).arrow.x}px`:"",top:h(le).arrow?.y!=null?`${h(le).arrow.y}px`:""})},null,6)]),key:"0"}:void 0]),1032,["class","no-overlay-focus","collapse"])):z("",!0)]),_:3},8,["name","css"])],6)]),_:3},8,["to","disabled"])],10,hy))}}),vy=ze({__name:"VueDatePickerRoot",props:kl({multiCalendars:{type:[Boolean,Number,String,Object]},modelValue:{},modelType:{},dark:{type:Boolean},transitions:{type:[Boolean,Object]},ariaLabels:{},hideNavigation:{},timezone:{},vertical:{type:Boolean},hideMonthYearSelect:{type:Boolean},disableYearSelect:{type:Boolean},yearRange:{},autoApply:{type:Boolean},disabledDates:{type:[Array,Function]},startDate:{},hideOffsetDates:{type:Boolean},noToday:{type:Boolean},allowedDates:{},markers:{},presetDates:{},flow:{},preventMinMaxNavigation:{type:Boolean},reverseYears:{type:Boolean},weekPicker:{type:Boolean},filters:{},arrowNavigation:{type:Boolean},highlight:{type:[Function,Object]},teleport:{type:[String,Boolean]},centered:{type:Boolean},locale:{},weekStart:{},weekNumbers:{type:[Boolean,Object]},dayNames:{type:[Function,Array]},monthPicker:{type:Boolean},yearPicker:{type:Boolean},modelAuto:{type:Boolean},formats:{},multiDates:{type:[Boolean,Object]},minDate:{},maxDate:{},minTime:{},maxTime:{},inputAttrs:{},timeConfig:{},placeholder:{},timePicker:{type:Boolean},range:{type:[Boolean,Object]},menuId:{},disabled:{type:Boolean},readonly:{type:Boolean},inline:{type:[Boolean,Object]},textInput:{type:[Boolean,Object]},sixWeeks:{type:[Boolean,String]},actionRow:{},focusStartDate:{type:Boolean},disabledTimes:{type:[Function,Array]},calendar:{type:Function},config:{},quarterPicker:{type:Boolean},yearFirst:{type:Boolean},loading:{type:Boolean},ui:{},floating:{}},zm),emits:["update:model-value","internal-model-change","text-submit","text-input","open","closed","focus","blur","cleared","flow-step","update-month-year","invalid-select","invalid-fixed-range","invalid-date","tooltip-open","tooltip-close","am-pm-change","range-start","range-end","date-click","overlay-toggle","invalid"],setup(e,{expose:t,emit:r}){const n=r,a=e;am(a,n);const o=lr(),l=ds(o,a.presetDates),i=Be("date-picker");return t(Zm(i)),(s,c)=>(I(),xe(my,{ref:"date-picker"},Ze({_:2},[Ye(h(l),(f,m)=>({name:f,fn:se(v=>[oe(s.$slots,f,ft(Pt(v)))])}))]),1536))}}),yy={components:{VueDatePicker:vy},data(){const e="yyyy-MM-dd",t="HH:mm:ss";return{datepickerLang:null,weekStartDay:1,dateFormat:e,timeFormat:t,dateTimeFormat:`${e} ${t}`,twelveHourClock:!1}},computed:{..._l(["uiLanguage"])},watch:{uiLanguage:{immediate:!0,async handler(e){if(e)try{const t=(await Is(Object.assign({"../locales/ar/datepicker.js":()=>Ve(()=>import("./datepicker-DfUSduTx.js"),__vite__mapDeps([0,1])),"../locales/de-CH/datepicker.js":()=>Ve(()=>import("./datepicker-YfhJ1Gwr.js"),__vite__mapDeps([2,3,1])),"../locales/de/datepicker.js":()=>Ve(()=>import("./datepicker-BEvijyE4.js"),__vite__mapDeps([4,3,1])),"../locales/en-GB/datepicker.js":()=>Ve(()=>import("./datepicker-C7rMgKby.js"),__vite__mapDeps([5,6,1])),"../locales/en-US/datepicker.js":()=>Ve(()=>import("./datepicker-Dvdh3peJ.js"),__vite__mapDeps([7,8,6,1])),"../locales/en/datepicker.js":()=>Ve(()=>import("./datepicker-Baom71XP.js"),__vite__mapDeps([9,8,6,1])),"../locales/es/datepicker.js":()=>Ve(()=>import("./datepicker-12UwHVoa.js"),__vite__mapDeps([10,1])),"../locales/fr-CA/datepicker.js":()=>Ve(()=>import("./datepicker-CSr9teMr.js"),__vite__mapDeps([11,12,1,13])),"../locales/fr-CH/datepicker.js":()=>Ve(()=>import("./datepicker-CSulcXBB.js"),__vite__mapDeps([14,12,1])),"../locales/fr/datepicker.js":()=>Ve(()=>import("./datepicker-CPCLpoGN.js"),__vite__mapDeps([15,12,1,13])),"../locales/id/datepicker.js":()=>Ve(()=>import("./datepicker-XwOM_asX.js"),__vite__mapDeps([16,1])),"../locales/it-CH/datepicker.js":()=>Ve(()=>import("./datepicker-CjPcGVrk.js"),__vite__mapDeps([17,18,19,20,1])),"../locales/it/datepicker.js":()=>Ve(()=>import("./datepicker-Dbtq-1rX.js"),__vite__mapDeps([21,18,19,20,1])),"../locales/ja/datepicker.js":()=>Ve(()=>import("./datepicker-DpKIUoet.js"),__vite__mapDeps([22,1])),"../locales/pl/datepicker.js":()=>Ve(()=>import("./datepicker-CCSoOM2w.js"),__vite__mapDeps([23,1,19,20])),"../locales/pt-BR/datepicker.js":()=>Ve(()=>import("./datepicker-CclFEVqS.js"),__vite__mapDeps([24,1])),"../locales/pt/datepicker.js":()=>Ve(()=>import("./datepicker-C1hmHRXf.js"),__vite__mapDeps([25,1])),"../locales/ro/datepicker.js":()=>Ve(()=>import("./datepicker-D3y-tlK2.js"),__vite__mapDeps([26,1]))}),`../locales/${e}/datepicker.js`,4)).default;this.datepickerLang=t.locale,this.dateFormat=t.dateFormat,this.timeFormat=t.timeFormat,this.dateTimeFormat=t.dateTimeFormat,this.weekStartDay=t.locale.options.weekStartsOn}catch(t){console.error(`Could not load datepicker locale for ${e}`,t)}}}}};class gy{constructor(t){this.filters=t}toJSON(){return{"filter-lang":"cql2-json",filter:this.filters.toJSON()}}toText(){return{"filter-lang":"cql2-text",filter:this.filters.toText()}}}class vs{constructor(t,r=[]){this.operator=t,this.args=r}toText(){let t=this.operator.toUpperCase();return this.args.map(r=>r.toText()).join(` ${t} `)}toJSON(){return{op:this.operator,args:this.args.map(t=>t.toJSON())}}static get description(){return""}static get label(){return this.SYMBOL}static get longLabel(){return this.label}}class br extends vs{constructor(t,r=null,n=null){super(t,[r,n])}clone(t){return new this.constructor(this.operator,this.args[0],t)}static create(t,r,n){if(["=","==","==="].includes(r))return new ua(t,n);if(["<>","!=","!==","≠"].includes(r))return new ca(t,n);if([">=","≥"].includes(r))return new fa(t,n);if(r===">")return new da(t,n);if(["<=","≤"].includes(r))return new ha(t,n);if(r==="<")return new pa(t,n)}}class ua extends br{static SYMBOL="=";constructor(t=null,r=null){super(ua.SYMBOL,t,r)}static get longLabel(){return Ut.global.t("search.equalTo")}}class ca extends br{static SYMBOL="<>";constructor(t=null,r=null){super(ca.SYMBOL,t,r)}static get label(){return"≠"}static get longLabel(){return Ut.global.t("search.notEqualTo")}}class da extends br{static SYMBOL=">";constructor(t=null,r=null){super(da.SYMBOL,t,r)}static get longLabel(){return Ut.global.t("search.greaterThan")}}class fa extends br{static SYMBOL=">=";constructor(t=null,r=null){super(fa.SYMBOL,t,r)}static get label(){return"≥"}static get longLabel(){return Ut.global.t("search.greaterThanEqual")}}class pa extends br{static SYMBOL="<";constructor(t=null,r=null){super(pa.SYMBOL,t,r)}static get longLabel(){return Ut.global.t("search.lessThan")}}class ha extends br{static SYMBOL="<=";constructor(t=null,r=null){super(ha.SYMBOL,t,r)}static get label(){return"≤"}static get longLabel(){return Ut.global.t("search.lessThanEqual")}}class wo extends br{static SYMBOL="like";constructor(t=null,r=null){super(wo.SYMBOL,t,r)}static get label(){return"~"}static get longLabel(){return Ut.global.t("search.matches")}static get description(){return Ut.global.t("search.likeOperatorDescription")}}class wy{constructor(t,r){this.id=t,this.schema=r}get title(){return typeof this.schema.title=="string"?this.schema.title:cu.formatKey(this.id)}get description(){return this.isTemporal?Ut.global.t("search.dateDescription"):""}get supported(){return this.isText||this.isNumeric||this.isBoolean}is(t){return this.types.includes(t)}get isSelection(){return Array.isArray(this.schema.enum)}get isText(){return this.is("string")}get isBoolean(){return this.is("boolean")}get isNumeric(){return this.is("number")||this.is("integer")}get isDate(){return this.isText&&this.schema.format==="date"}get isDateTime(){return this.isText&&this.schema.format==="date-time"}get isTemporal(){return this.isDate||this.isDateTime}get defaultValue(){return typeof this.schema.default<"u"?this.schema.default:this.isSelection?this.schema.enum[0]:this.isTemporal?new Date:this.isNumeric?typeof this.schema.minimum<"u"?this.schema.minimum:0:this.isText?"":this.isBoolean?!1:null}get types(){return typeof this.schema.type=="string"?[this.schema.type]:Array.isArray(this.schema.type)?this.schema.type:[]}getOperators(t){let r=[];return this.isDateTime||(r.push(ua),r.push(ca)),this.isNumeric||this.isTemporal?(r.push(pa),r.push(ha),r.push(da),r.push(fa)):this.isText&&t.advancedComparison&&r.push(wo),r}toText(){return this.id}toJSON(){return{property:this.id}}}class _n{constructor(t){this.value=t}static create(t){return t instanceof Date?new by(t):typeof t=="string"?new xy(t):new _n(t)}toJSON(){return this.value}toText(){return this.value}}class by extends _n{constructor(t){super(t)}toJSON(){return{timestamp:this.toTimestamp()}}toText(){return`TIMESTAMP('${this.toTimestamp()}')`}toTimestamp(){return ct.dateToUTC(this.value).toISOString()}}class xy extends _n{constructor(t){super(t)}toJSON(){return this.value}toText(){return`'${this.value.replace("'","''")}'`}}class ma extends vs{constructor(t,r=[]){super(t,r)}static create(t,r){if(["&&","and"].includes(t))return new bo(r);if(["||","or"].includes(t))return new xo(r);if(["!","not"].includes(t))return new ko(r)}}class bo extends ma{static SYMBOL="and";constructor(t=[]){super(bo.SYMBOL,t)}}class xo extends ma{static SYMBOL="or";constructor(t=[]){super(xo.SYMBOL,t)}}class ko extends ma{static SYMBOL="not";constructor(t=null){super(ko.SYMBOL,t?[t]:null)}}function ys(){return{q:[],datetime:null,bbox:null,limit:null,ids:[],collections:[],sortby:null,filters:null}}function bl(){return{sortOrder:1,sortTerm:null,provideBBox:!1,bbox:null,query:ys(),filtersAndOr:"and",filters:[],selectedCollections:[]}}let Yn=0;const ky=ze({name:"SearchFilter",components:{Loading:uu,BCard:eu,BCardBody:Js,BCardFooter:Zs,BCardTitle:Xs,BDropdown:ru,BDropdownItem:tu,QueryableInput:Cn(()=>Ve(()=>import("./QueryableInput-BIblxSJ4.js"),__vite__mapDeps([27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,20,8,6,1,45,46,47,48,49]))),MapSelect:Cn(()=>Ve(()=>import("./MapSelect-Dm-OTvFK.js"),__vite__mapDeps([50,28,29,30,31,32,51,34,35,36,52,53]))),SortButtons:Cn(()=>Ve(()=>import("./SortButtons-CrEd331B.js"),__vite__mapDeps([54,28,29,30,31,32]))),Multiselect:Cn(()=>Ve(()=>import("./vue-multiselect.esm-ltQr5SYP.js"),__vite__mapDeps([55,28,29,30,31,32])))},mixins:[Bs,yy],props:{parent:{type:Object,default:null},title:{type:String,required:!0},type:{type:String,required:!0},value:{type:Object,default:()=>({})}},emits:["input"],data(){return Object.assign({results:null,loaded:!1,queryables:null,hasAllCollections:!1,collections:[],collectionsLoadingTimer:null,additionalCollectionCount:0},bl())},computed:{..._l(["searchResultsPerPage","maxEntriesPerPage","uiLanguage"]),...Ws(["canSearchCollections","supportsConformance"]),collectionSelectOptions(){let e=!this.hasAllCollections,t=this.collections.length>0&&!this.hasAllCollections;return{id:this.ids.collections,multiple:!0,taggable:e,options:this.collections,trackBy:"value",label:"text",placeholder:e?this.$t("search.enterCollections"):this.$t("search.selectCollections"),tagPlaceholder:this.$t("search.addCollections"),selectLabel:this.$t("multiselect.selectLabel"),selectedLabel:this.$t("multiselect.selectedLabel"),deselectLabel:this.$t("multiselect.deselectLabel"),limitText:r=>this.$t("multiselect.andMore",{count:r}),loading:this.collectionsLoadingTimer!==null,showNoResults:!1,internalSearch:!t}},collectionSearchLink(){return this.parent&&this.parent.isCatalogLike()&&this.parent.getApiCollectionsLink()},canSearchCollectionsFreeText(){return this.canSearchCollections&&this.supportsConformance(qs.Collections.FreeText)},ids(){let e={};return["q","datetime","bbox","collections","ids","sort","limit"].forEach(t=>e[t]=t+Yn),e},stac(){return this.parent instanceof Hs?this.parent:null},andOrOptions(){return[{value:"and",text:this.$t("search.logical.and")},{value:"or",text:this.$t("search.logical.or")}]},showAdditionalFilters(){return this.cql&&Array.isArray(this.queryables)&&this.queryables.length>0},sortOptions(){const e=[{text:this.$t("default"),value:null},{text:this.$t("fields.Identifier"),value:"id"}],t=this.type==="Collections"?"":"properties.";return e.push({text:this.$t("fields.Title"),value:`${t}title`}),this.type!=="Collections"&&e.push({text:this.$t("fields.Time of Data"),value:"properties.datetime"}),e.push({text:this.$t("fields.Created"),value:`${t}created`}),e.push({text:this.$t("fields.Updated"),value:`${t}updated`}),e},sortedQueryables(){if(!Array.isArray(this.queryables))return[];const e=new Intl.Collator(this.uiLanguage);return this.queryables.slice(0).sort((t,r)=>e.compare(t.title,r.title))},maxItems(){return this.maxEntriesPerPage||1e3},limitPlaceholder(){return this.searchResultsPerPage>0?this.$t("defaultWithValue",{value:this.searchResultsPerPage}):this.$t("default")},datetime:{get(){return Array.isArray(this.query.datetime)?this.query.datetime.map(e=>ct.dateFromUTC(e)):null},set(e){this.query.datetime=Array.isArray(e)?e.map(t=>ct.dateToUTC(t)):null}}},watch:{parent:{immediate:!0,handler(e,t){e instanceof Ao&&e.setApiDataListener("searchfilter"+Yn,()=>this.updateApiCollections()),t instanceof Ao&&t.setApiDataListener("searchfilter"+Yn),this.updateApiCollections()}},value:{immediate:!0,deep:!0,handler(e){this.query=Object.assign(ys(),e),this.collections.length>0&&this.hasAllCollections?this.selectedCollections=this.collections.filter(t=>this.query.collections.includes(t.value)):this.selectedCollections=this.query.collections.map(t=>{let r=this.selectedCollections.find(n=>n.value===t);return r||this.collectionToMultiSelect({id:t})})}},query:{deep:!0,handler(e){e?.bbox&&(this.bbox=e.bbox)}},selectedCollections:{deep:1,handler(e){this.query.collections=e.map(t=>t.value)}},provideBBox(e){e?this.query.bbox=this.bbox:this.query.bbox=null}},beforeCreate(){Yn++},created(){let e=[];if(this.cql&&this.stac&&this.type!=="Collections"){let t=this.findQueryableLink(this.stac.links);e.push(this.loadQueryables(t).catch(r=>console.error(r)))}(this.type==="Collections"||this.conformances.CollectionIdFilter)&&this.stac&&e.push(this.loadCollections(this.stac.getApiCollectionsLink()).then(({collections:t,queryableLink:r})=>(this.collections=t,this.collections.length>0&&(this.hasAllCollections=!0),this.loadQueryables(r))).catch(t=>console.error(t))),Promise.all(e).finally(()=>this.loaded=!0)},methods:{resetSearchCollection(){clearTimeout(this.collectionsLoadingTimer),this.collectionsLoadingTimer=null},searchCollections(e){if(!(!this.canSearchCollectionsFreeText||this.hasAllCollections)){if(this.resetSearchCollection(),this.additionalCollectionCount=0,typeof e!="string"||e.trim().length<2){this.collections=[];return}this.collectionsLoadingTimer=setTimeout(async()=>{try{const t=ct.addFiltersToLink(this.collectionSearchLink,{q:[e]}),r=await Aa(this.$store,t);this.collectionsLoadingTimer&&ct.isObject(r.data)&&Array.isArray(r.data.collections)&&(this.collections=this.prepareCollections(r.data.collections),typeof r.data.numberMatched=="number"&&(this.additionalCollectionCount=r.data.numberMatched-this.collections.length))}catch(t){console.error(t),this.collections=[]}finally{this.resetSearchCollection()}},250)}},async loadCollections(e){let t=!1,r={collections:[],queryableLink:null};if(this.type==="Global"&&this.collections)r.collections=this.collections,t=!1;else if(this.type==="Global"||this.type==="Collections"){let n=await Aa(this.$store,e);if(!ct.isObject(n.data))return{};if(Array.isArray(n.data.links)){let a=n.data.links;t=!!ct.getLinkWithRel(a,"next"),r.queryableLink=this.findQueryableLink(a)||null}if(!t&&Array.isArray(n.data.collections)){let a=n.data.collections.map(o=>Vs(o));r.collections=this.prepareCollections(a)}}return r},updateApiCollections(){if(!this.parent)return;let e=this.parent.getChildren("collections"),t=this.parent._apiChildren.next;if(!Array.isArray(e)||t||!this.conformances.CollectionIdFilter){this.collections=[];return}this.collections=this.prepareCollections(e),this.collections.length>0&&(this.hasAllCollections=!0)},collectionToMultiSelect(e){return{value:e.id,text:e.title||e.id}},prepareCollections(e){const t=new Intl.Collator(this.uiLanguage);return e.map(this.collectionToMultiSelect).sort((r,n)=>t.compare(r.text,n.text))},findQueryableLink(e){return ct.getLinksWithRels(e,nu).find(t=>ct.isMediaType(t.type,au,!0))},async loadQueryables(e){if(this.queryables=[],!ct.isObject(e))return;let t=await Aa(this.$store,e);if(!ct.isObject(t.data))return;let r;try{r=await Sr.dereference(t.data)}catch(n){console.error(n),r=t.data}ct.isObject(r)&&ct.isObject(r.properties)&&(this.queryables=Object.entries(r.properties).map(([n,a])=>new wy(n,a)))},buildFilter(){if(this.filters.length===0)return null;const e=this.filters.map(r=>new r.operator(r.queryable,r.value)),t=ma.create(this.filtersAndOr,e);return new gy(t)},removeQueryable(e){this.filters.splice(e,1)},additionalFieldSelected(e){const t=e.getOperators(this.cql);this.filters.push({id:`${e.id}-${Date.now()}-${Math.random()}`,value:_n.create(e.defaultValue),operator:t[0],queryable:e})},onSubmit(){this.canSort&&this.sortTerm&&this.sortOrder&&(this.query.sortby=this.formatSort());let e=this.buildFilter();this.query.filters=e,this.$emit("input",this.query,!1)},async onReset(){Object.assign(this,bl()),this.$emit("input",{},!0)},setLimit(e){e=Number.parseInt(e,10),e>this.maxItems?e=this.maxItems:(typeof e!="number"||isNaN(e)||e<1)&&(e=null),this.query.limit=e},addSearchTerm(e){ct.hasText(e)&&this.query.q.push(e)},addCollection(e){if(!this.collectionSelectOptions.taggable)return;this.resetSearchCollection();let t=this.collectionToMultiSelect({id:e});this.selectedCollections.push(t),this.collections.push(t),this.query.collections.push(e)},addId(e){this.query.ids.push(e)},formatSort(){return this.sortTerm&&this.sortTerm.value&&this.sortOrder?`${this.sortOrder<0?"-":""}${this.sortTerm.value}`:null}}}),_y={class:"multiselect__option multiselect__option--disabled"},Ay={key:8},Dy={class:"d-flex justify-content-between align-items-center"};function Ty(e,t,r,n,a,o){const l=vt("Loading"),i=vt("b-card-title"),s=vt("multiselect"),c=zs,f=vt("VueDatePicker"),m=Qs,v=vt("MapSelect"),u=Gs,w=Ks,b=vt("b-dropdown-item"),x=vt("b-dropdown"),d=vt("QueryableInput"),p=vt("SortButtons"),g=Us,_=vt("b-card-body"),S=Ns,Y=vt("b-card-footer"),k=vt("b-card"),O=js;return I(),xe(O,{class:"filter mb-4",onSubmit:mr(e.onSubmit,["stop","prevent"]),onReset:e.onReset},{default:se(()=>[Se(k,{"no-body":"",title:e.title},{default:se(()=>[Se(_,null,{default:se(()=>[e.loaded?z("",!0):(I(),xe(l,{key:0,fill:""})),t[16]||(t[16]=Ce()),e.title?(I(),xe(i,{key:1,title:e.title},null,8,["title"])):z("",!0),t[17]||(t[17]=Ce()),e.canFilterFreeText?(I(),xe(c,{key:2,class:"filter-freetext",label:e.$t("search.freeText"),"label-for":e.ids.q,description:e.$t("search.freeTextDescription")},{default:se(()=>[Se(s,{id:e.ids.q,modelValue:e.query.q,"onUpdate:modelValue":t[0]||(t[0]=C=>e.query.q=C),multiple:!0,taggable:!0,options:e.query.q,placeholder:e.$t("search.enterSearchTerms"),"tag-placeholder":e.$t("search.addSearchTerm"),"no-options":e.$t("search.addSearchTerm"),onTag:e.addSearchTerm},{noOptions:se(()=>[Ce(Fe(e.$t("search.noOptions")),1)]),_:1},8,["id","modelValue","options","placeholder","tag-placeholder","no-options","onTag"])]),_:1},8,["label","label-for","description"])):z("",!0),t[18]||(t[18]=Ce()),e.canFilterExtents?(I(),xe(c,{key:3,class:"filter-datetime",label:e.$t("search.temporalExtent"),"label-for":e.ids.datetime,description:e.$t("search.dateDescription")},{default:se(()=>[Se(f,{"input-class":"form-control mx-input",id:e.ids.datetime,modelValue:e.datetime,"onUpdate:modelValue":t[1]||(t[1]=C=>e.datetime=C),locale:e.datepickerLang,formats:{input:e.dateTimeFormat},"week-start":e.weekStartDay,"close-on-scroll":!1,placeholder:e.$t("search.selectDateRange"),"time-config":{enableTimePicker:!0,seconds:!0,timePickerInline:!0},"input-attrs":{clearable:!0},"auto-apply":"",range:"","multi-calendars":2},null,8,["id","modelValue","locale","formats","week-start","placeholder"])]),_:1},8,["label","label-for","description"])):z("",!0),t[19]||(t[19]=Ce()),e.canFilterExtents?(I(),xe(c,{key:4,class:"filter-bbox",label:e.$t("search.spatialExtent"),"label-for":e.ids.bbox},{default:se(()=>[Se(m,{id:e.ids.bbox,modelValue:e.provideBBox,"onUpdate:modelValue":t[2]||(t[2]=C=>e.provideBBox=C),value:"1"},{default:se(()=>[Ce(Fe(e.$t("search.filterBySpatialExtent")),1)]),_:1},8,["id","modelValue"]),t[9]||(t[9]=Ce()),e.provideBBox?(I(),xe(v,{key:0,class:"mb-4",modelValue:e.query.bbox,"onUpdate:modelValue":t[3]||(t[3]=C=>e.query.bbox=C),stac:e.stac},null,8,["modelValue","stac"])):z("",!0)]),_:1},8,["label","label-for"])):z("",!0),t[20]||(t[20]=Ce()),e.conformances.CollectionIdFilter?(I(),xe(c,{key:5,class:"filter-collection",label:e.$t("stacCollection",e.collections.length),"label-for":e.ids.collections},{default:se(()=>[Se(s,bt({modelValue:e.selectedCollections,"onUpdate:modelValue":t[4]||(t[4]=C=>e.selectedCollections=C)},e.collectionSelectOptions,{onTag:e.addCollection,onSearchChange:e.searchCollections}),Ze({noOptions:se(()=>[Ce(Fe(e.$t("search.noOptions")),1)]),_:2},[e.additionalCollectionCount>0?{name:"afterList",fn:se(()=>[we("li",null,[we("strong",_y,Fe(e.$t("multiselect.andMore",{count:e.additionalCollectionCount})),1)])]),key:"0"}:void 0]),1040,["modelValue","onTag","onSearchChange"])]),_:1},8,["label","label-for"])):z("",!0),t[21]||(t[21]=Ce()),e.conformances.ItemIdFilter?(I(),xe(c,{key:6,class:"filter-item-id",label:e.$t("search.itemIds"),"label-for":e.ids.ids},{default:se(()=>[Se(s,{id:e.ids.ids,modelValue:e.query.ids,"onUpdate:modelValue":t[5]||(t[5]=C=>e.query.ids=C),multiple:!0,taggable:!0,options:e.query.ids,placeholder:e.$t("search.enterItemIds"),"tag-placeholder":e.$t("search.addItemIds"),"no-options":e.$t("search.addItemIds"),onTag:e.addId},{noOptions:se(()=>[Ce(Fe(e.$t("search.noOptions")),1)]),_:1},8,["id","modelValue","options","placeholder","tag-placeholder","no-options","onTag"])]),_:1},8,["label","label-for"])):z("",!0),t[22]||(t[22]=Ce()),e.showAdditionalFilters?(I(),xe(c,{key:7,class:"additional-filters",label:e.$t("search.additionalFilters")},{default:se(()=>[Se(u,{modelValue:e.filtersAndOr,"onUpdate:modelValue":t[6]||(t[6]=C=>e.filtersAndOr=C),options:e.andOrOptions,name:"logical",size:"sm"},null,8,["modelValue","options"]),t[12]||(t[12]=Ce()),Se(x,{size:"sm",text:e.$t("search.addFilter"),variant:"primary",class:"queryables mt-2 mb-3","menu-class":"w-100","toggle-class":"w-100"},{default:se(()=>[(I(!0),Z($e,null,Ye(e.sortedQueryables,C=>(I(),Z($e,{key:C.id},[C.supported?(I(),xe(b,{key:0,onClick:B=>e.additionalFieldSelected(C),"link-class":"d-flex justify-content-between align-items-center"},{default:se(()=>[we("span",null,Fe(C.title),1),t[11]||(t[11]=Ce()),Se(w,{variant:"dark",class:"ms-2"},{default:se(()=>[Ce(Fe(C.id),1)]),_:2},1024)]),_:2},1032,["onClick"])):z("",!0)],64))),128))]),_:1},8,["text"]),t[13]||(t[13]=Ce()),(I(!0),Z($e,null,Ye(e.filters,(C,B)=>(I(),xe(d,{key:C.id,value:C.value,"onUpdate:value":H=>C.value=H,operator:C.operator,"onUpdate:operator":H=>C.operator=H,queryable:C.queryable,index:B,cql:e.cql,onRemoveQueryable:H=>e.removeQueryable(B)},null,8,["value","onUpdate:value","operator","onUpdate:operator","queryable","index","cql","onRemoveQueryable"]))),128))]),_:1},8,["label"])):z("",!0),t[23]||(t[23]=Ce()),e.canFilterExtents||e.conformances.CollectionIdFilter||e.conformances.ItemIdFilter||e.showAdditionalFilters?(I(),Z("hr",Ay)):z("",!0),t[24]||(t[24]=Ce()),e.canSort?(I(),xe(c,{key:9,class:"sort",label:e.$t("sort.title"),"label-for":e.ids.sort,description:e.$t("search.notFullySupported")},{default:se(()=>[Se(s,{id:e.ids.sort,modelValue:e.sortTerm,"onUpdate:modelValue":t[7]||(t[7]=C=>e.sortTerm=C),options:e.sortOptions,"track-by":"value",label:"text",placeholder:e.$t("default"),"select-label":e.$t("multiselect.selectLabel"),"selected-label":e.$t("multiselect.selectedLabel"),"deselect-label":e.$t("multiselect.deselectLabel")},{option:se(({option:C})=>[we("span",Dy,[we("span",null,Fe(C.text),1),t[14]||(t[14]=Ce()),C.value?(I(),xe(w,{key:0,variant:"dark",class:"ms-2"},{default:se(()=>[Ce(Fe(C.value),1)]),_:2},1024)):z("",!0)])]),_:1},8,["id","modelValue","options","placeholder","select-label","selected-label","deselect-label"]),t[15]||(t[15]=Ce()),e.sortTerm&&e.sortTerm.value?(I(),xe(p,{key:0,class:"mt-1",modelValue:e.sortOrder,"onUpdate:modelValue":t[8]||(t[8]=C=>e.sortOrder=C),enforce:!0},null,8,["modelValue"])):z("",!0)]),_:1},8,["label","label-for","description"])):z("",!0),t[25]||(t[25]=Ce()),Se(c,{class:"limit",label:e.$t("search.itemsPerPage"),"label-for":e.ids.limit,description:e.$t("search.itemsPerPageDescription",{maxItems:e.maxItems})},{default:se(()=>[Se(g,{id:e.ids.limit,"model-value":e.query.limit,"onUpdate:modelValue":e.setLimit,min:"1",max:e.maxItems,type:"number",placeholder:e.limitPlaceholder},null,8,["id","model-value","onUpdate:modelValue","max","placeholder"])]),_:1},8,["label","label-for","description"])]),_:1}),t[27]||(t[27]=Ce()),Se(Y,null,{default:se(()=>[Se(S,{type:"submit",variant:"primary"},{default:se(()=>[Ce(Fe(e.$t("submit")),1)]),_:1}),t[26]||(t[26]=Ce()),Se(S,{type:"reset",variant:"danger",class:"ms-3"},{default:se(()=>[Ce(Fe(e.$t("reset")),1)]),_:1})]),_:1})]),_:1},8,["title"])]),_:1},8,["onSubmit","onReset"])}const My=Fs(ky,[["render",Ty]]),Hy=Object.freeze(Object.defineProperty({__proto__:null,default:My},Symbol.toStringTag,{value:"Module"}));export{_n as C,yy as D,My as S,Hy as a};
//# sourceMappingURL=SearchFilter-DI9Ohlov.js.map
