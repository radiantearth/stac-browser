{"version":3,"file":"tilecoord-DBpIeO-O.js","sources":["../../node_modules/ol/tilecoord.js"],"sourcesContent":["/**\n * @module ol/tilecoord\n */\n\nimport {getUid} from './util.js';\n\n/**\n * An array of three numbers representing the location of a tile in a tile\n * grid. The order is `z` (zoom level), `x` (column), and `y` (row).\n * @typedef {Array<number>} TileCoord\n * @api\n */\n\n/**\n * @param {number} z Z.\n * @param {number} x X.\n * @param {number} y Y.\n * @param {TileCoord} [tileCoord] Tile coordinate.\n * @return {TileCoord} Tile coordinate.\n */\nexport function createOrUpdate(z, x, y, tileCoord) {\n  if (tileCoord !== undefined) {\n    tileCoord[0] = z;\n    tileCoord[1] = x;\n    tileCoord[2] = y;\n    return tileCoord;\n  }\n  return [z, x, y];\n}\n\n/**\n * @param {number} z Z.\n * @param {number} x X.\n * @param {number} y Y.\n * @return {string} Key.\n */\nexport function getKeyZXY(z, x, y) {\n  return z + '/' + x + '/' + y;\n}\n\n/**\n * Get the key for a tile coord.\n * @param {TileCoord} tileCoord The tile coord.\n * @return {string} Key.\n */\nexport function getKey(tileCoord) {\n  return getKeyZXY(tileCoord[0], tileCoord[1], tileCoord[2]);\n}\n\n/**\n * Get the tile cache key for a tile key obtained through `tile.getKey()`.\n * @param {string} tileKey The tile key.\n * @return {string} The cache key.\n */\nexport function getCacheKeyForTileKey(tileKey) {\n  const [z, x, y] = tileKey\n    .substring(tileKey.lastIndexOf('/') + 1, tileKey.length)\n    .split(',')\n    .map(Number);\n  return getKeyZXY(z, x, y);\n}\n\n/**\n * @param {import(\"./source/Tile.js\").default} source The tile source.\n * @param {string} sourceKey The source key.\n * @param {number} z The tile z level.\n * @param {number} x The tile x level.\n * @param {number} y The tile y level.\n * @return {string} The cache key.\n */\nexport function getCacheKey(source, sourceKey, z, x, y) {\n  return `${getUid(source)},${sourceKey},${getKeyZXY(z, x, y)}`;\n}\n\n/**\n * Get a tile coord given a key.\n * @param {string} key The tile coord key.\n * @return {TileCoord} The tile coord.\n */\nexport function fromKey(key) {\n  return key.split('/').map(Number);\n}\n\n/**\n * @param {TileCoord} tileCoord Tile coord.\n * @return {number} Hash.\n */\nexport function hash(tileCoord) {\n  return hashZXY(tileCoord[0], tileCoord[1], tileCoord[2]);\n}\n\n/**\n * @param {number} z The tile z coordinate.\n * @param {number} x The tile x coordinate.\n * @param {number} y The tile y coordinate.\n * @return {number} Hash.\n */\nexport function hashZXY(z, x, y) {\n  return (x << z) + y;\n}\n\n/**\n * @param {TileCoord} tileCoord Tile coordinate.\n * @param {!import(\"./tilegrid/TileGrid.js\").default} tileGrid Tile grid.\n * @return {boolean} Tile coordinate is within extent and zoom level range.\n */\nexport function withinExtentAndZ(tileCoord, tileGrid) {\n  const z = tileCoord[0];\n  const x = tileCoord[1];\n  const y = tileCoord[2];\n\n  if (tileGrid.getMinZoom() > z || z > tileGrid.getMaxZoom()) {\n    return false;\n  }\n  const tileRange = tileGrid.getFullTileRange(z);\n  if (!tileRange) {\n    return true;\n  }\n  return tileRange.containsXY(x, y);\n}\n"],"names":["createOrUpdate","z","x","y","tileCoord","getKeyZXY","getKey","getCacheKey","source","sourceKey","getUid","hash","hashZXY","withinExtentAndZ","tileGrid","tileRange"],"mappings":"0CAoBO,SAASA,EAAeC,EAAGC,EAAGC,EAAGC,EAAW,CACjD,OAAIA,IAAc,QAChBA,EAAU,CAAC,EAAIH,EACfG,EAAU,CAAC,EAAIF,EACfE,EAAU,CAAC,EAAID,EACRC,GAEF,CAACH,EAAGC,EAAGC,CAAC,CACjB,CAQO,SAASE,EAAUJ,EAAGC,EAAGC,EAAG,CACjC,OAAOF,EAAI,IAAMC,EAAI,IAAMC,CAC7B,CAOO,SAASG,EAAOF,EAAW,CAChC,OAAOC,EAAUD,EAAU,CAAC,EAAGA,EAAU,CAAC,EAAGA,EAAU,CAAC,CAAC,CAC3D,CAuBO,SAASG,EAAYC,EAAQC,EAAWR,EAAGC,EAAGC,EAAG,CACtD,MAAO,GAAGO,EAAOF,CAAM,CAAC,IAAIC,CAAS,IAAIJ,EAAUJ,EAAGC,EAAGC,CAAC,CAAC,EAC7D,CAeO,SAASQ,EAAKP,EAAW,CAC9B,OAAOQ,EAAQR,EAAU,CAAC,EAAGA,EAAU,CAAC,EAAGA,EAAU,CAAC,CAAC,CACzD,CAQO,SAASQ,EAAQX,EAAGC,EAAGC,EAAG,CAC/B,OAAQD,GAAKD,GAAKE,CACpB,CAOO,SAASU,EAAiBT,EAAWU,EAAU,CACpD,MAAMb,EAAIG,EAAU,CAAC,EACfF,EAAIE,EAAU,CAAC,EACfD,EAAIC,EAAU,CAAC,EAErB,GAAIU,EAAS,aAAeb,GAAKA,EAAIa,EAAS,aAC5C,MAAO,GAET,MAAMC,EAAYD,EAAS,iBAAiBb,CAAC,EAC7C,OAAKc,EAGEA,EAAU,WAAWb,EAAGC,CAAC,EAFvB,EAGX","x_google_ignoreList":[0]}