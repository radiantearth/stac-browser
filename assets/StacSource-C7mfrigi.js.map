{"version":3,"mappings":"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","names":["_sfc_main","IconBsky","IconEmail","IconMastodon","IconX","mapState","uriText","uriTitle","uriUrl","urls","id","url","_createElementBlock","_openBlock","_Fragment","_renderList","$options","href","service","_createBlock","_component_b_button","_normalizeClass","_resolveDynamicComponent","_toDisplayString","_ctx","Url","CopyButton","SocialSharing","defineAsyncComponent","__vitePreload","m","_hoisted_1","_hoisted_2","_hoisted_3","_createVNode","_component_b_button_group","$props","_component_b_icon_info_lg","_createElementVNode","_component_b_icon_share","_component_b_popover","_component_b_row","_component_b_col","_component_CopyButton","_component_Validation","_component_Url","_component_SocialSharing"],"ignoreList":[],"sources":["../../src/components/SocialSharing.vue","../../src/components/StacSource.vue"],"sourcesContent":["<template>\n  <section>\n    <b-button v-for=\"href, service in urls\" :key=\"service\" class=\"service me-1\" :class=\"service\" :href=\"href\" target=\"_blank\">\n      <component :is=\"`icon-${service}`\" /> {{ $t(`source.share.${service}`) }}\n    </b-button>\n  </section>\n</template>\n\n\n<script>\nimport { mapState } from 'vuex';\nimport IconBsky from '~icons/share/bsky';\nimport IconEmail from '~icons/share/email';\nimport IconMastodon from '~icons/share/mastodon';\nimport IconX from '~icons/share/x';\n\nexport default {\n  name: \"SocialSharing\",\n  components: {\n    IconBsky,\n    IconEmail,\n    IconMastodon,\n    IconX\n  },\n  props: {\n    text: {\n      type: String,\n      required: true\n    },\n    title: {\n      type: String,\n      required: true\n    },\n    url: {\n      type: String,\n      required: true\n    }\n  },\n  data() {\n    return {\n      urlTemplates: {\n        email: 'mailto:?subject={title}&body={text}',\n        bsky: 'https://bsky.app/intent/compose?text={text}',\n        mastodon: 'https://mastodon.social/share?text={text}',\n        x: 'https://x.com/intent/tweet?text={text}'\n      }\n    };\n  },\n  computed: {\n    ...mapState(['socialSharing']),\n    urls() {\n      const uriText = encodeURIComponent(this.text);\n      const uriTitle = encodeURIComponent(this.title);\n      const uriUrl = encodeURIComponent(this.url);\n      const urls = {};\n      for (const id of this.socialSharing) {\n        if (!this.urlTemplates[id]) {\n          continue;\n        }\n        const url = this.urlTemplates[id];\n        urls[id] = url\n          .replace('{text}', uriText)\n          .replace('{title}', uriTitle)\n          .replace('{url}', uriUrl);\n      }\n      return urls;\n    }\n  }\n};\n</script>\n","<template>\n  <nav class=\"share\">\n    <b-button-group>\n      <b-button\n        v-if=\"stacUrl\" size=\"sm\" variant=\"outline-primary\" id=\"popover-link-btn\"\n        :title=\"$t('source.detailsAboutSource')\" tag=\"a\" tabindex=\"0\"\n      >\n        <b-icon-info-lg /><span class=\"button-label\">{{ $t('source.label') }}</span>\n      </b-button>\n      <b-button\n        size=\"sm\" variant=\"outline-primary\" id=\"popover-share-btn\"\n        :title=\"$t('source.share.withOthers')\" tag=\"a\" tabindex=\"0\"\n      >\n        <b-icon-share /><span class=\"button-label\">{{ $t('source.share.title') }}</span>\n      </b-button>\n\n      <b-popover\n        v-if=\"stacUrl\" id=\"popover-link\" class=\"popover-large\" target=\"popover-link-btn\"\n        placement=\"bottom\" :title=\"$t('source.title')\" teleport-to=\"#stac-browser\"\n        click focus :boundary-padding=\"10\"\n      >\n        <template v-if=\"stac\">\n          <b-row v-if=\"stacId\" class=\"stac-id\">\n            <b-col cols=\"4\">{{ $t('source.id') }}</b-col>\n            <b-col>\n              <code>{{ stacId }}</code>\n              <CopyButton :copyText=\"stacId\" :button-props=\"{size: 'sm'}\" variant=\"primary\" class=\"ms-2\" />\n            </b-col>\n          </b-row>\n          <b-row v-if=\"stacVersion\" class=\"stac-version\">\n            <b-col cols=\"4\">{{ $t('source.stacVersion') }}</b-col>\n            <b-col>{{ stacVersion }}</b-col>\n          </b-row>\n          <b-row class=\"stac-valid\">\n            <b-col cols=\"4\">{{ $t('source.valid') }}</b-col>\n            <b-col>\n              <Validation :data=\"stac\" />\n            </b-col>\n          </b-row>\n          <hr>\n        </template>\n        <Url id=\"stacUrl\" :url=\"stacUrl\" :label=\"$t('source.locatedAt')\" />\n      </b-popover>\n      <b-popover\n        id=\"popover-share\" class=\"popover-large\" target=\"popover-share-btn\"\n        placement=\"bottom\" :title=\"$t('source.share.title')\" teleport-to=\"#stac-browser\"\n        click focus :boundary-padding=\"10\"\n      >\n        <Url id=\"browserUrl\" :url=\"browserUrl()\" :label=\"$t('source.share.sharePageWithOthers')\" :open=\"false\" />\n        <template v-if=\"enableSocialSharing\">\n          <hr>\n          <SocialSharing :text=\"sharingMessage\" :title=\"title\" :url=\"browserUrl()\" />\n        </template>\n      </b-popover>\n    </b-button-group>\n  </nav>\n</template>\n\n<script>\nimport { mapState } from 'vuex';\nimport { defineAsyncComponent } from 'vue';\n\nimport Url from './Url.vue';\nimport CopyButton from './CopyButton.vue';\nimport SocialSharing from './SocialSharing.vue';\n\nexport default {\n  name: \"StacSource\",\n  components: {\n    Url,\n    CopyButton,\n    SocialSharing,\n    BPopover: defineAsyncComponent(() => import('bootstrap-vue-next').then(m => m.BPopover)),\n    Validation: defineAsyncComponent(() => import('./Validation.vue'))\n  },\n  props: {\n    title: {\n      type: String,\n      required: true\n    },\n    stacUrl: {\n      type: String,\n      default: null\n    },\n    stac: {\n      type: Object,\n      default: null\n    }\n  },\n  computed: {\n    ...mapState(['socialSharing', 'valid']),\n    stacVersion() {\n      return this.stac?.stac_version;\n    },\n    stacId() {\n      return this.stac?.id;\n    },\n    enableSocialSharing() {\n      return Array.isArray(this.socialSharing) && this.socialSharing.length > 0;\n    },\n    sharingMessage() {\n      const url = window.location.toString();\n      return this.$t('source.share.message', {title: this.title, url: url});\n    }\n  },\n  methods: {\n    browserUrl() {\n      return window.location.toString();\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.share {\n  display: flex;\n  gap: 0.25rem;\n}\n</style>\n<style lang=\"scss\">\n#popover-link .stac-id .btn-sm,\n#popover-link .stac-valid .btn-sm {\n    padding-top: 0.1rem;\n    padding-bottom: 0.1rem;\n    font-size: 0.7rem;\n}\n</style>\n"],"file":"StacSource-C7mfrigi.js"}