const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Keywords-CgVBYLgx.js","assets/BBadge.vue_vue_type_script_setup_true_lang-D9DEOOtU-DT4U9cv3.js","assets/index-4V-ffF_e.js","assets/utils-BXWzvTjY.js","assets/_commonjsHelpers-CE1G-McA.js","assets/I18N-DlIXJTel.js","assets/index-BchvTk2E.css","assets/ConditionalWrapper.vue_vue_type_script_lang-IX_NpHH--B1-KiooU.js","assets/Keywords-LHIkcT_2.css","assets/SearchFilter-DI9Ohlov.js","assets/BForm.vue_vue_type_script_setup_true_lang-u44ElAm9-JOGDlHFc.js","assets/BFormInput.vue_vue_type_script_setup_true_lang-DRDhfD8d-BfQIOFib.js","assets/useStateClass-BGbSLWFN-lMazZNQ7.js","assets/debounce-BHqBzJ1a-C7d6vPFW.js","assets/BFormRadioGroup.vue_vue_type_script_setup_true_lang-DaMHx4U3-CVtNDUBO.js","assets/BFormCheckboxGroup.vue_vue_type_script_setup_true_lang-Dx_mpGFE-D8d-yF4L.js","assets/BFormGroup.vue_vue_type_script_setup_true_lang-RIWLdYTY-Da2FjZq1.js","assets/BCard.vue_vue_type_script_setup_true_lang-9RhyvL8I-gB4qpKUU.js","assets/BDropdownText.vue_vue_type_script_setup_true_lang-Cm6QYE9x-CkqsLj0r.js","assets/startOfWeek-m7vVpAR3.js","assets/en-US-DRXoBfJp.js","assets/match-DN4VZKeM.js","assets/buildMatchPatternFn-_eSDZv-o.js","assets/Loading-DNWIspeX.js","assets/Loading-BLYcl2tz.css","assets/helper-CaHhXSPV.js","assets/helper-DO3U350M.js","assets/SearchFilter-TGT-1m2t.css","assets/Pagination-D-2v7C2f.js","assets/SortButtons-CrEd331B.js"])))=>i.map(i=>d[i]);
import{a4 as R,n as i,B as m,y as h,bk as L,bl as r,bx as V,x as T,p as a,q as o,v as H,K as n,G as s,L as d,H as l,I as p,ax as D,A as E,d as M,cF as U,bp as G,br as J,bs as A,bt as w,bu as k,at as Q,_ as W,b7 as X,bw as O}from"./index-4V-ffF_e.js";import{_ as z}from"./BBadge.vue_vue_type_script_setup_true_lang-D9DEOOtU-DT4U9cv3.js";import{_ as Y}from"./BCollapse.vue_vue_type_script_setup_true_lang-BUisG8-R-BlgZthnG.js";import{d as b}from"./utils-BXWzvTjY.js";import{F as Z,C as x}from"./CardMixin-DMJ_B6k-.js";import{f as P}from"./formatters-CAYh_mzR.js";import{c as ee,g as te,a as ie,b as se}from"./BCard.vue_vue_type_script_setup_true_lang-9RhyvL8I-gB4qpKUU.js";import{_ as ae}from"./BCardText.vue_vue_type_script_setup_true_lang-SRGbviaO-C7vVGdSM.js";import{L as ne}from"./Loading-DNWIspeX.js";import"./I18N-DlIXJTel.js";import"./_commonjsHelpers-CE1G-McA.js";import"./ConditionalWrapper.vue_vue_type_script_lang-IX_NpHH--B1-KiooU.js";import"./helper-DO3U350M.js";import"./datatypes-XrFOh23H.js";const re={viewBox:"0 0 16 16",width:"1.2em",height:"1.2em"};function oe(e,t){return i(),m("svg",re,[...t[0]||(t[0]=[h("path",{fill:"currentColor",d:"M6 10.5a.5.5 0 0 1 .5-.5h3a.5.5 0 0 1 0 1h-3a.5.5 0 0 1-.5-.5m-2-3a.5.5 0 0 1 .5-.5h7a.5.5 0 0 1 0 1h-7a.5.5 0 0 1-.5-.5m-2-3a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11a.5.5 0 0 1-.5-.5"},null,-1)])])}const le=R({name:"bi-filter",render:oe}),me=M({name:"Item",components:{StacLink:U,BCard:se,BCardImg:ie,BCardBody:te,BCardText:ae,BCardTitle:ee,Keywords:w(()=>k(()=>import("./Keywords-CgVBYLgx.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8])))},mixins:[Z,x],props:{item:{type:Object,required:!0}},computed:{...A(["showKeywordsInItemCards"]),...J(["getStac"]),data(){return this.getStac(this.item)},classes(){return{queued:!this.data,deprecated:this.isDeprecated,description:this.hasDescription}},extent(){return this.data&&(this.data.properties.start_datetime||this.data.properties.end_datetime)?[this.data.properties.start_datetime,this.data.properties.end_datetime]:null},displayTime(){return this.extent?P.formatTemporalExtent(this.extent):this.data&&this.data.properties.datetime?P.formatTimestamp(this.data.properties.datetime):this.$t("items.noTime")}},methods:{load(e){this.item instanceof G||this.$store.commit(e?"queue":"unqueue",this.item.getAbsoluteUrl())}}}),de={class:"card-img-wrapper"},ue=["innerHTML"];function pe(e,t,v,$,q,j){const g=r("b-card-img"),F=r("StacLink"),c=r("b-card-title"),y=z,f=r("b-card-text"),I=r("Keywords"),C=r("b-card-body"),S=r("b-card"),B=V("visible");return T((i(),a(S,{"no-body":"",class:E(["item-card",e.classes])},{default:o(()=>[h("div",de,[e.hasImage?(i(),a(g,H({key:0,class:"thumbnail"},e.thumbnail,{lazy:""}),null,16)):n("",!0)]),t[5]||(t[5]=s()),d(C,null,{default:o(()=>[d(c,null,{default:o(()=>[d(F,{data:[e.data,e.item],class:"stretched-link"},null,8,["data"])]),_:1}),t[2]||(t[2]=s()),e.fileFormats.length>0||e.hasDescription||e.isDeprecated?(i(),a(f,{key:0,class:"intro"},{default:o(()=>[e.isDeprecated?(i(),a(y,{key:0,variant:"warning",class:"me-1 mt-1 deprecated"},{default:o(()=>[s(l(e.$t("deprecated")),1)]),_:1})):n("",!0),t[0]||(t[0]=s()),(i(!0),m(p,null,D(e.fileFormats,_=>(i(),a(y,{key:_,variant:"secondary",class:"me-1 mt-1 fileformat"},{default:o(()=>[s(l(_),1)]),_:2},1024))),128)),t[1]||(t[1]=s()),e.hasDescription?(i(),m(p,{key:1},[s(l(e.summarizeDescription),1)],64)):n("",!0)]),_:1})):n("",!0),t[3]||(t[3]=s()),e.showKeywordsInItemCards&&e.keywords.length>0?(i(),a(I,{key:1,keywords:e.keywords,variant:"primary"},null,8,["keywords"])):n("",!0),t[4]||(t[4]=s()),d(f,null,{default:o(()=>[h("small",{class:"datetime",innerHTML:e.displayTime},null,8,ue)]),_:1})]),_:1})]),_:1},8,["class"])),[[B,e.load,void 0,{400:!0}]])}const he=L(me,[["render",pe]]),fe=M({name:"Items",components:{Item:he,SearchFilter:w(()=>k(()=>import("./SearchFilter-DI9Ohlov.js").then(e=>e.a),__vite__mapDeps([9,2,3,4,5,6,10,11,12,13,1,7,14,15,16,17,18,19,20,21,22,23,24,25,26,27]))),Loading:ne,Pagination:w(()=>k(()=>import("./Pagination-D-2v7C2f.js"),__vite__mapDeps([28,2,3,4,5,6]))),BCollapse:Y,SortButtons:w(()=>k(()=>import("./SortButtons-CrEd331B.js"),__vite__mapDeps([29,2,3,4,5,6])))},props:{items:{type:Array,required:!0},loading:{type:Boolean,default:!1},stac:{type:Object,required:!0},api:{type:Boolean,default:!1},allowFilter:{type:Boolean,default:!0},showFilters:{type:Boolean,default:!1},apiFilters:{type:Object,default:()=>({})},pagination:{type:Object,default:()=>({})},chunkSize:{type:Number,default:90},count:{type:Number,default:null}},emits:["filtersShown","filterItems","paginate"],data(){return{shownItems:this.chunkSize,filtersOpen:this.showFilters,sort:0}},computed:{...A(["cardViewSort","uiLanguage"]),itemCount(){return this.count!==null?this.count:!this.api&&this.items.length>0?this.items.length:null},hasMore(){return this.items.length>this.shownItems},filterCount(){return Object.values(this.apiFilters).filter(e=>!(e===null||b.size(e)===0)).length},hasFilters(){return this.filterCount>0},chunkedItems(){let e=this.items;if(!this.apiFilters.sortby&&this.sort!==0){const t=new Intl.Collator(this.uiLanguage);e=e.slice(0).sort((v,$)=>t.compare(O(v),O($))),this.sort===-1&&(e=e.reverse())}return!this.api&&this.items.length>this.chunkSize?e.slice(0,this.shownItems):e},showPagination(){if(this.api){if(this.hasFilters)return!0;if(this.items.length>0)return Object.values(this.pagination).some(e=>!!e)}return!1}},watch:{showFilters(){this.filter=this.showFilters},filtersOpen(){this.$emit("filtersShown",this.filtersOpen)}},created(){this.sort=b.convertHumanizedSortOrder(this.cardViewSort)},mounted(){this.showFilters&&setTimeout(()=>b.scrollTo(this.$el),250)},methods:{emitFilter(e,t){this.$emit("filterItems",e,t)},showMore(){this.shownItems+=this.chunkSize},paginate(e,t){t==="bottom"&&this.$refs.topPagination&&b.scrollTo(this.$refs.topPagination.$el),this.$emit("paginate",e)}}}),ge={class:"items mb-4"},ce={class:"title me-2"},ye={class:"list"},_e={key:1,class:"card-grid"};function be(e,t,v,$,q,j){const g=z,F=r("SortButtons"),c=r("Pagination"),y=le,f=W,I=r("SearchFilter"),C=r("b-collapse"),S=r("Loading"),B=r("Item"),_=X,K=Q,N=V("visible");return i(),m("section",ge,[h("header",null,[h("h2",ce,l(e.$t("stacItem",e.items.length)),1),t[2]||(t[2]=s()),e.itemCount!==null?(i(),a(g,{key:0,pill:"",variant:"secondary",class:"me-4"},{default:o(()=>[s(l(e.itemCount),1)]),_:1})):n("",!0),t[3]||(t[3]=s()),!e.api&&e.items.length>1?(i(),a(F,{key:1,modelValue:e.sort,"onUpdate:modelValue":t[0]||(t[0]=u=>e.sort=u)},null,8,["modelValue"])):n("",!0)]),t[6]||(t[6]=s()),e.showPagination?(i(),a(c,{key:0,ref:"topPagination",class:E(["mb-3",{"me-3":e.allowFilter}]),pagination:e.pagination,placement:"top",onPaginate:e.paginate},null,8,["class","pagination","onPaginate"])):n("",!0),t[7]||(t[7]=s()),e.allowFilter?(i(),m(p,{key:1},[e.api?T((i(),a(f,{key:0,class:"mb-3",variant:e.hasFilters&&!e.filtersOpen?"primary":"outline-primary"},{default:o(()=>[d(y),s(" "+l(e.filtersOpen?e.$t("items.hideFilter"):e.$t("items.showFilter"))+" ",1),e.hasFilters&&!e.filtersOpen?(i(),a(g,{key:0,variant:"dark"},{default:o(()=>[s(l(e.filterCount),1)]),_:1})):n("",!0)]),_:1},8,["variant"])),[[K,void 0,void 0,{itemFilter:!0}]]):n("",!0),t[4]||(t[4]=s()),d(C,{id:"itemFilter",modelValue:e.filtersOpen,"onUpdate:modelValue":t[1]||(t[1]=u=>e.filtersOpen=u)},{default:o(()=>[d(I,{type:"Items",title:e.$t("items.filter"),parent:e.stac,value:e.apiFilters,onInput:e.emitFilter},null,8,["title","parent","value","onInput"])]),_:1},8,["modelValue"])],64)):n("",!0),t[8]||(t[8]=s()),h("section",ye,[e.loading?(i(),a(S,{key:0,fill:"",top:""})):n("",!0),t[5]||(t[5]=s()),e.chunkedItems.length>0?(i(),m("div",_e,[(i(!0),m(p,null,D(e.chunkedItems,u=>(i(),a(B,{item:u,key:u.href},null,8,["item"]))),128))])):(i(),a(_,{key:2,variant:e.hasFilters?"warning":"info",show:""},{default:o(()=>[e.hasFilters?(i(),m(p,{key:0},[s(l(e.$t("search.noItemsFound")),1)],64)):(i(),m(p,{key:1},[s(l(e.$t("items.noneAvailableForCollection")),1)],64))]),_:1},8,["variant"]))]),t[9]||(t[9]=s()),e.showPagination?(i(),a(c,{key:2,class:"mb-3",pagination:e.pagination,onPaginate:e.paginate},null,8,["pagination","onPaginate"])):e.hasMore?T((i(),a(f,{key:3,onClick:e.showMore,variant:"primary"},{default:o(()=>[s(l(e.$t("showMore")),1)]),_:1},8,["onClick"])),[[N,e.showMore,void 0,{300:!0}]]):n("",!0)])}const De=L(fe,[["render",be]]);export{De as default};
//# sourceMappingURL=Items-CjbyvRC-.js.map
