{"version":3,"file":"mat4-CeypvY8Z.js","sources":["../../node_modules/ol/vec/mat4.js"],"sourcesContent":["/**\n * @module ol/vec/mat4\n */\n\n/** @typedef {Array<number>} Mat4 */\n\n/**\n * @return {Mat4} \"4x4 matrix representing a 3D identity transform.\"\n */\nexport function create() {\n  return [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\n}\n\n/**\n * @param {Mat4} mat4 Flattened 4x4 matrix receiving the result.\n * @param {import(\"../transform.js\").Transform} transform Transformation matrix.\n * @return {Mat4} \"2D transformation matrix as flattened 4x4 matrix.\"\n */\nexport function fromTransform(mat4, transform) {\n  mat4[0] = transform[0];\n  mat4[1] = transform[1];\n  mat4[4] = transform[2];\n  mat4[5] = transform[3];\n  mat4[12] = transform[4];\n  mat4[13] = transform[5];\n  return mat4;\n}\n\n/**\n * Generates a orthogonal projection matrix with the given bounds\n *\n * @param {number} left Left bound of the frustum\n * @param {number} right Right bound of the frustum\n * @param {number} bottom Bottom bound of the frustum\n * @param {number} top Top bound of the frustum\n * @param {number} near Near bound of the frustum\n * @param {number} far Far bound of the frustum\n * @param {Mat4} [out] mat4 frustum matrix will be written into\n * @return {Mat4} out\n */\nexport function orthographic(left, right, bottom, top, near, far, out) {\n  out = out ?? create();\n  const lr = 1 / (left - right),\n    bt = 1 / (bottom - top),\n    nf = 1 / (near - far);\n  out[0] = -2 * lr;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = -2 * bt;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 2 * nf;\n  out[11] = 0;\n  out[12] = (left + right) * lr;\n  out[13] = (top + bottom) * bt;\n  out[14] = (far + near) * nf;\n  out[15] = 1;\n  return out;\n}\n\n/**\n * Scales the mat4 by the dimensions in the given vec3\n *\n * @param {Mat4} m The matrix to scale.\n * @param {number} x How much to scale in the x direction.\n * @param {number} y How much to scale in the y direction.\n * @param {number} z How much to scale in the z direction.\n * @param {Mat4} [out] The matrix to write to.\n * @return {Mat4} out\n */\nexport function scale(m, x, y, z, out) {\n  out = out ?? create();\n  out[0] = m[0] * x;\n  out[1] = m[1] * x;\n  out[2] = m[2] * x;\n  out[3] = m[3] * x;\n  out[4] = m[4] * y;\n  out[5] = m[5] * y;\n  out[6] = m[6] * y;\n  out[7] = m[7] * y;\n  out[8] = m[8] * z;\n  out[9] = m[9] * z;\n  out[10] = m[10] * z;\n  out[11] = m[11] * z;\n  out[12] = m[12];\n  out[13] = m[13];\n  out[14] = m[14];\n  out[15] = m[15];\n  return out;\n}\n\n/**\n * Translate a matrix.\n *\n * @param {Mat4} m the matrix to translate\n * @param {number} x How much to translate in the x direction.\n * @param {number} y How much to translate in the y direction.\n * @param {number} z How much to translate in the z direction.\n * @param {Mat4} [out] the receiving matrix\n * @return {Mat4} out\n */\nexport function translate(m, x, y, z, out) {\n  out = out ?? create();\n  let a00, a01, a02, a03, a10, a11, a12, a13, a20, a21, a22, a23;\n\n  if (m === out) {\n    out[12] = m[0] * x + m[4] * y + m[8] * z + m[12];\n    out[13] = m[1] * x + m[5] * y + m[9] * z + m[13];\n    out[14] = m[2] * x + m[6] * y + m[10] * z + m[14];\n    out[15] = m[3] * x + m[7] * y + m[11] * z + m[15];\n  } else {\n    a00 = m[0];\n    a01 = m[1];\n    a02 = m[2];\n    a03 = m[3];\n    a10 = m[4];\n    a11 = m[5];\n    a12 = m[6];\n    a13 = m[7];\n    a20 = m[8];\n    a21 = m[9];\n    a22 = m[10];\n    a23 = m[11];\n\n    out[0] = a00;\n    out[1] = a01;\n    out[2] = a02;\n    out[3] = a03;\n    out[4] = a10;\n    out[5] = a11;\n    out[6] = a12;\n    out[7] = a13;\n    out[8] = a20;\n    out[9] = a21;\n    out[10] = a22;\n    out[11] = a23;\n\n    out[12] = a00 * x + a10 * y + a20 * z + m[12];\n    out[13] = a01 * x + a11 * y + a21 * z + m[13];\n    out[14] = a02 * x + a12 * y + a22 * z + m[14];\n    out[15] = a03 * x + a13 * y + a23 * z + m[15];\n  }\n\n  return out;\n}\n\n/**\n * @param {number} x x translation.\n * @param {number} y y translation.\n * @param {number} z z translation.\n * @param {Mat4} [out] optional matrix to store result\n * @return {Mat4} out\n */\nexport function translation(x, y, z, out) {\n  out = out ?? create();\n\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 0;\n  out[4] = 0;\n  out[5] = 1;\n  out[6] = 0;\n  out[7] = 0;\n  out[8] = 0;\n  out[9] = 0;\n  out[10] = 1;\n  out[11] = 0;\n  out[12] = x;\n  out[13] = y;\n  out[14] = z;\n  out[15] = 1;\n\n  return out;\n}\n"],"names":["create","fromTransform","mat4","transform","orthographic","left","right","bottom","top","near","far","out","lr","bt","nf","scale","m","x","y","z","translate","a00","a01","a02","a03","a10","a11","a12","a13","a20","a21","a22","a23","translation"],"mappings":"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","x_google_ignoreList":[0]}