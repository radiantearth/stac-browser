import{a4 as l,n,B as d,y as r,bk as y,p as u,q as b,F as g,G as C,C as w,v as x,z as _,_ as A}from"./index-4V-ffF_e.js";import"./utils-BXWzvTjY.js";import"./_commonjsHelpers-CE1G-McA.js";import"./I18N-DlIXJTel.js";var V=Object.defineProperty,B=(t,e,a)=>e in t?V(t,e,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[e]=a,p=(t,e,a)=>(B(t,typeof e!="symbol"?e+"":e,a),a);class z{constructor(){p(this,"seed",0),p(this,"data",new Map)}id(){return Date.now().toString(26)+this.seed++}add(e,a=this.id()){return this.data.set(a,e),a}get(e){return this.data.get(e)}delete(e){this.delete(e)}}const k="Failed to copy value to clipboard. Unknown type.",M={asString(t){if(t==null)return console.warn("Clipboard input is empty"),"";if(typeof t!="string")try{return JSON.stringify(t)}catch(e){return console.warn(k,e),""}return t}},S="position:fixed; pointer-events:none; z-index:-9999; opacity:0;",T={createTextarea(t){const e=document.createElement("textarea");return e.addEventListener("focusin",a=>{a.stopPropagation()}),e.value=t,e.setAttribute("readonly",""),e.style.cssText=S,e}},i={async requestClipboardPermission(){return navigator.permissions.query({name:"clipboard-write"})},async writeClipboard(t){return(await i.requestClipboardPermission()).state==="granted"?(await navigator.clipboard.writeText(t),!0):!1},writeClipboardExecCommand(t){const e=T.createTextarea(t);if(document.body.appendChild(e),navigator.userAgent.match(/ipad|ipod|iphone/i)){e.contentEditable="true",e.readOnly=!0;const s=document.createRange();s.selectNodeContents(e);const o=window.getSelection();o&&(o.removeAllRanges(),o.addRange(s),e.setSelectionRange(0,999999))}else e.select();const a=document.execCommand("copy");return document.body.removeChild(e),a},async copy(t){const e=typeof t=="function"?t():t,a=M.asString(e);if(i.writeClipboardExecCommand(a))return!0;await i.writeClipboard(a)}};new z;const E={viewBox:"0 0 16 16",width:"1.2em",height:"1.2em"};function L(t,e){return n(),d("svg",E,[...e[0]||(e[0]=[r("g",{fill:"currentColor"},[r("path",{d:"M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1z"}),r("path",{d:"M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0z"})],-1)])])}const h=l({name:"bi-clipboard",render:L}),P={viewBox:"0 0 16 16",width:"1.2em",height:"1.2em"};function $(t,e){return n(),d("svg",P,[...e[0]||(e[0]=[r("g",{fill:"currentColor"},[r("path",{"fill-rule":"evenodd",d:"M10.854 7.146a.5.5 0 0 1 0 .708l-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 1 1 .708-.708L7.5 9.793l2.646-2.647a.5.5 0 0 1 .708 0"}),r("path",{d:"M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1z"}),r("path",{d:"M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0z"})],-1)])])}const m=l({name:"bi-clipboard-check",render:$}),H={viewBox:"0 0 16 16",width:"1.2em",height:"1.2em"};function q(t,e){return n(),d("svg",H,[...e[0]||(e[0]=[r("g",{fill:"currentColor"},[r("path",{"fill-rule":"evenodd",d:"M6.146 7.146a.5.5 0 0 1 .708 0L8 8.293l1.146-1.147a.5.5 0 1 1 .708.708L8.707 9l1.147 1.146a.5.5 0 0 1-.708.708L8 9.707l-1.146 1.147a.5.5 0 0 1-.708-.708L7.293 9L6.146 7.854a.5.5 0 0 1 0-.708"}),r("path",{d:"M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1z"}),r("path",{d:"M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0z"})],-1)])])}const v=l({name:"bi-clipboard-x",render:q}),I={name:"CopyButton",components:{BIconClipboard:h,BIconClipboardCheck:m,BIconClipboardX:v},props:{copyText:{type:String,required:!0},variant:{type:String,default:"primary"},buttonProps:{type:Object,default:()=>({})}},data(){return{status:null}},computed:{copyColor(){let t=this.variant;return this.status===!0?t="success":this.status===!1&&(t="danger"),this.variant.startsWith("outline-")&&(t="outline-"+t),t},copyIcon(){return this.status===!0?m:this.status===!1?v:h}},methods:{async copy(){try{let t=document.activeElement;await i.copy(this.copyText),t.focus(),this.status=!0}catch(t){console.error(t),this.status=!1}setTimeout(()=>this.status=null,2500)}}};function R(t,e,a,s,o,c){const f=A;return n(),u(f,x({class:"copy-button",onClick:_(c.copy,["prevent","stop"]),variant:c.copyColor,title:t.$t("copy")},a.buttonProps),{default:b(()=>[(n(),u(g(c.copyIcon))),e[0]||(e[0]=C()),w(t.$slots,"default")]),_:3},16,["onClick","variant","title"])}const F=y(I,[["render",R]]);export{F as default};
//# sourceMappingURL=CopyButton-COmgd0rG.js.map
