import{I as o}from"./ImageCanvas-C-dT7xCH.js";import{a1 as h,bX as v,aB as g,aC as d}from"./GeoJSON-BZ9fdckc.js";import u from"./Image-K2ctYmdM.js";import"./index-BbFrorS9.js";import"./utils-UTZ1_q7B.js";import"./_commonjsHelpers-CE1G-McA.js";import"./I18N-DlIXJTel.js";import"./BFormRadioGroup.vue_vue_type_script_setup_true_lang-DaMHx4U3-BBqx6tDG.js";import"./useStateClass-BGbSLWFN-C17JUN4N.js";import"./ConditionalWrapper.vue_vue_type_script_lang-IX_NpHH--CnEOLsqn.js";import"./common-CdDQYRw0.js";import"./resolution-CU8ppKQ3.js";import"./common-9rOs42pz.js";class B extends u{constructor(t){t=t||{},super({attributions:t.attributions,interpolate:t.interpolate,projection:t.projection,resolutions:t.resolutions,state:t.state}),this.canvasFunction_=t.canvasFunction,this.canvas_=null,this.renderedRevision_=0,this.ratio_=t.ratio!==void 0?t.ratio:1.5}getImageInternal(t,i,s,r){i=this.findNearestResolution(i);let a=this.canvas_;if(a&&this.renderedRevision_==this.getRevision()&&a.getResolution()==i&&a.getPixelRatio()==s&&h(a.getExtent(),t))return a;t=t.slice(),v(t,this.ratio_);const n=g(t)/i,c=d(t)/i,m=[n*s,c*s],e=this.canvasFunction_.call(this,t,i,s,m,r);return e&&(a=new o(t,i,s,e)),this.canvas_=a,this.renderedRevision_=this.getRevision(),a}}export{B as default};
//# sourceMappingURL=ImageCanvas-CnA8Gw-p.js.map
