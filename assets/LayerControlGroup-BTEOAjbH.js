import{a4 as b,n,B as s,y as a,bk as x,bl as h,I as v,ax as V,L as m,q as c,H as L,G as d,z as C,_ as k,p as B,K as G,bt as w,bu as E}from"./index-B3F0456b.js";import{a as M}from"./BFormCheckboxGroup.vue_vue_type_script_setup_true_lang-Dx_mpGFE-DqSxmQei.js";import{c9 as j,G as z,L as P}from"./GeoJSON-BoRJWQIG.js";import"./utils-BXWzvTjY.js";import"./_commonjsHelpers-CE1G-McA.js";import"./I18N-DlIXJTel.js";import"./BFormRadioGroup.vue_vue_type_script_setup_true_lang-DaMHx4U3-DO3czC2y.js";import"./useStateClass-BGbSLWFN-eI-Q6wqs.js";import"./ConditionalWrapper.vue_vue_type_script_lang-IX_NpHH--5aly-L7g.js";const T={viewBox:"0 0 16 16",width:"1.2em",height:"1.2em"};function Z(o,e){return n(),s("svg",T,[...e[0]||(e[0]=[a("g",{fill:"currentColor"},[a("path",{"fill-rule":"evenodd",d:"M6.5 12a5.5 5.5 0 1 0 0-11a5.5 5.5 0 0 0 0 11M13 6.5a6.5 6.5 0 1 1-13 0a6.5 6.5 0 0 1 13 0"}),a("path",{d:"M10.344 11.742q.044.06.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1 1 0 0 0-.115-.1a6.5 6.5 0 0 1-1.398 1.4z"}),a("path",{"fill-rule":"evenodd",d:"M6.5 3a.5.5 0 0 1 .5.5V6h2.5a.5.5 0 0 1 0 1H7v2.5a.5.5 0 0 1-1 0V7H3.5a.5.5 0 0 1 0-1H6V3.5a.5.5 0 0 1 .5-.5"})],-1)])])}const N=b({name:"bi-zoom-in",render:Z}),O={name:"LayerControlGroup",components:{LayerControlGroup:w(()=>E(()=>Promise.resolve().then(()=>A),void 0))},mixins:[j],props:{map:{type:Object,required:!0},group:{type:Object,required:!0},maxZoom:{type:Number,default:void 0}},computed:{layers(){const o=this.group.getLayers().getArray(),e=[];for(const t of o){if(t.get("base"))continue;const u={group:t instanceof P?t.getLayers().getLength():0,layer:t,id:t.ol_uid,visible:t.getVisible(),title:this.getTitle(t)};e.push(u)}return e},visibleLayers:{get(){return this.layers.filter(o=>o.layer.getVisible()).map(o=>o.id)},set(o){for(const e of this.layers){const t=o.includes(e.id),i=e.layer.getVisible();t!==i&&e.layer.setVisible(t)}}}},methods:{setVisibility(o,e){o.layer.setVisible(e),o.visible=e},fitToExtent(o){o.visible||this.setVisibility(o,!0);let e=o.layer.getExtent(),t=o.layer.get("stac");if(t){let i=t.getBoundingBox();i||(t=t.getContext(),t&&(i=t.getBoundingBox())),i&&(e=z(i,"EPSG:4326",this.map.getView().getProjection()))}e&&this.map.getView().fit(e,{padding:[10,10,10,10],maxZoom:this.maxZoom})}}},$={class:"d-flex justify-content-between"},q={class:"title"};function H(o,e,t,i,u,l){const _=M,f=N,y=k,g=h("LayerControlGroup",!0);return n(),s("ul",null,[(n(!0),s(v,null,V(l.layers,r=>(n(),s("li",{key:r.id},[a("div",$,[m(_,{inline:"",name:r.id,"model-value":r.visible,"onUpdate:modelValue":p=>l.setVisibility(r,p)},{default:c(()=>[a("span",q,L(r.title),1)]),_:2},1032,["name","model-value","onUpdate:modelValue"]),e[0]||(e[0]=d()),m(y,{variant:"light",size:"sm",title:o.$t("mapping.fit"),onClick:C(p=>l.fitToExtent(r),["prevent","stop"])},{default:c(()=>[m(f)]),_:1},8,["title","onClick"])]),e[1]||(e[1]=d()),r.group>1?(n(),B(g,{key:0,map:t.map,group:r.layer,maxZoom:t.maxZoom},null,8,["map","group","maxZoom"])):G("",!0)]))),128))])}const S=x(O,[["render",H],["__scopeId","data-v-aedae47e"]]),A=Object.freeze(Object.defineProperty({__proto__:null,default:S},Symbol.toStringTag,{value:"Module"}));export{S as default};
//# sourceMappingURL=LayerControlGroup-BTEOAjbH.js.map
