import{am as S,aB as u,aC as I,u as O}from"./GeoJSON-CTJmEUIi.js";import{a as P}from"./uri-CBQxqsTo.js";import{getRequestExtent as L}from"./Image-CcNmFIG7.js";import"./index-Cz-qyBMt.js";import"./utils-BXWzvTjY.js";import"./_commonjsHelpers-CE1G-McA.js";import"./I18N-DlIXJTel.js";import"./BFormRadioGroup.vue_vue_type_script_setup_true_lang-DaMHx4U3-iTaKXlKn.js";import"./useStateClass-BGbSLWFN-CJCkc6HY.js";import"./ConditionalWrapper.vue_vue_type_script_lang-IX_NpHH--SPfgsp0S.js";import"./tilecoord-B42MAoC6.js";import"./common-CbVT3fsF.js";import"./resolution-CU8ppKQ3.js";import"./common-9rOs42pz.js";function f(r,e,s,o){const m=u(r),E=I(r),a=e[0],t=e[1],c=.0254/o;return t*m>a*E?m*s/(a*c):E*s/(t*c)}function C(r,e,s,o,m,E,a){const t=f(s,o,E,a),c=O(s),n={OPERATION:m?"GETDYNAMICMAPOVERLAYIMAGE":"GETMAPIMAGE",VERSION:"2.0.0",LOCALE:"en",CLIENTAGENT:"ol/source/ImageMapGuide source",CLIP:"1",SETDISPLAYDPI:a,SETDISPLAYWIDTH:Math.round(o[0]),SETDISPLAYHEIGHT:Math.round(o[1]),SETVIEWSCALE:t,SETVIEWCENTERX:c[0],SETVIEWCENTERY:c[1]};return Object.assign(n,e),P(r,n)}function w(r){const e=r.load||S,s=r.useOverlay??!1,o=r.metersPerUnit||1,m=r.displayDpi||96,E=r.ratio??1,a=r.crossOrigin??null;return function(t,c,n){const i=new Image;i.crossOrigin=a,t=L(t,c,n,E);const g=u(t)/c,T=I(t)/c,d=[g*n,T*n],p=C(r.url,r.params,t,d,s,o,m);return e(i,p).then(A=>({image:A,extent:t,pixelRatio:n}))}}export{w as createLoader};
//# sourceMappingURL=mapguide-CrMgDBDJ.js.map
