import{a4 as $,n as r,B as c,y as l,bk as B,bl as m,p as g,q as d,G as i,I as _,ax as V,L as f,A as E,H as p,K as h,bm as M,bn as b,bo as L,bp as v,bq as S}from"./index-B3F0456b.js";import{_ as z}from"./check-BmllPsZ3.js";import{d as C}from"./utils-BXWzvTjY.js";import{c as D,_ as I}from"./BDropdownText.vue_vue_type_script_setup_true_lang-Cm6QYE9x-DFV6AuEs.js";import"./I18N-DlIXJTel.js";import"./_commonjsHelpers-CE1G-McA.js";import"./ConditionalWrapper.vue_vue_type_script_lang-IX_NpHH--5aly-L7g.js";const N={viewBox:"0 0 16 16",width:"1.2em",height:"1.2em"};function T(a,t){return r(),c("svg",N,[...t[0]||(t[0]=[l("g",{fill:"currentColor"},[l("path",{d:"M7.938 2.016A.13.13 0 0 1 8.002 2a.13.13 0 0 1 .063.016a.15.15 0 0 1 .054.057l6.857 11.667c.036.06.035.124.002.183a.2.2 0 0 1-.054.06a.1.1 0 0 1-.066.017H1.146a.1.1 0 0 1-.066-.017a.2.2 0 0 1-.054-.06a.18.18 0 0 1 .002-.183L7.884 2.073a.15.15 0 0 1 .054-.057m1.044-.45a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767z"}),l("path",{d:"M7.002 12a1 1 0 1 1 2 0a1 1 0 0 1-2 0M7.1 5.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0z"})],-1)])])}const j=$({name:"bi-exclamation-triangle",render:T}),q={viewBox:"0 0 16 16",width:"1.2em",height:"1.2em"};function G(a,t){return r(),c("svg",q,[...t[0]||(t[0]=[l("path",{fill:"currentColor",d:"M14.778.085A.5.5 0 0 1 15 .5V8a.5.5 0 0 1-.314.464L14.5 8l.186.464l-.003.001l-.006.003l-.023.009a12 12 0 0 1-.397.15c-.264.095-.631.223-1.047.35c-.816.252-1.879.523-2.71.523c-.847 0-1.548-.28-2.158-.525l-.028-.01C7.68 8.71 7.14 8.5 6.5 8.5c-.7 0-1.638.23-2.437.477A20 20 0 0 0 3 9.342V15.5a.5.5 0 0 1-1 0V.5a.5.5 0 0 1 1 0v.282c.226-.079.496-.17.79-.26C4.606.272 5.67 0 6.5 0c.84 0 1.524.277 2.121.519l.043.018C9.286.788 9.828 1 10.5 1c.7 0 1.638-.23 2.437-.477a20 20 0 0 0 1.349-.476l.019-.007l.004-.002h.001M14 1.221c-.22.078-.48.167-.766.255c-.81.252-1.872.523-2.734.523c-.886 0-1.592-.286-2.203-.534l-.008-.003C7.662 1.21 7.139 1 6.5 1c-.669 0-1.606.229-2.415.478A21 21 0 0 0 3 1.845v6.433c.22-.078.48-.167.766-.255C4.576 7.77 5.638 7.5 6.5 7.5c.847 0 1.548.28 2.158.525l.028.01C9.32 8.29 9.86 8.5 10.5 8.5c.668 0 1.606-.229 2.415-.478A21 21 0 0 0 14 7.655V1.222z"},null,-1)])])}const O=$({name:"bi-flag",render:G}),U={name:"LanguageChooser",components:{BDropdown:I,BDropdownItem:D},props:{data:{type:Object,default:null},locales:{type:Array,default:()=>[]},currentLocale:{type:String,required:!0}},emits:["setLocale"],computed:{dataLanguages(){let a=[];if(this.data instanceof v){const t=this.data.getMetadata("languages");Array.isArray(t)&&t.length>0&&(a=t.slice()),a.unshift(this.data.getMetadata("language"))}return a.filter(t=>C.isObject(t)&&typeof t.code=="string")},supportsLanguageExt(){return this.data instanceof v&&this.data.supportsExtension(S)},currentLanguage(){let a=this.languages.find(t=>t.code===this.currentLocale);return a?a.native:"-"},languages(){let a=[];for(let e of this.locales){const n=`languages.${e}.transliteration`;a.push({code:e,native:this.$t(`languages.${e}.native`),global:this.$t(`languages.${e}.global`),transliteration:this.$te(n)?this.$t(n):null,ui:!0})}const t=M(this.data);for(let e of t){if(!C.isObject(e)||!e.code||this.locales.includes(e.code))continue;let n={code:e.code};n.native=e.name||e.alternate||e.code,n.global=e.alternate||e.name||e.code,n.data=!0,a.push(n)}if(this.supportsLanguageExt){const e=b(this.locales),n=b(t.map(o=>o.code));for(let o of a)o.ui||(o.ui=!!L(e,o.code,null)),o.data||(o.data=!!L(n,o.code,null))}const u=new Intl.Collator("en",{sensitivity:"base"});return a.sort((e,n)=>u.compare(e.transliteration||e.native,n.transliteration||n.native))}},methods:{setLocale(a){this.$emit("setLocale",a)}}},H={class:"button-label"},F={class:"title"},K=["lang"],R={lang:"en"};function X(a,t,u,e,n,o){const y=O,w=z,A=j,k=m("b-dropdown-item"),x=m("b-dropdown");return r(),g(x,{size:"sm",variant:"primary",right:"",title:a.$t("source.language.switch")},{"button-content":d(()=>[f(y),l("span",H,p(a.$t("source.language.label",{currentLanguage:o.currentLanguage})),1)]),default:d(()=>[t[4]||(t[4]=i()),(r(!0),c(_,null,V(o.languages,s=>(r(),g(k,{key:s.code,class:"lang-item",onClick:J=>o.setLocale(s.code)},{default:d(()=>[f(w,{class:E({hide:u.currentLocale!==s.code})},null,8,["class"]),t[2]||(t[2]=i()),l("span",F,[l("span",{lang:s.code},p(s.native),9,K),t[1]||(t[1]=i()),s.global&&s.global!==s.native?(r(),c(_,{key:0},[t[0]||(t[0]=i(" / ",-1)),l("span",R,p(s.global),1)],64)):h("",!0)]),t[3]||(t[3]=i()),o.supportsLanguageExt&&(!s.ui||!s.data)?(r(),g(A,{key:0,title:s.ui?a.$t("source.language.onlyUI"):a.$t("source.language.onlyData"),class:"ms-2"},null,8,["title"])):h("",!0)]),_:2},1032,["onClick"]))),128))]),_:1},8,["title"])}const at=B(U,[["render",X],["__scopeId","data-v-cde70a36"]]);export{at as default};
//# sourceMappingURL=LanguageChooser-izdawLgl.js.map
